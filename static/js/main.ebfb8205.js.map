{"version":3,"file":"static/js/main.ebfb8205.js","mappings":"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","sources":["App.web.js","index.web.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity, ScrollView, Animated, Image, PanResponder, Vibration, Easing, Platform, useWindowDimensions } from 'react-native';\n\n\n// For trendy, minimalist color palette\nconst COLORS = {\n  primary: '#121212',       // Instagram-like dark theme\n  secondary: '#262626',     // Secondary dark\n  accent1: '#0095F6',       // Instagram blue\n  accent2: '#833AB4',       // Instagram purple (from gradient)\n  accent3: '#FD1D1D',       // Instagram red/pink (from gradient)\n  accent4: '#FCAF45',       // Instagram yellow/orange (from gradient)\n  light: '#FFFFFF',         // White\n  white: '#FFFFFF',         // White\n  black: '#000000',         // Black\n  lightGray: '#FAFAFA',     // Instagram background gray\n  midGray: '#8e8e8e',       // Instagram caption gray\n  darkGray: '#262626',      // Dark text\n  glassBg: 'rgba(255,255,255,0.8)',\n  highlight: '#EFEFEF',     // Instagram highlight\n  border: '#DBDBDB',        // Instagram border\n  // Added for AI Curation form consistency\n  background: '#FFFFFF', // Assuming a light theme for the form page itself\n  text: '#1A1A1A', // Primary text color\n  textInputBackground: '#F8F8F8',\n  card: '#FFFFFF',\n  shadow: '#000000',\n  buttonPrimaryText: '#FFFFFF', // Text color for primary buttons\n  error: '#FF3B30', // New error color\n  textSecondary: '#666666', // New secondary text color\n  primaryPeachy: '#FFA07A', // New peachy accent\n  primaryPeachyDark: '#FF8C69', // New darker peachy accent\n  borderLight: '#E8E8E8', // New light border color\n};\n\n// Helper function to convert hex to rgba\nconst hexToRgba = (hex, alpha) => {\n  if (!hex || typeof hex !== 'string') {\n    console.warn('hexToRgba received invalid hex value:', hex);\n    return `rgba(0, 0, 0, ${alpha || 0})`;\n  }\n  const r = parseInt(hex.slice(1, 3), 16);\n  const g = parseInt(hex.slice(3, 5), 16);\n  const b = parseInt(hex.slice(5, 7), 16);\n  return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n};\n\n// Helper function to lighten or darken a color\nconst shadeColor = (color, percent) => {\n  let R = parseInt(color.substring(1, 3), 16);\n  let G = parseInt(color.substring(3, 5), 16);\n  let B = parseInt(color.substring(5, 7), 16);\n\n  R = parseInt(R * (100 + percent) / 100, 10);\n  G = parseInt(G * (100 + percent) / 100, 10);\n  B = parseInt(B * (100 + percent) / 100, 10);\n\n  R = (R < 255) ? R : 255;\n  G = (G < 255) ? G : 255;\n  B = (B < 255) ? B : 255;\n\n  R = (R > 0) ? R : 0;\n  G = (G > 0) ? G : 0;\n  B = (B > 0) ? B : 0;\n\n  const RR = ((R.toString(16).length === 1) ? `0${R.toString(16)}` : R.toString(16));\n  const GG = ((G.toString(16).length === 1) ? `0${G.toString(16)}` : G.toString(16));\n  const BB = ((B.toString(16).length === 1) ? `0${B.toString(16)}` : B.toString(16));\n\n  return `#${RR}${GG}${BB}`;\n};\n\n// Mock data for testing\nconst mockProducts = [\n  {\n    id: '1',\n    title: 'Dyson Supersonic™ Hair Dryer',\n    brand: 'Dyson',\n    priceRange: [399, 429],\n    category: 'haircare',\n    tags: ['premium', 'tech', 'beauty'],\n    images: [\n      'https://images.unsplash.com/photo-1620331317314-530796315638?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60', // Placeholder if original fails\n      // ... other images\n    ],\n    rating: 4.9,\n    description: 'Fast drying. No extreme heat. Engineered for different hair types.',\n    whyBuyThis: 'Top-tier haircare tech. Protects hair while drying fast. Iconic. ✨',\n    affiliateUrl: 'https://www.dyson.com/hair-care/hair-dryers/supersonic'\n  },\n  // ... other mock products\n];\n\n\n// Persona definitions\nconst personas = [\n  {\n    id: 'trendsetter',\n    name: 'The Trendsetter',\n    icon: 'https://images.unsplash.com/photo-1517841905240-472988babdf9?w=100&h=100&fit=crop&crop=faces', // New stylish person\n    description: 'Always ahead of the curve, seeks stylish, innovative, and often premium products. Values aesthetics and being an early adopter.',\n    color: '#EF4444', // Red\n  },\n  {\n    id: 'optimizer',\n    name: 'The Productivity Optimizer',\n    icon: 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=100&h=100&fit=crop&crop=faces', // New focused person\n    description: 'Focuses on efficiency, performance, and tools that enhance workflow. Values quality, reliability, and time-saving features.',\n    color: '#06B6D4', // Cyan\n  },\n  {\n    id: 'conscious',\n    name: 'The Conscious Consumer',\n    icon: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&crop=faces', // New thoughtful person\n    description: 'Prioritizes sustainability, ethical sourcing, and minimalist design. Values durability, natural materials, and brands with a positive impact.',\n    color: '#10B981', // Emerald\n  },\n  {\n    id: 'student', // Kept 'student' id for consistency with student-pick tags\n    name: 'The Budget Savvy Student',\n    icon: 'https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=100&h=100&fit=crop&crop=faces', // Existing student group image\n    description: 'Looks for the best value, practical items for study and campus life, and enjoys student discounts and deals.',\n    color: '#8B5CF6', // Purple\n  },\n];\n\n// Life Moments definitions\nconst lifeMoments = [\n  {\n    id: 'new-arrival',\n    name: 'Welcoming a New Arrival',\n    icon: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=100&h=100&fit=crop',\n    description: 'Essential items for new parents and creating a nurturing environment for your little one.',\n    color: '#F8BBD0', // Soft pink\n  },\n  {\n    id: 'career-launch',\n    name: 'Embarking on a Career',\n    icon: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop',\n    description: 'Professional gear and essentials for starting a new job or advancing your career.',\n    color: '#1E88E5', // Professional blue\n  },\n  {\n    id: 'sanctuary',\n    name: 'Creating a Sanctuary',\n    icon: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=100&h=100&fit=crop',\n    description: 'Transform your space into a comfortable, stylish haven that reflects your personality.',\n    color: '#7E57C2', // Elegant purple\n  },\n  {\n    id: 'golden-years',\n    name: 'Embracing Golden Years',\n    icon: 'https://images.unsplash.com/photo-1559137200-670cc1ec5ba9?w=100&h=100&fit=crop',\n    description: 'Products for comfort, new hobbies, and embracing life\\'s next adventure with grace.',\n    color: '#FF7043', // Warm orange\n  },\n  {\n    id: 'gamer-setup',\n    name: 'The Ultimate Gamer Setup',\n    icon: 'https://images.unsplash.com/photo-1511512578047-dfb367046420?w=100&h=100&fit=crop',\n    description: 'Build the ultimate gaming station with premium gear for peak performance and immersion.',\n    color: '#00E676', // Electric green\n  },\n  {\n    id: 'sustainable-living',\n    name: 'Sustainable Living Refresh',\n    icon: 'https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=100&h=100&fit=crop',\n    description: 'Eco-friendly choices that reduce your footprint while enhancing your lifestyle.',\n    color: '#4CAF50', // Earth green\n  },\n  {\n    id: 'wellness-retreat',\n    name: 'Weekend Wellness Retreat',\n    icon: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=100&h=100&fit=crop',\n    description: 'Self-care essentials for relaxation, mindfulness, and personal rejuvenation.',\n    color: '#9C27B0', // Wellness purple\n  },\n  {\n    id: 'perfect-hosting',\n    name: 'Hosting the Perfect Gathering',\n    icon: 'https://images.unsplash.com/photo-1529543638269-d38c4d5a0d35?w=100&h=100&fit=crop',\n    description: 'Everything you need to create memorable experiences for friends and family.',\n    color: '#FF5722', // Festive orange-red\n  },\n];\n\n// Add trending products for life moments\nconst trendingByLifeMoment = {\n  'new-parent': [\n    {\n      id: 'trend-np-1',\n      title: 'UPPAbaby VISTA V2 Stroller',\n      price: 999.99,\n      rating: 4.9,\n      description: 'Expandable stroller system with premium features and multiple configurations.',\n      link: 'https://uppababy.com',\n      tags: ['baby', 'stroller', 'premium', 'newborn'],\n      category: 'baby',\n      whyBuy: 'The gold standard for growing families with exceptional build quality and versatility.',\n      insights: [\n        { label: 'Quality', value: 97, color: '#FF5757' },\n        { label: 'Versatility', value: 95, color: '#32D74B' },\n        { label: 'Ease of Use', value: 90, color: '#4E7CFF' },\n        { label: 'Value', value: 82, color: '#BF5AF2' }\n      ]\n    },\n    {\n      id: 'trend-np-2',\n      title: 'Snoo Smart Bassinet',\n      price: 1495,\n      rating: 4.7,\n      description: 'Smart bassinet that automatically responds to your baby to improve sleep.',\n      link: 'https://www.happiestbaby.com',\n      tags: ['baby', 'bassinet', 'smart', 'premium', 'sleep'],\n      category: 'baby',\n      whyBuy: 'Helps babies sleep longer with responsive technology that mimics the womb.',\n      insights: [\n        { label: 'Sleep Tech', value: 98, color: '#FF5757' },\n        { label: 'Design', value: 95, color: '#32D74B' },\n        { label: 'Safety', value: 96, color: '#4E7CFF' },\n        { label: 'Value', value: 75, color: '#BF5AF2' }\n      ]\n    },\n    {\n      id: 'trend-np-3',\n      title: 'Owlet Smart Sock Plus',\n      price: 299,\n      rating: 4.6,\n      description: 'Tracks baby\\'s oxygen and heart rate while they sleep, with notifications.',\n      link: 'https://owletcare.com',\n      tags: ['baby', 'monitor', 'smart', 'health', 'sleep'],\n      category: 'baby',\n      whyBuy: 'Peace of mind for anxious parents with medical-grade monitoring technology.',\n      insights: [\n        { label: 'Accuracy', value: 93, color: '#FF5757' },\n        { label: 'Ease of Use', value: 88, color: '#32D74B' },\n        { label: 'Battery Life', value: 85, color: '#4E7CFF' },\n        { label: 'Value', value: 83, color: '#BF5AF2' }\n      ]\n    }\n  ],\n  'graduation': [\n    {\n      id: 'trend-grad-1',\n      title: 'iPad Air 11\"',\n      price: 599,\n      rating: 4.8,\n      description: 'Powerful and versatile tablet with M1 chip for productivity and creative work.',\n      link: 'https://www.apple.com/ipad-air',\n      tags: ['tech', 'tablet', 'gift', 'premium', 'productivity'],\n      category: 'electronics',\n      whyBuy: 'Perfect balance of power and portability for college or new job tasks.',\n      insights: [\n        { label: 'Performance', value: 92, color: '#FF5757' },\n        { label: 'Portability', value: 95, color: '#32D74B' },\n        { label: 'Display', value: 94, color: '#4E7CFF' },\n        { label: 'Value', value: 86, color: '#BF5AF2' }\n      ]\n    },\n    {\n      id: 'trend-grad-2',\n      title: 'Bose QC Ultra Headphones',\n      price: 429,\n      rating: 4.7,\n      description: 'Premium noise cancelling headphones with spatial audio and excellent comfort.',\n      link: 'https://www.bose.com',\n      tags: ['audio', 'noise-cancelling', 'premium', 'gift'],\n      category: 'audio',\n      whyBuy: 'Best-in-class noise cancellation perfect for focusing in shared spaces.',\n      insights: [\n        { label: 'Sound Quality', value: 96, color: '#FF5757' },\n        { label: 'Noise Cancelling', value: 98, color: '#32D74B' },\n        { label: 'Comfort', value: 95, color: '#4E7CFF' },\n        { label: 'Battery Life', value: 90, color: '#BF5AF2' }\n      ]\n    }\n  ],\n  'home-setup': [\n    {\n      id: 'trend-home-1',\n      title: 'Herman Miller Aeron Chair',\n      price: 1695,\n      rating: 4.9,\n      description: 'Ergonomic office chair with adjustable posture support and breathable mesh.',\n      link: 'https://www.hermanmiller.com',\n      tags: ['office', 'chair', 'ergonomic', 'premium', 'comfort'],\n      category: 'furniture',\n      whyBuy: 'The gold standard for ergonomic seating, essential for all-day comfort.',\n      insights: [\n        { label: 'Comfort', value: 96, color: '#FF5757' },\n        { label: 'Durability', value: 97, color: '#32D74B' },\n        { label: 'Adjustability', value: 95, color: '#4E7CFF' },\n        { label: 'Value', value: 80, color: '#BF5AF2' }\n      ]\n    },\n    {\n      id: 'trend-home-2',\n      title: 'LG 34\" UltraWide Monitor',\n      price: 799,\n      rating: 4.7,\n      description: 'Ultra-wide curved monitor with high resolution for immersive multitasking.',\n      link: 'https://www.lg.com',\n      tags: ['monitor', 'tech', 'productivity', 'premium'],\n      category: 'electronics',\n      whyBuy: 'Significantly boosts productivity with screen space for multiple applications.',\n      insights: [\n        { label: 'Display Quality', value: 93, color: '#FF5757' },\n        { label: 'Screen Size', value: 96, color: '#32D74B' },\n        { label: 'Connectivity', value: 90, color: '#4E7CFF' },\n        { label: 'Value', value: 87, color: '#BF5AF2' }\n      ]\n    }\n  ],\n  'travel-prep': [\n    {\n      id: 'trend-travel-1',\n      title: 'Away The Medium Suitcase',\n      price: 345,\n      rating: 4.8,\n      description: 'Durable hardside suitcase with 360° spinner wheels and built-in battery.',\n      link: 'https://www.awaytravel.com',\n      tags: ['travel', 'luggage', 'premium', 'portable'],\n      category: 'travel',\n      whyBuy: 'Perfect checked luggage size with thoughtful features and lifetime warranty.',\n      insights: [\n        { label: 'Durability', value: 94, color: '#FF5757' },\n        { label: 'Design', value: 96, color: '#32D74B' },\n        { label: 'Features', value: 92, color: '#4E7CFF' },\n        { label: 'Value', value: 88, color: '#BF5AF2' }\n      ]\n    },\n    {\n      id: 'trend-travel-2',\n      title: 'Apple AirTag (4 Pack)',\n      price: 99,\n      rating: 4.7,\n      description: 'Precision finding devices to track and locate your important items.',\n      link: 'https://www.apple.com/airtag',\n      tags: ['travel', 'tech', 'accessories', 'tracking'],\n      category: 'electronics',\n      whyBuy: 'Peace of mind for all your valuable luggage and items when traveling.',\n      insights: [\n        { label: 'Tracking Accuracy', value: 95, color: '#FF5757' },\n        { label: 'Battery Life', value: 90, color: '#32D74B' },\n        { label: 'Ecosystem', value: 98, color: '#4E7CFF' },\n        { label: 'Value', value: 85, color: '#BF5AF2' }\n      ]\n    }\n  ]\n};\n\n// Add mood board aesthetics and social bundles to the top level data\nconst moodBoards = [\n  {\n    id: 'minimalist',\n    name: 'Minimalist',\n    emoji: '◻️',\n    color: '#000000',\n    cursiveDescription: 'where less becomes more, and silence speaks volumes',\n    philosophyText: 'The art of intentional living through curated simplicity',\n    coverImage: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=600&auto=format&fit=crop',\n    gradient: 'linear-gradient(135deg, rgba(0,0,0,0.7), rgba(40,40,40,0.8))'\n  },\n  {\n    id: 'cottagecore',\n    name: 'Cottagecore',\n    emoji: '🌿',\n    color: '#6B8E23',\n    cursiveDescription: 'embracing the gentle rhythm of nature\\'s timeless embrace',\n    philosophyText: 'Romantic nostalgia meets sustainable living in perfect harmony',\n    coverImage: 'https://images.unsplash.com/photo-1516192518150-0d8fee5425e3?q=80&w=600&auto=format&fit=crop',\n    gradient: 'linear-gradient(135deg, rgba(107,142,35,0.7), rgba(85,107,47,0.8))'\n  },\n  {\n    id: 'cyberpunk',\n    name: 'Cyberpunk',\n    emoji: '⚡',\n    color: '#FF0080',\n    cursiveDescription: 'future noir aesthetics dancing with neon dreams',\n    philosophyText: 'High-tech rebellion meets dark urban sophistication',\n    coverImage: 'https://images.unsplash.com/photo-1518709414923-fcf25c3432c1?q=80&w=600&auto=format&fit=crop',\n    gradient: 'linear-gradient(135deg, rgba(255,0,128,0.8), rgba(128,0,255,0.7))'\n  },\n  {\n    id: 'clean-girl',\n    name: 'Clean Girl',\n    emoji: '✨',\n    color: '#F5F5DC',\n    cursiveDescription: 'effortless beauty in its most authentic, radiant form',\n    philosophyText: 'Understated elegance that celebrates natural confidence',\n    coverImage: 'https://images.unsplash.com/photo-1594736797933-d0e501ba2fe6?q=80&w=600&auto=format&fit=crop',\n    gradient: 'linear-gradient(135deg, rgba(245,245,220,0.9), rgba(250,240,230,0.8))'\n  },\n  {\n    id: 'dark-academia',\n    name: 'Dark Academia',\n    emoji: '📚',\n    color: '#8B4513',\n    cursiveDescription: 'intellectual romance wrapped in ivy-covered mystery',\n    philosophyText: 'Scholarly elegance meets gothic sophistication',\n    coverImage: 'https://images.unsplash.com/photo-1481627834876-b7833e8f5570?q=80&w=600&auto=format&fit=crop',\n    gradient: 'linear-gradient(135deg, rgba(139,69,19,0.8), rgba(85,60,42,0.9))'\n  },\n  {\n    id: 'soft-luxury',\n    name: 'Soft Luxury',\n    emoji: '🤍',\n    color: '#F8F6F0',\n    cursiveDescription: 'whispered opulence in textures that embrace the soul',\n    philosophyText: 'Refined indulgence through tactile elegance and muted grandeur',\n    coverImage: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?q=80&w=600&auto=format&fit=crop',\n    gradient: 'linear-gradient(135deg, rgba(248,246,240,0.95), rgba(240,235,225,0.9))'\n  }\n];\n\nconst socialBundles = [\n  {\n    id: 'clean-family-essentials',\n    title: 'Clean Family Essentials',\n    creator: {\n      name: 'Sarah Martinez',\n      avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&auto=format',\n      verified: true,\n      location: 'Austin, TX',\n      story: 'Mom of 4 kids under 10',\n      bio: 'After my youngest developed severe eczema, I transformed our entire household to clean, non-toxic products. Every item here has been kid-tested and mom-approved in our chaotic but loving home.',\n      instagramHandle: '@sarahmartinez_cleanliving',\n      instagramUrl: 'https://instagram.com/sarahmartinez_cleanliving',\n      curationProcess: 'Handpicked through 18 months of trial and error, pediatric dermatologist consultations, and real-world testing with four active kids.',\n      personalNote: 'These products helped clear my son\\'s eczema and gave me peace of mind as a mother. I only recommend what truly works in our home.',\n      videoTestimonial: true\n    },\n    likes: 8234,\n    saves: 2156,\n    products: [\n      mockProducts[4], // Clean beauty products\n      trendingByLifeMoment['new-parent'][0], // Baby-safe items\n      trendingByLifeMoment['new-parent'][1], // Non-toxic essentials\n    ],\n    coverImage: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?q=80&w=500&auto=format',\n    tags: ['clean-living', 'mom-approved', 'eczema-safe', 'non-toxic']\n  },\n  {\n    id: 'mindful-productivity',\n    title: 'Mindful Productivity Sanctuary',\n    creator: {\n      name: 'David Kim',\n      avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&auto=format',\n      verified: true,\n      location: 'Seattle, WA', \n      story: 'Former burnout survivor turned mindful entrepreneur',\n      bio: 'After a stress-induced breakdown at 28, I rebuilt my work life around intentional tools and spaces. This setup helped me find balance while building my consulting business.',\n      instagramHandle: '@davidkim_mindfulwork',\n      instagramUrl: 'https://instagram.com/davidkim_mindfulwork',\n      curationProcess: 'Developed over 3 years of experimenting with productivity methods, consulting ergonomic specialists, and prioritizing mental health.',\n      personalNote: 'This setup saved my career and my sanity. Every piece serves both function and mindfulness.',\n      videoTestimonial: true\n    },\n    likes: 5672,\n    saves: 1843,\n    products: [\n      mockProducts[0], // MacBook Pro\n      trendingByLifeMoment['home-setup'][0], // Herman Miller chair\n      trendingByLifeMoment['home-setup'][1] // Ergonomic accessories\n    ],\n    coverImage: 'https://images.unsplash.com/photo-1605565348518-bef3e7d6fed8?q=80&w=500&auto=format',\n    tags: ['mindfulness', 'productivity', 'mental-health', 'ergonomic']\n  },\n  {\n    id: 'sustainable-student-life',\n    title: 'Sustainable Student Life',\n    creator: {\n      name: 'Emma Rodriguez',\n      avatar: 'https://images.unsplash.com/photo-1517841905240-472988babdf9?w=100&auto=format',\n      verified: true,\n      location: 'Berkeley, CA',\n      story: 'Environmental science student on a budget',\n      bio: 'Studying climate change made me realize I needed to live my values, even on a student budget. These products prove sustainability doesn\\'t have to break the bank.',\n      instagramHandle: '@emma_sustainablestudent', \n      instagramUrl: 'https://instagram.com/emma_sustainablestudent',\n      curationProcess: 'Researched and tested over 2 years, balancing environmental impact, durability, and student budget constraints.',\n      personalNote: 'Proving that living sustainably as a student is possible and actually saves money long-term.',\n      videoTestimonial: true\n    },\n    likes: 4156,\n    saves: 1274,\n    products: [\n      trendingByLifeMoment['travel-prep'][1], // Sustainable travel items\n      trendingByLifeMoment['new-parent'][2], // Budget-friendly options\n      mockProducts[6] // Eco-friendly tech\n    ],\n    coverImage: 'https://images.unsplash.com/photo-1544126592-807ade215a0b?q=80&w=500&auto=format',\n    tags: ['sustainability', 'student-budget', 'eco-friendly', 'climate-conscious']\n  }\n];\n\n// Add missing openExternalLink function\nconst openExternalLink = (url) => {\n  if (typeof window !== 'undefined') {\n    window.open(url, '_blank', 'noopener,noreferrer');\n  }\n};\n\n// Add trending data for TrendRadar\nconst trendRadarData = [\n  {\n    id: 1,\n    title: 'Sony WH-1000XM5',\n    category: 'ELECTRONICS',\n    image: 'https://images.unsplash.com/photo-1618366712010-f4ae9c647dcb?w=800&h=600&fit=crop&crop=center', // Actual Sony headphones image\n    trendChange: '↗ 28%',\n    isViral: true,\n    brandUrl: 'https://electronics.sony.com/audio/headphones/headband/p/wh1000xm5-l?mg=shopping&gad_source=1&gad_campaignid=22224130485&gbraid=0AAAAABiDjZjIa5DKjAugccBx3T6KuLFCb&gclid=CjwKCAjwi-DBBhA5EiwAXOHsGWew3GWTaHne6281N8_BDpE5qZdrbJcIgxWOT5Uz-yy9oisBKpJKBRoCdkgQAvD_BwE&gclsrc=aw.ds'\n  },\n  {\n    id: 2,\n    title: 'Dyson Air Purifier',\n    category: 'HOME',\n    image: 'https://dyson-h.assetsadobe2.com/is/image/content/dam/dyson/products/air-treatment/purifiers/hp07/dyson-purifier-hot-cool-hp07-black-nickel-hero-01.png?wid=600&hei=600&fmt=png-alpha', // Official Dyson product image\n    trendChange: '↗ 16%',\n    isViral: false,\n    brandUrl: 'https://www.dyson.com/air-treatment/air-purifier-heaters/purifier-hot-cool-hp07/black-nickel'\n  },\n  {\n    id: 3,\n    title: 'Away Luggage',\n    category: 'TRAVEL',\n    image: 'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=800&h=600&fit=crop&crop=center',\n    trendChange: '↗ 45%',\n    isViral: true\n    // No brandUrl - will search for product instead of direct link\n  },\n  {\n    id: 4,\n    title: 'Kindle Paperwhite',\n    category: 'READING',\n    image: 'https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=800&h=600&fit=crop&crop=center',\n    trendChange: '↗ 12%',\n    isViral: false,\n    brandUrl: 'https://www.amazon.com/kindle-paperwhite/dp/B08KTZ8249'\n  }\n];\n\n// Product categories for visual entry points\nconst productCategories = [\n  {\n    id: 'tech',\n    name: 'Technology',\n    image: 'https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=600&h=600&fit=crop',\n    color: '#6366F1',\n    description: 'innovation meets intentional design'\n  },\n  {\n    id: 'audio',\n    name: 'Audio',\n    image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=600&h=600&fit=crop',\n    color: '#8B5CF6',\n    description: 'sound engineered for the discerning ear'\n  },\n  {\n    id: 'home',\n    name: 'Home & Living',\n    image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=600&h=600&fit=crop',\n    color: '#06B6D4',\n    description: 'spaces that nurture the soul'\n  },\n  {\n    id: 'travel',\n    name: 'Travel',\n    image: 'https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=600&h=600&fit=crop',\n    color: '#10B981',\n    description: 'wanderlust essentials for the mindful explorer'\n  },\n  {\n    id: 'fitness',\n    name: 'Fitness',\n    image: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600&h=600&fit=crop',\n    color: '#F59E0B',\n    description: 'wellness tools for the devoted practitioner'\n  },\n  {\n    id: 'beauty',\n    name: 'Beauty',\n    image: 'https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=600&h=600&fit=crop',\n    color: '#EF4444',\n    description: 'ritual essentials for authentic self-care'\n  },\n];\n\n// InsightBar component for visualizing product metrics\nconst InsightBar = ({ label, value, color }) => {\n  return (\n    <View style={styles.insightContainer}>\n      <Text style={styles.insightLabel}>{label}</Text>\n      <View style={styles.insightBarBackground}>\n        <View \n          style={[\n            styles.insightBarFill, \n            { width: `${value}%`, backgroundColor: color }\n          ]} \n        />\n      </View>\n      <Text style={styles.insightValue}>{value}</Text>\n    </View>\n  );\n};\n\n// Product Preview simulation\nconst ProductPreviewOverlay = ({ product, visible, onClose }) => {\n  const [previewStatus, setPreviewStatus] = useState('loading'); // 'loading', 'ready', 'error'\n  \n  // Preview images based on product category\n  const getCategoryPreviewImage = (category) => {\n    switch(category) {\n      case 'laptop':\n        return 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=600&auto=format';\n      case 'baby':\n        return 'https://images.unsplash.com/photo-1515488042361-ee00e0ddd4e4?w=600&auto=format';\n      case 'wearables':\n        return 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=600&auto=format';\n      case 'audio':\n        return 'https://images.unsplash.com/photo-1545127398-14699f92334b?w=600&auto=format';\n      default:\n        return 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=600&auto=format';\n    }\n  };\n  \n  useEffect(() => {\n    if (visible) {\n      setPreviewStatus('loading');\n      // Simulate loading preview\n      setTimeout(() => {\n        setPreviewStatus('ready');\n      }, 800);\n    }\n  }, [visible]);\n  \n  if (!visible) return null;\n  \n  return (\n    <View style={styles.previewOverlay}>\n      <View style={styles.previewContent}>\n        <Text style={styles.previewTitle}>\n          {previewStatus === 'loading' ? 'Loading Preview...' : \n           previewStatus === 'ready' ? 'Product Preview' : \n           'Preview Unavailable'}\n        </Text>\n        \n        <View style={styles.previewImageContainer}>\n          {previewStatus === 'loading' ? (\n            <View style={styles.previewLoading}>\n              <Text style={styles.previewLoadingText}>Preparing preview...</Text>\n            </View>\n          ) : previewStatus === 'ready' ? (\n            <>\n              <Image \n                source={{ uri: getCategoryPreviewImage(product.category) }}\n                style={styles.previewImage}\n                resizeMode=\"contain\"\n              />\n              <View style={styles.previewProductInfo}>\n                <Text style={styles.previewProductTitle}>{product.title}</Text>\n                <Text style={styles.previewProductPrice}>${product.price}</Text>\n              </View>\n            </>\n          ) : (\n            <View style={styles.previewError}>\n              <Text style={styles.previewErrorEmoji}>⚠️</Text>\n              <Text style={styles.previewErrorText}>\n                Unable to load preview. Please try again.\n              </Text>\n            </View>\n          )}\n        </View>\n        \n        <View style={styles.previewActions}>\n          <TouchableOpacity \n            style={styles.previewCloseButton} \n            onPress={onClose}\n          >\n            <Text style={styles.previewCloseText}>Close</Text>\n          </TouchableOpacity>\n          \n          {previewStatus === 'ready' && (\n            <TouchableOpacity \n              style={styles.previewBuyButton}\n              onPress={() => {\n                onClose();\n                setTimeout(() => openExternalLink(product.link), 300);\n              }}\n            >\n              <Text style={styles.previewBuyText}>Buy Now</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n      </View>\n    </View>\n  );\n};\n\n// Add WebXR AR integration\nconst WebXRARViewer = ({ product, visible, onClose }) => {\n  const [arSupported, setArSupported] = useState(false);\n  const [arStatus, setArStatus] = useState('checking'); // 'checking', 'supported', 'unsupported', 'running'\n  const arContainerRef = useRef(null);\n  \n  // Check for WebXR support on component mount\n  useEffect(() => {\n    if (visible) {\n      checkARSupport();\n    }\n  }, [visible]);\n  \n  // Check if AR is supported on this device/browser\n  const checkARSupport = () => {\n    setArStatus('checking');\n    \n    if ('xr' in navigator) {\n      navigator.xr.isSessionSupported('immersive-ar')\n        .then((supported) => {\n          setArSupported(supported);\n          setArStatus(supported ? 'supported' : 'unsupported');\n        })\n        .catch(error => {\n          console.error('Error checking AR support:', error);\n          setArSupported(false);\n          setArStatus('unsupported');\n        });\n    } else {\n      setArSupported(false);\n      setArStatus('unsupported');\n    }\n  };\n  \n  // Start AR session\n  const startARSession = () => {\n    if (!arSupported) return;\n    \n    setArStatus('running');\n    \n    // WebXR session initialization would go here\n    // This requires Three.js or another WebGL library to handle the rendering\n    // For demo purposes, we'll simulate the session\n    \n    // In a real implementation, you would:\n    // 1. Create a WebGL context\n    // 2. Initialize Three.js scene\n    // 3. Request an immersive-ar session\n    // 4. Set up the AR hit testing and model placement\n    \n    // For this demo, we'll just show a placeholder\n    setTimeout(() => {\n      alert('AR session would start here with a 3D model of the product.');\n    }, 1000);\n  };\n  \n  // Get appropriate model URL based on product category\n  const getARModelURL = (category) => {\n    // In a real app, these would be links to actual 3D models (.glb or .usdz files)\n    switch(category) {\n      case 'laptop':\n        return 'https://example.com/models/laptop.glb';\n      case 'baby':\n        return 'https://example.com/models/baby_product.glb';\n      case 'wearables':\n        return 'https://example.com/models/watch.glb';\n      case 'audio':\n        return 'https://example.com/models/headphones.glb';\n      default:\n        return 'https://example.com/models/generic.glb';\n    }\n  };\n  \n  if (!visible) return null;\n  \n  return (\n    <View style={styles.arOverlay}>\n      <View style={styles.arContent}>\n        <Text style={styles.arTitle}>\n          {arStatus === 'checking' ? 'Checking AR Capability...' : \n           arStatus === 'supported' ? 'AR Ready' : \n           arStatus === 'running' ? 'AR Session Active' :\n           'AR Not Supported'}\n        </Text>\n        \n        <View \n          style={styles.arViewport}\n          ref={arContainerRef}\n        >\n          {arStatus === 'checking' ? (\n            <View style={styles.arLoading}>\n              <Text style={styles.arLoadingText}>Initializing AR...</Text>\n            </View>\n          ) : arStatus === 'supported' ? (\n            <View style={styles.arReadyContainer}>\n              <Text style={styles.arEmoji}>\n                {product.category === 'laptop' ? '💻' : \n                 product.category === 'baby' ? '👶' : \n                 product.category === 'wearables' ? '⌚' :\n                 product.category === 'audio' ? '🎧' : '📱'}\n              </Text>\n              <Text style={styles.arMessage}>\n                Your device supports AR. Tap Start to view {product.title} in your space.\n              </Text>\n              <TouchableOpacity \n                style={styles.arStartButton}\n                onPress={startARSession}\n              >\n                <Text style={styles.arStartButtonText}>Start AR Experience</Text>\n              </TouchableOpacity>\n            </View>\n          ) : arStatus === 'running' ? (\n            <View style={styles.arActiveContainer}>\n              <Text style={styles.arActiveText}>\n                AR Session Active. Move your device to scan the environment.\n              </Text>\n            </View>\n          ) : (\n            <View style={styles.arUnsupportedContainer}>\n              <Text style={styles.arErrorEmoji}>⚠️</Text>\n              <Text style={styles.arErrorText}>\n                AR is not supported on your device or browser. Try using the latest Chrome on Android or Safari on iOS.\n              </Text>\n            </View>\n          )}\n        </View>\n        \n        <View style={styles.arActions}>\n          <TouchableOpacity \n            style={styles.arCloseButton} \n            onPress={onClose}\n          >\n            <Text style={styles.arCloseText}>Close AR</Text>\n          </TouchableOpacity>\n          \n          {arStatus === 'supported' && (\n            <TouchableOpacity \n              style={styles.arHelpButton}\n              onPress={() => {\n                alert('AR Help: Make sure you have good lighting and a clear space. Move your device around to let it scan the environment before placing objects.');\n              }}\n            >\n              <Text style={styles.arHelpText}>AR Tips</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n      </View>\n    </View>\n  );\n};\n\n// Add virtual try-on functionality for apparel\nconst VirtualTryOn = ({ product, visible, onClose }) => {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [processingImage, setProcessingImage] = useState(false);\n  const [processedImage, setProcessedImage] = useState(null);\n  const [error, setError] = useState(null);\n  const fileInputRef = useRef(null);\n  \n  // Reset state when visibility changes\n  useEffect(() => {\n    if (!visible) {\n      setSelectedImage(null);\n      setProcessedImage(null);\n      setError(null);\n    }\n  }, [visible]);\n  \n  // Handle file selection for try-on\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    \n    // Check if file is an image\n    if (!file.type.startsWith('image/')) {\n      setError('Please select an image file.');\n      return;\n    }\n    \n    // Check file size (limit to 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      setError('Image size should be less than 5MB.');\n      return;\n    }\n    \n    // Create a preview URL for the selected image\n    const imageUrl = URL.createObjectURL(file);\n    setSelectedImage(imageUrl);\n    setError(null);\n    \n    // In a real app, you would upload this to a server for processing\n    // For demo, we'll simulate the process\n    processImage(imageUrl);\n  };\n  \n  // Simulate image processing for virtual try-on\n  const processImage = (imageUrl) => {\n    setProcessingImage(true);\n    \n    // In a real app, this would be an API call to an AI model\n    // that overlays the product on the user's image\n    setTimeout(() => {\n      // For demo, we'll just return a mock processed image\n      // In reality, this would come from a ML model that does virtual try-on\n      setProcessedImage(getVirtualTryOnImage(product.category));\n      setProcessingImage(false);\n    }, 2000);\n  };\n  \n  // Get a mock processed image for the demo\n  const getVirtualTryOnImage = (category) => {\n    // These would be actual processed images from the ML model\n    // For demo, we're using static images\n    switch(category) {\n      case 'clothing':\n        return 'https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=600&auto=format';\n      case 'shoes':\n        return 'https://images.unsplash.com/photo-1463100099107-aa0980c362e6?w=600&auto=format';\n      case 'accessories':\n        return 'https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=600&auto=format';\n      default:\n        return 'https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?w=600&auto=format';\n    }\n  };\n  \n  // Trigger file input click\n  const selectImage = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  };\n  \n  // Take a photo using webcam (simplified for demo)\n  const takePhoto = () => {\n    alert('In a real app, this would open your camera to take a photo for virtual try-on.');\n    // For demo, we'll just use a mock image\n    setSelectedImage('https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=600&auto=format');\n    processImage('https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=600&auto=format');\n  };\n  \n  if (!visible) return null;\n  \n  return (\n    <View style={styles.tryOnOverlay}>\n      <View style={styles.tryOnContent}>\n        <Text style={styles.tryOnTitle}>\n          Virtual Try-On: {product.title}\n        </Text>\n        \n        <View style={styles.tryOnWorkspace}>\n          {!selectedImage ? (\n            // Image selection UI\n            <View style={styles.tryOnUploadArea}>\n              <Text style={styles.tryOnInstructions}>\n                Upload a photo or take a picture to see how this item looks on you.\n              </Text>\n              \n              <View style={styles.tryOnButtonsRow}>\n                <TouchableOpacity \n                  style={styles.tryOnButton}\n                  onPress={selectImage}\n                >\n                  <Text style={styles.tryOnButtonText}>Upload Photo</Text>\n                </TouchableOpacity>\n                \n                <TouchableOpacity \n                  style={styles.tryOnButton}\n                  onPress={takePhoto}\n                >\n                  <Text style={styles.tryOnButtonText}>Take Photo</Text>\n                </TouchableOpacity>\n              </View>\n              \n              {error && (\n                <Text style={styles.tryOnError}>{error}</Text>\n              )}\n              \n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                style={{ display: 'none' }}\n                onChange={handleFileSelect}\n                ref={fileInputRef}\n              />\n            </View>\n          ) : processingImage ? (\n            // Processing indicator\n            <View style={styles.tryOnProcessing}>\n              <Text style={styles.tryOnProcessingText}>\n                Processing your image...\n              </Text>\n              <View style={styles.tryOnLoader} />\n            </View>\n          ) : processedImage ? (\n            // Display processed image with try-on\n            <View style={styles.tryOnResult}>\n              <Image \n                source={{ uri: processedImage }}\n                style={styles.tryOnResultImage}\n                resizeMode=\"contain\"\n              />\n              <Text style={styles.tryOnResultCaption}>\n                Here's how {product.title} looks on you!\n              </Text>\n              <View style={styles.tryOnActionRow}>\n                <TouchableOpacity \n                  style={styles.tryOnShareButton}\n                  onPress={() => alert('Share functionality would be implemented here.')}\n                >\n                  <Text style={styles.tryOnShareButtonText}>Share</Text>\n                </TouchableOpacity>\n                <TouchableOpacity \n                  style={styles.tryOnTryAgainButton}\n                  onPress={() => {\n                    setSelectedImage(null);\n                    setProcessedImage(null);\n                  }}\n                >\n                  <Text style={styles.tryOnTryAgainButtonText}>Try Another Photo</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          ) : (\n            // Fallback\n            <View style={styles.tryOnError}>\n              <Text>Something went wrong. Please try again.</Text>\n            </View>\n          )}\n        </View>\n        \n        <View style={styles.tryOnFooter}>\n          <TouchableOpacity \n            style={styles.tryOnCloseButton} \n            onPress={onClose}\n          >\n            <Text style={styles.tryOnCloseButtonText}>Close</Text>\n          </TouchableOpacity>\n          \n          {processedImage && (\n            <TouchableOpacity \n              style={styles.tryOnBuyButton}\n              onPress={() => {\n                onClose();\n                setTimeout(() => openExternalLink(product.link), 300);\n              }}\n            >\n              <Text style={styles.tryOnBuyButtonText}>Buy This Look</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n      </View>\n    </View>\n  );\n};\n\n// Update the ProductCard component to use WebXRARViewer\nconst ProductCard = ({ product, onPress, isTrending = false }) => {\n  const [isFlipped, setIsFlipped] = useState(false);\n  const [showARViewer, setShowARViewer] = useState(false);\n  const [showProductPreview, setShowProductPreview] = useState(false);\n  const [showVirtualTryOn, setShowVirtualTryOn] = useState(false);\n\n  const handleFlip = () => {\n    setIsFlipped(!isFlipped);\n  };\n\n  const handleARView = () => {\n    setShowARViewer(true);\n  };\n\n  const handleProductPreview = () => {\n    setShowProductPreview(true);\n  };\n\n  const handleVirtualTryOn = () => {\n    setShowVirtualTryOn(true);\n  };\n\n  const handleShopOnBrand = () => {\n    if (product.affiliateUrl) {\n      openExternalLink(product.affiliateUrl);\n    }\n  };\n\n  const handleShopWithAgent = () => {\n    // Placeholder for \"Shop with Curator Agent\" functionality\n    alert('The Curator Agent will assist you with this purchase soon!');\n  };\n\n  return (\n    <View style={[styles.productCard, isTrending && styles.trendingProductCard]}>\n      {!isFlipped ? (\n        <View style={styles.cardContent}>\n          <View style={styles.cardImageContainer}>\n            <Image \n              source={{ uri: product.image }}\n              style={styles.productImage}\n              resizeMode=\"cover\"\n            />\n            <View style={styles.ratingPill}>\n              <Text style={styles.ratingText}>★ {product.rating}</Text>\n            </View>\n            <TouchableOpacity style={styles.previewButton} onPress={handleProductPreview}>\n              <Text style={styles.previewButtonText}>Preview</Text>\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.cardBody}>\n            <Text style={styles.productTitle}>{product.title}</Text>\n            <Text style={styles.price}>{product.price}</Text>\n            <Text style={styles.productDescription}>{product.description}</Text>\n            <Text style={styles.brandText}>by {product.brand}</Text>\n          </View>\n\n          {/* Updated Card Actions with new buttons */}\n          <View style={styles.productCardButtonContainer}>\n            <TouchableOpacity\n              style={[styles.minimalistButtonShared, styles.minimalistButtonPrimary]}\n              onPress={handleShopOnBrand}\n            >\n              <Text style={[styles.buttonTextShared, styles.buttonTextPrimary]}>Shop on Brand Website</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.minimalistButtonShared, styles.minimalistButtonSecondary]}\n              onPress={handleShopWithAgent}\n            >\n              <Text style={[styles.buttonTextShared, styles.buttonTextSecondary]}>Shop with Curator Agent</Text>\n            </TouchableOpacity>\n          </View>\n          <View style={styles.cardActions}>\n            <View style={styles.actionButtons}>\n              <TouchableOpacity style={styles.actionButton} onPress={handleFlip}>\n                <Text style={styles.actionButtonText}>ℹ️</Text>\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.actionButton} onPress={handleARView}>\n                <Text style={styles.actionButtonText}>👁️</Text>\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.actionButton} onPress={handleVirtualTryOn}>\n                <Text style={styles.actionButtonText}>👤</Text>\n              </TouchableOpacity>\n            </View>\n            {/* Old Buy Now button removed/commented out\n            <TouchableOpacity style={styles.buyNowButton} onPress={handleShopOnBrand}>\n              <Text style={styles.buyNowButtonText}>Buy Now</Text>\n            </TouchableOpacity>\n            */}\n          </View>\n        </View>\n      ) : (\n        <View style={styles.cardContentBack}>\n          <TouchableOpacity style={styles.backButton} onPress={handleFlip}>\n            <Text style={styles.backButtonText}>←</Text>\n          </TouchableOpacity>\n          \n          <Text style={styles.backProductTitle}>{product.title}</Text>\n          <Text style={styles.backProductPrice}>{product.price}</Text>\n          \n          <View style={styles.highlightsContainer}>\n            <Text style={styles.highlightsTitle}>Why Buy This?</Text>\n            <Text style={styles.highlightsText}>{product.description}</Text>\n          </View>\n          \n          <TouchableOpacity style={styles.buyNowButton} onPress={handleShopOnBrand}>\n            <Text style={styles.buyNowButtonText}>Buy on {product.brand}</Text>\n          </TouchableOpacity>\n        </View>\n      )}\n\n      <WebXRARViewer \n        product={product}\n        visible={showARViewer}\n        onClose={() => setShowARViewer(false)}\n      />\n\n      <ProductPreviewOverlay \n        product={product}\n        visible={showProductPreview}\n        onClose={() => setShowProductPreview(false)}\n      />\n\n      <VirtualTryOn \n        product={product}\n        visible={showVirtualTryOn}\n        onClose={() => setShowVirtualTryOn(false)}\n      />\n    </View>\n  );\n};\n\n// Add Visual Search feature\nconst VisualSearchPanel = ({ visible, onClose, onSearch }) => {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [visualSearchResults, setVisualSearchResults] = useState([]);\n  const [analyzeStage, setAnalyzeStage] = useState('initial'); // initial, analyzing, results\n  const [error, setError] = useState(null);\n  const [isDragActive, setIsDragActive] = useState(false);\n  const fileInputRef = useRef(null);\n  \n  // Reset state when visibility changes\n  useEffect(() => {\n    if (!visible) {\n      resetState();\n    }\n  }, [visible]);\n  \n  // Reset all state\n  const resetState = () => {\n    setSelectedImage(null);\n    setVisualSearchResults([]);\n    setAnalyzeStage('initial');\n    setError(null);\n    setIsDragActive(false);\n  };\n  \n  // Handle file selection\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    \n    if (!file.type.startsWith('image/')) {\n      setError('Please select an image file');\n      return;\n    }\n    \n    if (file.size > 10 * 1024 * 1024) {\n      setError('Image size should be less than 10MB');\n      return;\n    }\n    \n    const imageUrl = URL.createObjectURL(file);\n    setSelectedImage(imageUrl);\n    setAnalyzeStage('analyzing');\n    setError(null);\n    \n    // Analyze the image\n    analyzeImage(imageUrl);\n  };\n  \n  // Enhanced image analysis with better product detection\n  const analyzeImage = async (imageUrl) => {\n    try {\n      console.log('🔍 Starting enhanced visual search analysis for:', imageUrl);\n      \n      // Import and initialize our visual search service\n      console.log('📦 Importing AIProductService...');\n      const { AIProductService } = await import('./app/services/AIProductService.js');\n      const aiService = new AIProductService();\n      \n      console.log('🔧 Initializing AI service...');\n      await aiService.initialize();\n      console.log('✅ AI service initialized successfully');\n      \n      // Enhanced image content analysis\n      console.log('🔍 Analyzing image content...');\n      const imageAnalysis = await enhancedImageAnalysis(imageUrl);\n      console.log('📝 Enhanced image analysis result:', imageAnalysis);\n      \n      // Perform multi-query search for better results\n      console.log('🔍 Performing search with queries:', imageAnalysis);\n      const searchResults = await performEnhancedSearch(imageAnalysis, aiService);\n      console.log('📊 Search completed. Found results:', searchResults.length);\n      \n      if (searchResults.length > 0) {\n        console.log(`✅ Found ${searchResults.length} similar products`);\n        console.log('📦 Setting results and updating stage...');\n        setVisualSearchResults(searchResults);\n        setAnalyzeStage('results');\n        console.log('🎯 Visual search completed successfully');\n      } else {\n        console.log('⚠️ No similar products found');\n        setError('No similar products found. Try a different image or search manually.');\n        setAnalyzeStage('initial');\n      }\n    } catch (error) {\n      console.error('❌ Visual search analysis failed:', error);\n      console.error('❌ Error stack:', error.stack);\n      setError(`Visual search failed: ${error.message}`);\n      setAnalyzeStage('initial');\n    }\n  };\n\n  // Enhanced image analysis with better pattern recognition\n  const enhancedImageAnalysis = async (imageUrl) => {\n    try {\n      console.log('🔍 Starting enhanced image analysis...');\n      \n      // For uploaded files, we can't analyze the URL (it's a blob), so we'll use\n      // intelligent defaults and filename analysis if available\n      let analysisContext = imageUrl.toLowerCase();\n      \n      // Better pattern matching for different product types\n      const productPatterns = [\n        // Tech patterns\n        { pattern: /macbook|laptop|computer|mac/i, queries: ['macbook', 'laptop', 'computer'], confidence: 0.9 },\n        { pattern: /iphone|phone|mobile|smartphone/i, queries: ['smartphone', 'phone', 'mobile'], confidence: 0.9 },\n        { pattern: /headphone|airpods|audio|earbuds/i, queries: ['headphones', 'audio', 'earbuds'], confidence: 0.85 },\n        { pattern: /tv|television|display|monitor/i, queries: ['tv', 'monitor', 'display'], confidence: 0.85 },\n        { pattern: /camera|photography|lens/i, queries: ['camera', 'photography', 'lens'], confidence: 0.8 },\n        \n        // Furniture patterns\n        { pattern: /chair|furniture|seating/i, queries: ['chair', 'furniture', 'office'], confidence: 0.8 },\n        { pattern: /desk|table|workspace/i, queries: ['desk', 'table', 'workspace'], confidence: 0.8 },\n        { pattern: /sofa|couch|living/i, queries: ['sofa', 'furniture', 'living room'], confidence: 0.8 },\n        \n        // Kitchen patterns\n        { pattern: /blender|kitchen|appliance|cooking/i, queries: ['blender', 'kitchen', 'appliance'], confidence: 0.8 },\n        { pattern: /coffee|espresso|brew/i, queries: ['coffee', 'espresso', 'kitchen'], confidence: 0.8 },\n        \n        // Fashion patterns\n        { pattern: /shoe|sneaker|footwear/i, queries: ['shoes', 'sneakers', 'footwear'], confidence: 0.8 },\n        { pattern: /watch|timepiece|smartwatch/i, queries: ['watch', 'smartwatch', 'accessories'], confidence: 0.8 },\n        { pattern: /bag|backpack|purse/i, queries: ['bag', 'backpack', 'accessories'], confidence: 0.8 },\n        \n        // Beauty patterns\n        { pattern: /skincare|beauty|cosmetic/i, queries: ['skincare', 'beauty', 'cosmetics'], confidence: 0.8 },\n        { pattern: /hair|dryer|styling/i, queries: ['hair care', 'styling', 'beauty'], confidence: 0.8 },\n      ];\n      \n      // Find the best matching pattern\n      let bestMatch = null;\n      let highestConfidence = 0;\n      \n      for (const pattern of productPatterns) {\n        if (pattern.pattern.test(analysisContext) && pattern.confidence > highestConfidence) {\n          bestMatch = pattern;\n          highestConfidence = pattern.confidence;\n        }\n      }\n      \n      if (bestMatch) {\n        return {\n          primaryQuery: bestMatch.queries[0],\n          secondaryQueries: bestMatch.queries.slice(1),\n          confidence: bestMatch.confidence,\n          category: bestMatch.queries[0]\n        };\n      }\n      \n      // Fallback to tech products (most common for visual search)\n      // Since this is for uploaded images and MacBook is very common, let's default to tech\n      console.log('📱 No pattern matched, defaulting to tech products for uploaded image');\n      return {\n        primaryQuery: 'macbook',\n        secondaryQueries: ['laptop', 'computer', 'tech'],\n        confidence: 0.7,\n        category: 'tech'\n      };\n      \n    } catch (error) {\n      console.error('❌ Enhanced image analysis failed:', error);\n      return {\n        primaryQuery: 'premium products',\n        secondaryQueries: ['luxury', 'design', 'modern'],\n        confidence: 0.5,\n        category: 'general'\n      };\n    }\n  };\n\n  // Enhanced search with multiple queries and better ranking\n  const performEnhancedSearch = async (imageAnalysis, aiService) => {\n    try {\n      console.log('🤖 Performing enhanced product search...');\n      \n      let allResults = [];\n      \n      // Search with primary query (use default persona since selectedPersona is not in scope)\n      const primaryResults = await aiService.searchProducts(imageAnalysis.primaryQuery, 'tech enthusiast');\n      allResults = [...primaryResults];\n      \n      // Search with secondary queries if we need more results\n      if (allResults.length < 5 && imageAnalysis.secondaryQueries.length > 0) {\n        for (const secondaryQuery of imageAnalysis.secondaryQueries) {\n          const additionalResults = await aiService.searchProducts(secondaryQuery, 'tech enthusiast');\n          // Add unique results only\n          const uniqueResults = additionalResults.filter(r => !allResults.find(existing => existing.id === r.id));\n          allResults = [...allResults, ...uniqueResults];\n          \n          if (allResults.length >= 8) break;\n        }\n      }\n      \n      // Enhance results with similarity scores and category matching\n      const enhancedResults = allResults.map((product, index) => {\n        let similarityScore = 0.8 - (index * 0.05); // Base score decreases with position\n        \n        // Boost score if product category matches image analysis\n        if (product.category === imageAnalysis.category) {\n          similarityScore += 0.15;\n        }\n        \n        // Boost score based on image analysis confidence\n        similarityScore += imageAnalysis.confidence * 0.1;\n        \n        // Ensure score stays within bounds\n        similarityScore = Math.min(0.98, Math.max(0.5, similarityScore));\n        \n        return {\n          ...product,\n          similarity: similarityScore,\n          matchReason: index < 2 ? 'Exact match' : index < 4 ? 'Similar product' : 'Related item'\n        };\n      });\n      \n      // Sort by similarity score and return top results\n      return enhancedResults\n        .sort((a, b) => b.similarity - a.similarity)\n        .slice(0, 6);\n      \n    } catch (error) {\n      console.error('❌ Enhanced search failed:', error);\n      return [];\n    }\n  };\n  \n  // Trigger file input click\n  const selectImage = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  };\n  \n  // Demo function with better sample\n  const tryDemo = () => {\n    const demoImage = 'https://images.unsplash.com/photo-1531297484001-80022131f5a1?w=600&auto=format';\n    setSelectedImage(demoImage);\n    setAnalyzeStage('analyzing');\n    analyzeImage(demoImage);\n  };\n\n  // Handle clicking on a visual search result - use simple approach\n  const handleResultClick = (product) => {\n    console.log('🔍 Selected visual search result:', product.title);\n    // Extract search terms from product title\n    const searchTerms = product.title.split(' ').slice(0, 2).join(' '); // First 2 words\n    \n    // Use the onSearch prop which now properly routes to regular search for single terms\n    if (onSearch) {\n      onSearch([searchTerms]); // This will now use handleSearch instead of handleVisualSearch\n    }\n    \n    // Close the panel\n    onClose();\n  };\n\n  // Handle result selection - create a dedicated visual search results view\n  const handleResultSelection = () => {\n    console.log('🎯 Displaying visual search results in dedicated view');\n    \n    // Close the modal\n    onClose();\n    \n    // Trigger the parent to show visual search results\n    // We'll pass a special flag to indicate this is visual search\n    if (onSearch) {\n      onSearch(visualSearchResults, 'visual-search');\n    }\n  };\n  \n  if (!visible) return null;\n  \n  return (\n    <View style={styles.rightSidePanel}>\n      <TouchableOpacity style={styles.panelBackdrop} onPress={onClose} />\n      <View style={styles.rightPanelContent}>\n        {/* Header */}\n        <View style={styles.rightPanelHeader}>\n          <Text style={styles.rightPanelTitle}>Search by Image</Text>\n          <TouchableOpacity style={styles.closeRightPanel} onPress={onClose}>\n            <Text style={styles.closeRightPanelText}>×</Text>\n          </TouchableOpacity>\n        </View>\n        \n        <Text style={styles.rightPanelSubtitle}>\n          Upload a product screenshot to discover similar items\n        </Text>\n        \n        <View style={{ marginTop: 30 }}>\n          {analyzeStage === 'initial' ? (\n            /* Upload Interface */\n            <View \n              style={{\n                borderWidth: 2,\n                borderColor: isDragActive ? COLORS.primaryPeachy : COLORS.borderLight,\n                borderStyle: 'dashed',\n                borderRadius: 12,\n                padding: 30,\n                alignItems: 'center',\n                backgroundColor: isDragActive ? hexToRgba(COLORS.primaryPeachy, 0.05) : COLORS.lightGray,\n                marginBottom: 20\n              }}\n              onDrop={(e) => {\n                e.preventDefault();\n                setIsDragActive(false);\n                const file = e.dataTransfer.files[0];\n                if (file && file.type.startsWith('image/')) {\n                  const event = { target: { files: [file] } };\n                  handleFileSelect(event);\n                } else {\n                  setError('Please drop an image file');\n                }\n              }}\n              onDragOver={(e) => {\n                e.preventDefault();\n                setIsDragActive(true);\n              }}\n              onDragLeave={(e) => {\n                e.preventDefault();\n                setIsDragActive(false);\n              }}\n            >\n              <Text style={{ fontSize: 32, marginBottom: 12 }}>📸</Text>\n              <Text style={{\n                fontSize: 16,\n                fontWeight: '600',\n                color: COLORS.text,\n                textAlign: 'center',\n                marginBottom: 8\n              }}>\n                {isDragActive ? 'Drop your image here' : 'Drag & drop an image'}\n              </Text>\n              <Text style={{\n                fontSize: 14,\n                color: COLORS.textSecondary,\n                textAlign: 'center',\n                marginBottom: 20\n              }}>\n                or choose from your device\n              </Text>\n              \n              <View style={{ width: '100%' }}>\n                <TouchableOpacity \n                  style={{\n                    backgroundColor: COLORS.primaryPeachy,\n                    paddingVertical: 12,\n                    paddingHorizontal: 20,\n                    borderRadius: 8,\n                    marginBottom: 10,\n                    alignItems: 'center'\n                  }}\n                  onPress={selectImage}\n                >\n                  <Text style={{\n                    color: COLORS.white,\n                    fontSize: 14,\n                    fontWeight: '600'\n                  }}>Browse Files</Text>\n                </TouchableOpacity>\n                \n                <TouchableOpacity \n                  style={{\n                    backgroundColor: 'transparent',\n                    borderWidth: 1,\n                    borderColor: COLORS.primaryPeachy,\n                    paddingVertical: 12,\n                    paddingHorizontal: 20,\n                    borderRadius: 8,\n                    alignItems: 'center'\n                  }}\n                  onPress={tryDemo}\n                >\n                  <Text style={{\n                    color: COLORS.primaryPeachy,\n                    fontSize: 14,\n                    fontWeight: '600'\n                  }}>Try Demo</Text>\n                </TouchableOpacity>\n              </View>\n              \n              <Text style={{\n                fontSize: 12,\n                color: COLORS.textSecondary,\n                textAlign: 'center',\n                marginTop: 12\n              }}>\n                Supports JPG, PNG up to 10MB\n              </Text>\n              \n              {error && (\n                <Text style={{\n                  fontSize: 14,\n                  color: COLORS.error,\n                  textAlign: 'center',\n                  marginTop: 10\n                }}>{error}</Text>\n              )}\n              \n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                style={{ display: 'none' }}\n                onChange={handleFileSelect}\n                ref={fileInputRef}\n              />\n            </View>\n          ) : analyzeStage === 'analyzing' ? (\n            /* Analyzing State */\n            <View style={{ alignItems: 'center', paddingVertical: 40 }}>\n              {selectedImage && (\n                <Image \n                  source={{ uri: selectedImage }}\n                  style={{\n                    width: 120,\n                    height: 120,\n                    borderRadius: 12,\n                    marginBottom: 20\n                  }}\n                  resizeMode=\"cover\"\n                />\n              )}\n              <Text style={{\n                fontSize: 16,\n                fontWeight: '600',\n                color: COLORS.text,\n                textAlign: 'center',\n                marginBottom: 8\n              }}>\n                Analyzing your image...\n              </Text>\n              <Text style={{\n                fontSize: 14,\n                color: COLORS.textSecondary,\n                textAlign: 'center'\n              }}>\n                Finding similar products in our catalog\n              </Text>\n            </View>\n          ) : (\n            /* Results Preview */\n            <View style={{ marginTop: 20 }}>\n              <Text style={{\n                fontSize: 16,\n                fontWeight: '600',\n                color: COLORS.text,\n                marginBottom: 8\n              }}>\n                {visualSearchResults.length} Similar Products Found\n              </Text>\n              <Text style={{\n                fontSize: 14,\n                color: COLORS.textSecondary,\n                marginBottom: 20\n              }}>\n                Preview of matching items\n              </Text>\n              \n              <ScrollView style={{ maxHeight: 300 }} showsVerticalScrollIndicator={false}>\n                {visualSearchResults.slice(0, 3).map((product, index) => (\n                  <TouchableOpacity \n                    key={product.id} \n                    style={{\n                      flexDirection: 'row',\n                      padding: 12,\n                      marginBottom: 12,\n                      backgroundColor: COLORS.white,\n                      borderRadius: 8,\n                      borderWidth: 1,\n                      borderColor: COLORS.borderLight\n                    }}\n                    onPress={() => handleResultClick(product)}\n                  >\n                    {product.image && (\n                      <Image \n                        source={{ uri: product.image }} \n                        style={{\n                          width: 50,\n                          height: 50,\n                          borderRadius: 6,\n                          marginRight: 12\n                        }}\n                        resizeMode=\"cover\"\n                      />\n                    )}\n                    <View style={{ flex: 1 }}>\n                      <Text style={{\n                        fontSize: 14,\n                        fontWeight: '600',\n                        color: COLORS.text,\n                        marginBottom: 4\n                      }}>\n                        {product.title}\n                      </Text>\n                      <Text style={{\n                        fontSize: 14,\n                        fontWeight: 'bold',\n                        color: COLORS.primaryPeachy,\n                        marginBottom: 2\n                      }}>\n                        {product.price}\n                      </Text>\n                      {product.similarity && (\n                        <Text style={{\n                          fontSize: 12,\n                          color: COLORS.textSecondary\n                        }}>\n                          {Math.round(product.similarity * 100)}% match\n                        </Text>\n                      )}\n                    </View>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n              \n              {visualSearchResults.length > 0 && (\n                <TouchableOpacity \n                  style={{\n                    backgroundColor: COLORS.primaryPeachy,\n                    paddingVertical: 12,\n                    paddingHorizontal: 20,\n                    borderRadius: 8,\n                    marginTop: 20,\n                    alignItems: 'center'\n                  }}\n                  onPress={() => {\n                    // Show all results in main area\n                    if (visualSearchResults.length > 0) {\n                      const query = visualSearchResults[0].title.split(' ').slice(0, 2).join(' ');\n                      onSearch && onSearch([query]);\n                      onClose();\n                    }\n                  }}\n                >\n                  <Text style={{\n                    color: COLORS.white,\n                    fontSize: 14,\n                    fontWeight: '600'\n                  }}>View All {visualSearchResults.length} Results</Text>\n                </TouchableOpacity>\n                )}\n            </View>\n          )}\n        </View>\n        \n        {/* Reset Button */}\n        {analyzeStage !== 'initial' && (\n          <TouchableOpacity \n            style={{\n              backgroundColor: 'transparent',\n              borderWidth: 1,\n              borderColor: COLORS.borderLight,\n              paddingVertical: 10,\n              paddingHorizontal: 16,\n              borderRadius: 6,\n              marginTop: 20,\n              alignItems: 'center'\n            }}\n              onPress={resetState}\n          >\n            <Text style={{\n              fontSize: 14,\n              color: COLORS.textSecondary,\n              fontWeight: '500'\n            }}>Try Different Image</Text>\n          </TouchableOpacity>\n        )}\n      </View>\n    </View>\n  );\n};\n\n// Update the main App component\nexport default function App() {\n  const { width: screenWidth } = useWindowDimensions(); // Get screen width here\n\n  // State for user selections\n  const [selectedPersona, setSelectedPersona] = useState(null);\n  const [selectedLifeMoment, setSelectedLifeMoment] = useState(null);\n  \n  // State for app functionality\n  const [searchQuery, setSearchQuery] = useState('');\n  const [products, setProducts] = useState([]);\n  const [showPersonaPanel, setShowPersonaPanel] = useState(false);\n  const [showLifeMomentPanel, setShowLifeMomentPanel] = useState(false);\n  const [showVisualSearch, setShowVisualSearch] = useState(false);\n  const [isLoadingAnimation, setIsLoadingAnimation] = useState(false);\n  const [isDiscoveryMode, setIsDiscoveryMode] = useState(true);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [showTrendingSocial, setShowTrendingSocial] = useState(false);\n  \n  // State for AI Curation\n  const [showAiCurateView, setShowAiCurateView] = useState(null); // null, 'form', 'results'\n  const [aiSelectedBrands, setAiSelectedBrands] = useState([]);\n  const [aiPersonaStyle, setAiPersonaStyle] = useState('');\n  const [aiPersonaBudget, setAiPersonaBudget] = useState(''); // e.g., '$', '$$', '$$$'\n  const [aiLookingFor, setAiLookingFor] = useState('');\n  const [aiGeneratedProducts, setAiGeneratedProducts] = useState([]);\n  const [isAiLoading, setIsAiLoading] = useState(false);\n  const [aiErrorMessage, setAiErrorMessage] = useState(null);\n  \n  // State for brand personas (loaded from Supabase)\n  const [brandPersonas, setBrandPersonas] = useState({});\n  \n  // Fallback brand personas data (used if Supabase fails to load)\n  const fallbackBrandPersonas = {\n    'Apple': {\n      persona: 'Tech Minimalist Pioneer',\n      description: 'Clean design meets cutting-edge innovation',\n      keywords: ['minimalist', 'premium', 'innovative', 'sleek', 'intuitive'],\n      values: ['design', 'simplicity', 'innovation', 'premium quality'],\n      demographics: ['professionals', 'creatives', 'tech enthusiasts']\n    },\n    'Patagonia': {\n      persona: 'Sustainable Adventure Innovator', \n      description: 'Environmental responsibility meets outdoor performance',\n      keywords: ['sustainable', 'outdoor', 'ethical', 'durable', 'adventure'],\n      values: ['sustainability', 'environmental responsibility', 'adventure', 'quality'],\n      demographics: ['outdoor enthusiasts', 'eco-conscious', 'millennials']\n    },\n    'Nike': {\n      persona: 'Performance Lifestyle Champion',\n      description: 'Athletic excellence inspiring everyday achievement',\n      keywords: ['performance', 'athletic', 'motivational', 'innovative', 'lifestyle'],\n      values: ['excellence', 'innovation', 'inspiration', 'performance'],\n      demographics: ['athletes', 'fitness enthusiasts', 'lifestyle conscious']\n    },\n    'Dyson': {\n      persona: 'Engineering Excellence Disruptor',\n      description: 'Revolutionary engineering transforming home experiences',\n      keywords: ['innovative', 'engineering', 'premium', 'efficient', 'modern'],\n      values: ['innovation', 'engineering excellence', 'efficiency', 'design'],\n      demographics: ['tech adopters', 'design conscious', 'premium shoppers']\n    },\n    'Lululemon': {\n      persona: 'Mindful Wellness Curator',\n      description: 'Conscious living through premium athletic lifestyle',\n      keywords: ['wellness', 'mindful', 'premium', 'community', 'lifestyle'],\n      values: ['wellness', 'mindfulness', 'community', 'quality', 'lifestyle'],\n      demographics: ['wellness enthusiasts', 'yoga practitioners', 'mindful consumers']\n    },\n    'Bose': {\n      persona: 'Audio Perfectionist Innovator',\n      description: 'Obsessive audio engineering for pure listening experiences',\n      keywords: ['audio excellence', 'engineering', 'premium', 'immersive', 'precision'],\n      values: ['audio quality', 'innovation', 'craftsmanship', 'experience'],\n      demographics: ['audiophiles', 'music lovers', 'professionals']\n    },\n    'Sony': {\n      persona: 'Creative Technology Enabler',\n      description: 'Empowering creativity through advanced technology',\n      keywords: ['creative', 'innovative', 'professional', 'entertainment', 'quality'],\n      values: ['creativity', 'innovation', 'entertainment', 'professional quality'],\n      demographics: ['creatives', 'professionals', 'entertainment enthusiasts']\n    },\n    'Samsung': {\n      persona: 'Smart Innovation Pioneer',\n      description: 'Intelligent technology enhancing connected lifestyles',\n      keywords: ['smart', 'connected', 'innovative', 'versatile', 'advanced'],\n      values: ['innovation', 'connectivity', 'intelligence', 'versatility'],\n      demographics: ['tech enthusiasts', 'early adopters', 'connected consumers']\n    }\n  };\n\n  // Generate available brands list from persona data, plus additional brands\n  const additionalBrands = [\n    'Microsoft', 'Google', 'Dell', 'HP', 'Lenovo', 'ASUS', 'Acer', 'LG',\n    'Adidas', 'Under Armour', 'North Face', 'REI', 'Canon', 'Nikon', 'GoPro',\n    'JBL', 'Beats', 'Sennheiser', 'Shark', 'iRobot', 'KitchenAid', 'Vitamix'\n  ];\n  \n  // Use loaded brandPersonas state, fallback to hardcoded if empty\n  const activeBrandPersonas = Object.keys(brandPersonas).length > 0 ? brandPersonas : fallbackBrandPersonas;\n  const availableBrands = [...Object.keys(activeBrandPersonas), ...additionalBrands].sort();\n  \n  // Animation values\n  const scrollY = useRef(new Animated.Value(0)).current;\n  const headerOpacity = scrollY.interpolate({\n    inputRange: [0, 100],\n    outputRange: [1, 0.9],\n    extrapolate: 'clamp',\n  });\n  const headerTranslate = scrollY.interpolate({\n    inputRange: [0, 100],\n    outputRange: [0, -10],\n    extrapolate: 'clamp',\n  });\n  \n  // Initialize products on component mount\n  useEffect(() => {\n    // Start with all products for discovery\n    setProducts(sortProducts([...mockProducts]));\n  }, []);\n  \n  // Load brand personas from Supabase on mount\n  useEffect(() => {\n    const loadBrandPersonas = async () => {\n      try {\n        console.log('🏢 Loading brand personas from Supabase...');\n        const { AIProductService } = await import('./app/services/AIProductService.js');\n        const aiService = new AIProductService();\n        await aiService.initialize();\n        \n        // Get Supabase service instance directly\n        if (aiService.supabaseService && aiService.supabaseService.initialized) {\n          const personas = await aiService.supabaseService.getBrandPersonas();\n          console.log('✅ Brand personas loaded from Supabase:', Object.keys(personas).length, 'brands');\n          setBrandPersonas(personas);\n        } else {\n          console.log('⚠️ Supabase not available, using fallback brand personas');\n          setBrandPersonas(fallbackBrandPersonas);\n        }\n      } catch (error) {\n        console.log('❌ Error loading brand personas from Supabase:', error.message);\n        console.log('📋 Using fallback brand personas');\n        setBrandPersonas(fallbackBrandPersonas);\n      }\n    };\n    \n    loadBrandPersonas();\n  }, []);\n  \n  // Apply personalization when persona or life moment changes\n  useEffect(() => {\n    if (selectedPersona || selectedLifeMoment) {\n      // Apply personalization by sorting the products\n      setProducts(sortProducts([...mockProducts]));\n    }\n  }, [selectedPersona, selectedLifeMoment]);\n  \n  // Add browser history management\n  useEffect(() => {\n    const handlePopState = (event) => {\n      // Handle browser back button\n      setSearchQuery('');\n      setSelectedPersona(null);\n      setSelectedLifeMoment(null);\n      setShowTrendingSocial(false);\n      setShowAiCurateView(null); // Reset AI curate view\n      setAiSelectedBrands([]);\n      setAiPersonaStyle('');\n      setAiPersonaBudget('');\n      setAiLookingFor('');\n      // setAiGeneratedProducts([]); // Keep AI generated products to avoid re-fetching if user navigates back and forth quickly to results\n      setErrorMessage(null);\n\n      const pageState = event.state ? event.state.page : 'discovery';\n\n      switch (pageState) {\n        case 'discovery':\n          setIsDiscoveryMode(true);\n          setProducts(sortProducts([...mockProducts]));\n          break;\n        case 'trending':\n          setShowTrendingSocial(true);\n          setIsDiscoveryMode(false);\n          break;\n        case 'aiCurateForm':\n          setShowAiCurateView('form');\n          setIsDiscoveryMode(false);\n          break;\n        case 'aiCurateResults':\n          setShowAiCurateView('results');\n          setIsDiscoveryMode(false);\n          // Products should already be in aiGeneratedProducts state\n          break;\n        case 'products':\n          setIsDiscoveryMode(false);\n          // Attempt to restore previous product view context\n          if (event.state.persona) {\n            const foundPersona = personas.find(p => p.id === event.state.persona);\n            if (foundPersona) handlePersonaSelect(foundPersona, false); // false to prevent history push\n          } else if (event.state.lifeMoment) {\n            const foundMoment = lifeMoments.find(m => m.id === event.state.lifeMoment);\n            if (foundMoment) handleLifeMomentSelect(foundMoment, false);\n          } else if (event.state.searchQuery) {\n            setSearchQuery(event.state.searchQuery);\n            handleSearch(event.state.searchQuery, false);\n          } else {\n            // Fallback if specific product context is missing, show all products\n            setProducts(sortProducts([...mockProducts]));\n          }\n          break;\n        default:\n          setIsDiscoveryMode(true);\n          setProducts(sortProducts([...mockProducts]));\n      }\n    };\n\n    if (typeof window !== 'undefined') {\n      window.addEventListener('popstate', handlePopState);\n      // Push initial state only if not already on a specific view from a direct URL or refresh\n      if (isDiscoveryMode && !window.location.search) {\n         window.history.replaceState({ page: 'discovery' }, '', window.location.pathname);\n      } else if (showTrendingSocial && !window.location.search.includes('view=trending')) {\n        window.history.replaceState({ page: 'trending' }, '', '?view=trending');\n      } else if (showAiCurateView === 'form' && !window.location.search.includes('view=ai-curate')) {\n        window.history.replaceState({ page: 'aiCurateForm' }, '', '?view=ai-curate');\n      } else if (showAiCurateView === 'results' && !window.location.search.includes('view=ai-results')) {\n        window.history.replaceState({ page: 'aiCurateResults' }, '', '?view=ai-results');\n      } else if (!isDiscoveryMode && !showTrendingSocial && !showAiCurateView && !window.location.search) {\n         // Generic product view, could be from persona, lifemoment or search\n         // The individual handlers will push more specific states\n         window.history.replaceState({ page: 'products' }, '', window.location.pathname); \n      }\n    }\n\n    return () => {\n      if (typeof window !== 'undefined') {\n        window.removeEventListener('popstate', handlePopState);\n      }\n    };\n  }, [isDiscoveryMode, showTrendingSocial, showAiCurateView]); // Add showAiCurateView to dependency array\n\n  // Update browser history when navigation occurs (Simplified)\n  // Specific pushState calls are now within the action handlers themselves (handleSearch, handlePersonaSelect, Start AI Curation button, etc.)\n  // This useEffect is now mainly for initial state or direct URL handling via popstate.\n\n  const handleSearch = async (searchTerm, pushHistory = true) => {\n    console.log('🔍 Search triggered with term:', searchTerm);\n    if (!searchTerm || !searchTerm.trim()) {\n      console.log('❌ Search term is empty, returning early');\n      return;\n    }\n    \n    console.log('✅ Setting search states...');\n    setSearchQuery(searchTerm); // Set search query state\n    setIsLoadingAnimation(true);\n    setIsDiscoveryMode(false);\n    setShowTrendingSocial(false);\n    setShowAiCurateView(null);\n    setErrorMessage(null); // Clear any previous error messages\n\n    if (pushHistory && typeof window !== 'undefined' && window.history && window.history.pushState) {\n      window.history.pushState({ page: 'products', searchQuery: searchTerm }, '', `?search=${encodeURIComponent(searchTerm)}`);\n    }\n\n    console.log('🔄 Starting database search...');\n    \n    try {\n      // Use AIProductService for database search\n      const { AIProductService } = await import('./app/services/AIProductService.js');\n      const aiService = new AIProductService();\n      await aiService.initialize();\n      \n      console.log('🗄️ Active service:', aiService.activeService);\n      console.log('📊 Searching in database/service...');\n      \n      // Search using the AI service (will use Supabase or mock data)\n      const searchResults = await aiService.searchProducts(searchTerm, 'general search');\n      \n      console.log('🎯 Database search results found:', searchResults.length);\n      console.log('📝 Database search results:', searchResults.map(p => p.title));\n      \n      // Transform results to match expected format\n      const transformedResults = searchResults.map(product => ({\n        ...product,\n        // Ensure compatibility with existing product card format\n        priceRange: product.price ? [parseFloat(product.price.replace('$', '').replace(',', '')), parseFloat(product.price.replace('$', '').replace(',', ''))] : [0, 0],\n        category: product.category || 'general',\n        tags: product.tags || [],\n        description: product.description || product.whyBuy || 'Great product!',\n        image: product.image || 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=600&fit=crop&crop=center',\n        affiliateUrl: product.affiliateUrl || product.link || 'https://example.com'\n      }));\n      \n      console.log('🎨 Setting transformed products:', transformedResults.length);\n      setProducts(sortProducts(transformedResults));\n      setIsLoadingAnimation(false);\n      \n      if (transformedResults.length === 0) {\n        console.log('⚠️ No search results from database, setting error message');\n        setErrorMessage('No products found. Try a different search term.');\n      } else {\n        console.log('✅ Database search successful, clearing error message');\n        setErrorMessage(null);\n      }\n      \n      await aiService.cleanup();\n      \n    } catch (error) {\n      console.error('❌ Database search failed, falling back to mock data:', error);\n      \n      // Fallback to mock data search\n      const searchResults = mockProducts.filter(product => \n        product.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.category.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\n      );\n      \n      console.log('🎯 Mock fallback results:', searchResults.length);\n      const finalProducts = searchResults.length > 0 ? searchResults : mockProducts;\n      setProducts(sortProducts(finalProducts));\n      setIsLoadingAnimation(false);\n      \n      if (searchResults.length === 0) {\n        setErrorMessage('No products found. Try a different search term.');\n      } else {\n        setErrorMessage(null);\n      }\n    }\n  };\n  \n  // Calculate product relevance score based on selected persona and life moment\n  const getRelevanceScore = (product) => {\n    let score = 1;\n    \n    // Apply persona-based scoring\n    if (selectedPersona) {\n      // Student persona - Prioritize budget-friendly options with strong emphasis on price\n      if (selectedPersona.id === 'student') {\n        // Heavy penalty for expensive products\n        if (product.price > 1500) {\n          score -= 5; // Significant penalty for high-priced products\n        } else if (product.price < 1000) {\n          score += 4; // Big boost for affordable products\n        }\n        \n        // Additional boosts for student-friendly tags\n        if (product.tags.includes('student')) score += 3;\n        if (product.tags.includes('budget')) score += 2.5;\n        if (product.tags.includes('entry-level')) score += 2;\n        if (product.tags.includes('portable')) score += 1.5;\n        \n        // Value insight boost for student persona\n        const valueInsight = product.insights.find(i => i.label === 'Value');\n        if (valueInsight && valueInsight.value > 85) {\n          score += 2;\n        }\n      }\n      // Traveler persona - Focus on portability\n      else if (selectedPersona.id === 'traveler') {\n        // Prioritize lightweight and portable products\n        if (product.tags.includes('portable')) score += 3;\n        if (product.tags.includes('lightweight')) score += 2.5;\n        \n        // Battery life is important for travelers\n        const batteryInsight = product.insights.find(i => i.label === 'Battery Life');\n        if (batteryInsight && batteryInsight.value > 90) {\n          score += 2;\n        }\n      }\n      // Creative Pro persona - Focus on performance\n      else if (selectedPersona.id === 'creative') {\n        // Prioritize high-performance products\n        if (product.tags.includes('pro')) score += 2;\n        if (product.tags.includes('premium')) score += 1.5;\n        if (product.tags.includes('creative')) score += 3;\n        \n        // Performance insight boost\n        const performanceInsight = product.insights.find(i => i.label === 'Performance');\n        if (performanceInsight && performanceInsight.value > 90) {\n          score += 2.5;\n        }\n      }\n      // Business Pro persona - Balance of performance and reliability\n      else if (selectedPersona.id === 'business') {\n        // Prioritize reliable business-oriented products\n        if (product.tags.includes('pro')) score += 1.5;\n        if (product.tags.includes('balanced')) score += 2;\n        \n        // Look for good all-around performance\n        let allRoundScore = 0;\n        let insightCount = 0;\n        \n        product.insights.forEach(insight => {\n          allRoundScore += insight.value;\n          insightCount++;\n        });\n        \n        // Reward well-balanced products\n        if (insightCount > 0 && (allRoundScore / insightCount) > 85) {\n          score += 2;\n        }\n      }\n    }\n    \n    // Apply life moment based scoring\n    if (selectedLifeMoment) {\n      // Strong boost for primary category match\n      if (selectedLifeMoment.primaryCategory && product.category === selectedLifeMoment.primaryCategory) {\n        score += 4;\n      }\n      \n      // Apply tag boosts based on life moment\n      product.tags.forEach(tag => {\n        const momentTagWeights = selectedLifeMoment.tagWeights || {};\n        if (momentTagWeights[tag]) {\n          score += momentTagWeights[tag];\n        }\n      });\n    }\n    \n    return score;\n  };\n  \n  // Sort products based on relevance score\n  const sortProducts = (products) => {\n    if (!products || !Array.isArray(products)) return [];\n    \n    // Create a copy to avoid mutating the original array\n    return [...products].sort((a, b) => {\n      const scoreA = getRelevanceScore(a);\n      const scoreB = getRelevanceScore(b);\n      \n      // Primary sort by relevance score\n      if (scoreB !== scoreA) {\n        return scoreB - scoreA;\n      }\n      \n      // Secondary sort by rating (higher is better)\n      if (b.rating !== a.rating) {\n        return b.rating - a.rating;\n      }\n      \n      // Tertiary sort by price (lower is better)\n      return a.price - b.price;\n    });\n  };\n  \n  // Handle persona selection\n  const handlePersonaSelect = (persona) => {\n    setSelectedPersona(persona);\n    setShowPersonaPanel(false); // Assuming this closes a panel\n    setIsLoadingAnimation(true);\n    setErrorMessage(null);\n\n    setTimeout(() => {\n      let filteredProducts = [];\n      const personaId = persona.id;\n\n      console.log(`[DEBUG] Filtering for persona: ${personaId}`);\n\n      // Initial filter based on specific \"-pick\" tags for all personas\n      if (personaId === 'student') {\n        console.log('[DEBUG Student] Attempting primary filter for student-pick...');\n        filteredProducts = mockProducts.filter(p => p.tags.includes('student-pick'));\n        console.log(`[DEBUG Student] After primary \\'student-pick\\' filter, found ${filteredProducts.length} products. Titles:`, filteredProducts.map(p => p.id + \": \" + p.title));\n      } else if (personaId === 'trendsetter') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('trendsetter-pick'));\n        console.log(`[DEBUG Trendsetter] After primary \\'trendsetter-pick\\' filter, found ${filteredProducts.length} products.`);\n      } else if (personaId === 'optimizer') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('optimizer-pick'));\n        console.log(`[DEBUG Optimizer] After primary \\'optimizer-pick\\' filter, found ${filteredProducts.length} products.`);\n      } else if (personaId === 'conscious') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('conscious-pick'));\n        console.log(`[DEBUG Conscious] After primary \\'conscious-pick\\' filter, found ${filteredProducts.length} products.`);\n      } else {\n        // Fallback for any persona that might not have a specific \"-pick\" logic above (should not happen with current personas)\n        console.log(`[DEBUG ${personaId}] No specific -pick logic. Applying general tag/category filter for ${personaId}.`);\n        filteredProducts = mockProducts.filter(p => \n          (p.tags.includes(personaId)) || \n          (p.category.toLowerCase().includes(personaId))\n        );\n      }\n      \n      console.log(`[DEBUG ${personaId}] After initial specific pick/filter, found ${filteredProducts.length} products.`);\n      if (filteredProducts.length > 0) {\n         console.log(`[DEBUG ${personaId}] Titles after initial pick: `, filteredProducts.map(p => p.title));\n      }\n\n      // Fallback logic if initial filter yields less than 5 products\n      if (filteredProducts.length < 5 && mockProducts.length > 0) {\n        console.log(`[DEBUG ${personaId}] Initial filter yielded < 5 products (${filteredProducts.length}). Attempting broader filter.`);\n        \n        let broaderFilter = [];\n        const originalPickCount = filteredProducts.length; // Store how many items the specific pick found\n        const specificPicksHadItems = originalPickCount > 0;\n\n        if (personaId === 'student') {\n            console.log('[DEBUG Student] Applying broader student filter...');\n            const studentBroadTags = ['budget-friendly', 'study-essential', 'campus-essential', 'portable', 'value-deal'];\n            broaderFilter = mockProducts.filter(p => {\n                const hasBroadTag = studentBroadTags.some(tag => p.tags.includes(tag));\n                const isRelevantCategory = ['laptop', 'accessories', 'electronics', 'subscription', 'food'].includes(p.category);\n                return hasBroadTag || isRelevantCategory;\n            });\n            console.log(`[DEBUG Student] After broader student filter, found ${broaderFilter.length} products. Titles:`, broaderFilter.map(p=>p.id + \": \" + p.title));\n        } else {\n            // Broader filter logic for other personas (trendsetter, optimizer, conscious)\n            console.log(`[DEBUG ${personaId}] Applying broader filter for non-student persona ${personaId}...`);\n            const personaTags = { \n                trendsetter: ['premium', 'innovative', 'stylish-travel', 'beauty-tech', 'camera-excellence', 'luxury-travel', 'design-focused', 'wearable-tech', 'fashionable-function'],\n                optimizer: ['pro', 'performance', 'ergonomic', 'office-essential', 'productivity-tool', 'tech-essential', 'business-laptop', 'audio-excellence'],\n                conscious: ['sustainable', 'eco-friendly', 'organic', 'minimalist', 'durable-design', 'ethical-brand', 'sustainable-fashion', 'health-conscious'],\n            };\n            broaderFilter = mockProducts.filter(p => {\n                return personaTags[personaId]?.some(tag => p.tags.includes(tag)) || \n                       p.category.toLowerCase().includes(personaId);\n            });\n            console.log(`[DEBUG ${personaId}] Broader filter for ${personaId} found ${broaderFilter.length} products.`);\n             if (broaderFilter.length > 0) {\n                console.log(`[DEBUG ${personaId}] Titles from broader filter: `, broaderFilter.map(p => p.title));\n            }\n        }\n\n        if (broaderFilter.length >= 5) {\n            console.log(`[DEBUG ${personaId}] Broader filter successful (${broaderFilter.length} products). Using broader set.`);\n            filteredProducts = broaderFilter;\n        } else {\n            console.log(`[DEBUG ${personaId}] Broader filter also yielded < 5 products (${broaderFilter.length}).`);\n            // If specific picks originally had items, and broader search didn't get 5, prefer the original specific picks.\n            // This prevents a good specific small set from being overridden by an even smaller (or empty) broad set.\n            if (specificPicksHadItems) {\n                console.log(`[DEBUG ${personaId}] Broader filter insufficient. Reverting to original specific -pick items (${originalPickCount} products) because they existed.`);\n                // Re-fetch the original picks to ensure `filteredProducts` is correctly set\n                 if (personaId === 'student') {\n                    filteredProducts = mockProducts.filter(p => p.tags.includes('student-pick'));\n                 } else if (personaId === 'trendsetter') {\n                    filteredProducts = mockProducts.filter(p => p.tags.includes('trendsetter-pick'));\n                 } else if (personaId === 'optimizer') {\n                    filteredProducts = mockProducts.filter(p => p.tags.includes('optimizer-pick'));\n                 } else if (personaId === 'conscious') {\n                    filteredProducts = mockProducts.filter(p => p.tags.includes('conscious-pick'));\n                 }\n                 // If, after all this, filteredProducts is still empty (e.g. no -pick and no broad results)\n                 // then the critical fallback below will catch it.\n            } else {\n                // If specific picks had NO items, and broader also failed to get 5, then we check broaderFilter.\n                // If broaderFilter has *any* items, use them. Otherwise, it'll go to critical fallback.\n                if(broaderFilter.length > 0){\n                    console.log(`[DEBUG ${personaId}] Original picks were empty, broader filter has ${broaderFilter.length}. Using broader filter results.`);\n                    filteredProducts = broaderFilter;\n                } else {\n                    console.log(`[DEBUG ${personaId}] Original picks were empty, and broader filter was also empty. Will proceed to critical fallback if necessary.`);\n                    // `filteredProducts` remains empty here, will be caught by critical fallback if mockProducts has items.\n                }\n            }\n        }\n      }\n      \n      console.log(`[DEBUG ${personaId}] After all primary and secondary filtering, product count: ${filteredProducts.length}.`);\n\n      // CRITICAL FALLBACK: If all filtering attempts for a persona result in zero products, show all products.\n      if (filteredProducts.length === 0 && mockProducts.length > 0) {\n          console.warn(`[DEBUG ${personaId}] CRITICAL FALLBACK: All filtering resulted in zero products. Showing all ${mockProducts.length} available products instead for ${personaId}.`);\n          filteredProducts = [...mockProducts];\n      }\n\n      console.log(`[DEBUG ${personaId}] FINAL products to be set before sorting for ${personaId}: ${filteredProducts.length} items.`);\n      if (filteredProducts.length > 0) {\n        console.log(`[DEBUG ${personaId}] Final Titles before sorting:`, filteredProducts.map(p => p.title));\n      } else {\n        console.log(`[DEBUG ${personaId}] No products to display for ${personaId} after all filtering.`);\n      }\n\n      setProducts(sortProducts(filteredProducts)); \n      setIsLoadingAnimation(false);\n      setIsDiscoveryMode(false);\n      \n      if (filteredProducts.length === 0 && mockProducts.length > 0) { // This message might now be redundant due to the critical fallback above but kept for safety.\n        setErrorMessage(`No products specifically matched \"${persona.name}\". We're showing all available products instead.`);\n         console.log(`[UI HINT] Setting error message for ${personaId} as no specific products found, but showing all due to fallback.`);\n      } else if (filteredProducts.length === 0 && mockProducts.length === 0) {\n        setErrorMessage(`No products available in the store at the moment.`);\n        console.log(`[UI HINT] Setting error message as no products in store.`);\n      } else {\n        setErrorMessage(null); // Clear any previous error messages if products are found\n      }\n\n    }, 1000);\n  };\n  \n  // Handle life moment selection\n  const handleLifeMomentSelect = (moment) => {\n    setSelectedLifeMoment(moment);\n    setShowLifeMomentPanel(false);\n    setIsLoadingAnimation(true);\n    setErrorMessage(null);\n\n    setTimeout(() => {\n      let filteredProducts = [];\n      const momentId = moment.id;\n\n      console.log(`Filtering for life moment: ${momentId}`);\n\n      // Primary filter using specific life moment tags\n      if (momentId === 'new-arrival') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('new-arrival-essential'));\n      } else if (momentId === 'career-launch') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('career-launch-essential'));\n      } else if (momentId === 'sanctuary') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('sanctuary-essential'));\n      } else if (momentId === 'golden-years') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('golden-years-essential'));\n      } else if (momentId === 'gamer-setup') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('gamer-setup-essential'));\n      } else if (momentId === 'sustainable-living') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('sustainable-living-essential'));\n      } else if (momentId === 'wellness-retreat') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('wellness-retreat-essential'));\n      } else if (momentId === 'perfect-hosting') {\n        filteredProducts = mockProducts.filter(p => p.tags.includes('perfect-hosting-essential'));\n      } else {\n        // Fallback for any other moment or if no specific picks are defined\n        filteredProducts = mockProducts.filter(p => \n          (p.tags.includes(momentId)) || // General tag match\n          (p.category.toLowerCase().includes(momentId)) // General category match\n        );\n      }\n\n      console.log(`Initial filtered products for ${momentId}:`, filteredProducts.length);\n\n      // Ensure a minimum number of products, or show all if specific filter is too narrow\n      if (filteredProducts.length < 4 && mockProducts.length > 0) {\n        console.log(`Not enough specific products for ${momentId}, broadening search.`);\n        // If specific picks are too few, try a broader filter based on general tags or categories\n        let broaderFilter = mockProducts.filter(p => {\n          const momentTags = { // Define some broader tags for each moment if specific picks are < 4\n            'new-arrival': ['baby', 'infant-care', 'parenting', 'premium-parenting', 'smart-parenting'],\n            'career-launch': ['pro', 'performance', 'premium', 'office-essential', 'productivity-tool', 'business-laptop'],\n            'sanctuary': ['home-comfort', 'premium-comfort', 'design-focused', 'premium-kitchen', 'ergonomic'],\n            'golden-years': ['senior-friendly', 'easy-to-use', 'reading-comfort', 'portable-audio', 'large-screen'],\n            'gamer-setup': ['gaming', 'performance', 'tech-essential', 'high-refresh', 'competitive-gaming'],\n            'sustainable-living': ['sustainable', 'eco-friendly', 'organic', 'minimalist', 'ethical-brand'],\n            'wellness-retreat': ['health-tech', 'wellness', 'comfort-wear', 'self-care', 'relaxation'],\n            'perfect-hosting': ['kitchen', 'entertaining', 'premium-kitchen', 'quality-brew', 'versatile-appliance']\n          };\n          return momentTags[momentId]?.some(tag => p.tags.includes(tag)) || \n                 p.category.toLowerCase().includes(momentId) ||\n                 (momentId === 'new-arrival' && p.category === 'baby') ||\n                 (momentId === 'sanctuary' && (p.category === 'kitchen' || p.category === 'furniture')) ||\n                 (momentId === 'gamer-setup' && (p.category === 'electronics' || p.category === 'audio')) ||\n                 (momentId === 'perfect-hosting' && p.category === 'kitchen');\n        });\n\n        if (broaderFilter.length >= 4) {\n          filteredProducts = broaderFilter;\n        } else if (mockProducts.filter(p => p.tags.includes(momentId + \"-essential\")).length > 0 && filteredProducts.length === 0) {\n          // If there *are* -essential items but they were somehow filtered out, re-add them\n          filteredProducts = mockProducts.filter(p => p.tags.includes(momentId + \"-essential\"));\n        } else {\n          // If still not enough, use the initial specific picks or all if specific picks were zero\n          if(mockProducts.filter(p => p.tags.includes(momentId + \"-essential\")).length > 0 && filteredProducts.length === 0){\n            filteredProducts = mockProducts.filter(p => p.tags.includes(momentId + \"-essential\"));\n          } else if (filteredProducts.length === 0) { // Only show all if specific picks truly yield nothing\n            console.log(`No specific or broader products for ${momentId}, showing all products.`);\n            filteredProducts = [...mockProducts]; // Fallback to all products if no specific products found\n          }\n        }\n      }\n\n      // If after all attempts, filteredProducts is still empty, show all products.\n      // This is a final safety net.\n      if (filteredProducts.length === 0 && mockProducts.length > 0) {\n        console.log(`Critical fallback for ${momentId}: All filters resulted in zero products. Showing all products.`);\n        filteredProducts = [...mockProducts];\n      }\n\n      setProducts(sortProducts(filteredProducts)); // sortProducts will handle empty array if needed\n      setIsLoadingAnimation(false);\n      setIsDiscoveryMode(false);\n      \n      console.log(`Final products for ${momentId}:`, filteredProducts.length, filteredProducts.map(p=>p.title));\n      if (filteredProducts.length === 0 && mockProducts.length > 0) {\n        setErrorMessage(`No products found for \"${moment.name}\". We're showing all available products instead.`);\n      } else if (filteredProducts.length === 0 && mockProducts.length === 0) {\n        setErrorMessage(`No products available in the store at the moment.`);\n      }\n\n    }, 1000);\n  };\n  \n  // Remove filters\n  const removePersonaFilter = () => {\n    setSelectedPersona(null);\n    \n    // Reapply any remaining filters\n    setIsLoadingAnimation(true);\n    \n    setTimeout(() => {\n      setProducts(sortProducts([...mockProducts]));\n      setIsLoadingAnimation(false);\n    }, 500);\n  };\n  \n  const removeLifeMomentFilter = () => {\n    setSelectedLifeMoment(null);\n    \n    // Reapply any remaining filters\n    setIsLoadingAnimation(true);\n    \n    setTimeout(() => {\n      setProducts(sortProducts([...mockProducts]));\n      setIsLoadingAnimation(false);\n    }, 500);\n  };\n  \n  // Function to handle visual search results\n  const handleVisualSearch = async (searchLabels, searchType = 'labels') => {\n    console.log('🔍 Handling visual search with:', { searchLabels, searchType });\n    \n    // If this is a direct results display from the visual search component\n    if (searchType === 'visual-search' && Array.isArray(searchLabels)) {\n      console.log('🎯 Displaying visual search results directly');\n      \n      // Transform visual search results to match product format\n      const transformedResults = searchLabels.map(product => ({\n        ...product,\n        // Ensure compatibility with existing product card format\n        priceRange: typeof product.priceRange === 'object' ? \n          product.priceRange : \n          product.price ? \n            [parseFloat(product.price.replace('$', '').replace(',', '')), parseFloat(product.price.replace('$', '').replace(',', ''))] : \n            [0, 0],\n        image: product.images && product.images[0] ? product.images[0] : product.image,\n        description: product.description || product.whyBuyThis || 'Premium product discovered through visual search',\n        category: product.category || 'visual-search',\n        tags: product.tags || ['visual-search', 'ai-discovered'],\n        affiliateUrl: product.affiliateUrl || 'https://example.com'\n      }));\n      \n      // Set up the visual search results view\n      setProducts(sortProducts(transformedResults));\n      setIsDiscoveryMode(false);\n      setShowTrendingSocial(false);\n      setShowAiCurateView(null);\n      setSearchQuery('Visual Search Results');\n      setErrorMessage(null);\n      \n      // Update browser history\n      if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n        window.history.pushState({ page: 'visual-search-results' }, '', '?view=visual-search');\n      }\n      \n      return;\n    }\n    \n    // Original label-based visual search logic\n    setIsLoadingAnimation(true);\n    setErrorMessage(null);\n    console.log('🔍 Performing visual search with labels:', searchLabels);\n    \n    try {\n      // Import and initialize our AI service\n      const { AIProductService } = await import('./app/services/AIProductService.js');\n      const aiService = new AIProductService();\n      \n      console.log('🔧 Initializing AI service...');\n      const initialized = await aiService.initialize();\n      \n      if (!initialized) {\n        throw new Error('Failed to initialize AI service');\n      }\n      \n      console.log('✅ AI service initialized successfully');\n      \n      // Combine all search labels into a single query\n      const searchQuery = Array.isArray(searchLabels) ? searchLabels.join(' ') : searchLabels;\n      console.log(`🔍 Searching database for: \"${searchQuery}\"`);\n      \n      // Search our Supabase database for matching products\n      const searchResults = await aiService.searchProducts(searchQuery, selectedPersona?.id || 'tech enthusiast');\n      \n      console.log(`📊 Raw search results: ${searchResults.length} products`);\n      \n      // Transform and limit results\n      const transformedResults = searchResults.slice(0, 8).map(product => ({\n        ...product,\n        priceRange: product.price ? [parseFloat(product.price.replace('$', '').replace(',', '')), parseFloat(product.price.replace('$', '').replace(',', ''))] : [0, 0],\n        category: product.category || 'general',\n        tags: product.tags || ['visual-search'],\n        description: product.description || product.whyBuy || 'Great product!',\n        image: product.image || 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=600&fit=crop&crop=center',\n        affiliateUrl: product.affiliateUrl || product.link || 'https://example.com'\n      }));\n      \n      console.log(`✅ Final results: ${transformedResults.length} products`);\n      \n      // Update UI with search results\n      setTimeout(() => {\n        setProducts(sortProducts(transformedResults));\n        setIsDiscoveryMode(false);\n        setShowTrendingSocial(false);\n        setShowAiCurateView(null);\n        setIsLoadingAnimation(false);\n        \n        if (transformedResults.length === 0) {\n          setErrorMessage('No products found matching your visual search. Try selecting different items from the image or use a different image.');\n        } else {\n          setErrorMessage(null);\n          console.log(`🎯 Displaying ${transformedResults.length} visual search results`);\n        }\n      }, 500);\n      \n    } catch (error) {\n      console.error('❌ Visual search failed:', error);\n      console.error('Error details:', error.stack);\n      \n      // More specific error handling\n      let errorMsg = 'Visual search encountered an error. ';\n      if (error.message.includes('initialize')) {\n        errorMsg += 'Database connection failed. Please try again.';\n      } else if (error.message.includes('network') || error.message.includes('fetch')) {\n        errorMsg += 'Network error. Please check your connection.';\n      } else {\n        errorMsg += 'Please try again or use text search.';\n      }\n      \n      setTimeout(() => {\n        setProducts([]);\n        setIsDiscoveryMode(false);\n        setIsLoadingAnimation(false);\n        setErrorMessage(errorMsg);\n      }, 500);\n    }\n  };\n  \n\n  const isSmallScreen = screenWidth < 768; // Define a breakpoint\n\n\n  // कांस्टेंट定义\n  const APP_VERSION = \"1.0.0-ultra-modern-mobile-scroll\";\n  const IS_DEV_MODE = __DEV__; // true in Expo Go, false in standalone/production\n\n  // --- Constants & Initial Setup ---\n  const mockProducts = [\n    {\n      id: '1',\n      title: 'Dyson Supersonic™ Hair Dryer',\n      brand: 'Dyson',\n      priceRange: [399, 429],\n      category: 'haircare',\n      tags: ['premium', 'tech', 'beauty'],\n      images: [\n        'https://images.unsplash.com/photo-1620331317314-530796315638?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60', // Placeholder if original fails\n        // ... other images\n      ],\n      rating: 4.9,\n      description: 'Fast drying. No extreme heat. Engineered for different hair types.',\n      whyBuyThis: 'Top-tier haircare tech. Protects hair while drying fast. Iconic. ✨',\n      affiliateUrl: 'https://www.dyson.com/hair-care/hair-dryers/supersonic'\n    },\n    // ... other mock products\n  ];\n\n  // --- Helper Functions ---\n  // ... (hexToRgba, shadeColor, openExternalLink etc. remain unchanged) ...\n\n  // ... (InsightBar, ProductPreviewOverlay, WebXRARViewer, VirtualTryOn, ProductCard, VisualSearch components remain unchanged) ...\n\n  // Enhanced function for fetching AI curated products from actual database\n  async function fetchAiCuratedProducts(selectedBrands, personaStyle, personaBudget, lookingFor) {\n    console.log(\"🎯 AI Curation: Searching database first, then curating...\", {\n      selectedBrands,\n      personaStyle,\n      personaBudget,\n      lookingFor\n    });\n\n    try {\n      // Step 1: Initialize AI service and search existing products in database\n      console.log(\"📊 Searching existing product database...\");\n      let candidateProducts = [];\n      \n      // Import and initialize AIProductService\n      const { AIProductService } = await import('./app/services/AIProductService.js');\n      const aiService = new AIProductService();\n      await aiService.initialize();\n      \n      // Use AIProductService to search actual products\n      if (aiService && aiService.initialized) {\n        const searchQuery = lookingFor || selectedBrands.join(' ') || personaStyle || 'products';\n        const persona = `${personaStyle} ${selectedBrands.join(' ')} ${personaBudget}`;\n        \n        candidateProducts = await aiService.searchProducts(searchQuery, persona);\n        console.log(`✅ Found ${candidateProducts.length} candidate products from database`);\n        \n        // Filter by selected brands if specified\n        if (selectedBrands.length > 0) {\n          const brandFilteredProducts = candidateProducts.filter(product => \n            selectedBrands.some(brand => \n              product.title.toLowerCase().includes(brand.toLowerCase()) ||\n              product.source.toLowerCase().includes(brand.toLowerCase())\n            )\n          );\n          \n          if (brandFilteredProducts.length > 0) {\n            candidateProducts = brandFilteredProducts;\n            console.log(`🏢 Filtered to ${candidateProducts.length} products matching selected brands`);\n          }\n        }\n        \n        // If we have good candidates from database, use them directly\n        if (candidateProducts.length >= 3) {\n          console.log(\"🎉 Using database products for curation\");\n          \n          // Transform database products to expected format\n          const curatedProducts = candidateProducts.slice(0, 5).map(product => ({\n            title: product.title,\n            brand: extractBrandFromProduct(product),\n            whyBuyThis: product.whyBuy || generateWhyBuy(product, selectedBrands),\n            category: product.category || 'general',\n            price: product.price,\n            image: product.image || getDefaultImage(product.title),\n            affiliateUrl: product.link || 'https://example.com/product',\n            description: product.description,\n            features: product.features,\n            reviews: product.reviews,\n            prosAndCons: product.prosAndCons\n          }));\n          \n          return curatedProducts;\n        }\n      }\n      \n      console.log(\"⚠️ Limited database results, falling back to AI generation...\");\n      \n      // Step 2: If insufficient database results, use AI generation as fallback\n      const selectedBrandPersonas = selectedBrands\n        .filter(brand => activeBrandPersonas[brand])\n        .map(brand => ({\n          brand,\n          ...activeBrandPersonas[brand]\n        }));\n\n      let brandPersonaContext = '';\n      if (selectedBrandPersonas.length > 0) {\n        brandPersonaContext = `\n\nBrand Personas (use these to guide product selection):\n${selectedBrandPersonas.map(bp => \n  `- ${bp.brand}: ${bp.persona} - ${bp.description}\n    Keywords: ${bp.keywords.join(', ')}\n    Values: ${bp.values.join(', ')}\n    Target: ${bp.demographics.join(', ')}`\n).join('\\n')}\n\nIMPORTANT: Prioritize products from our database if available. If generating new products, ensure they align with brand personas.`;\n      }\n\n      let prompt = `You are \"Curator,\" an expert AI shopping assistant. Your goal is to curate products for a user.\n\nUser Preferences:\n- Liked Brands: ${selectedBrands.length > 0 ? selectedBrands.join(', ') : 'None specified'}\n- Desired Style: ${personaStyle || 'Not specified'}\n- Budget Indication: ${personaBudget || 'Not specified'}\n- Specifically LookingFor: ${lookingFor || 'A general collection based on style and brands'}${brandPersonaContext}\n\n${candidateProducts.length > 0 ? `\nEXISTING PRODUCTS FOUND (prioritize these):\n${candidateProducts.slice(0, 3).map(p => \n  `- ${p.title} (${p.price}) - ${p.whyBuy || p.description}`\n).join('\\n')}\n` : ''}\n\nGenerate 3-5 product recommendations. For each product, provide:\n- title: Product name\n- brand: Brand name  \n- whyBuyThis: Compelling reason (max 150 chars with emoji)\n- category: Product category\n- price: Price as string\n- image: Unsplash URL (600x600)\n- affiliateUrl: Product link\n\nReturn only a JSON array.`;\n\n      console.log(\"🤖 Sending enhanced prompt to AI...\");\n      \n      // Use Netlify serverless function to avoid CORS issues\n      const API_URL = '/.netlify/functions/ai-curate';\n      \n      console.log(\"---- ATTEMPTING ACTUAL LLM API CALL ----\");\n      console.log(\"Prompt being sent (first 500 chars):\", prompt.substring(0,500));\n\n      const response = await fetch(API_URL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          prompt: prompt,\n          selectedBrands: selectedBrands,\n          personaStyle: personaStyle,\n          personaBudget: personaBudget,\n          lookingFor: lookingFor\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        console.error('LLM API Error Response:', errorData);\n        throw new Error('Failed to get AI response');\n      }\n\n      const data = await response.json();\n      console.log(\"Serverless function success. Response data:\", data);\n      \n      if (Array.isArray(data)) {\n        console.log(\"Received products from serverless function:\", data);\n        return data;\n      } else {\n        console.error(\"Unexpected response format:\", data);\n        throw new Error(\"Invalid response format from AI\");\n      }\n      \n    } catch (error) {\n      console.error(\"❌ Error in AI curation:\", error);\n      \n      // Fallback to mock products if everything fails\n      console.log(\"🔄 Falling back to basic mock products...\");\n      \n      // Import mock data as fallback\n      const { MOCK_PRODUCTS } = await import('./app/services/mockData.js');\n      \n      // Filter mock products by selected brands if possible\n      let fallbackProducts = MOCK_PRODUCTS;\n      if (selectedBrands.length > 0) {\n        const brandFilteredMock = MOCK_PRODUCTS.filter(product => \n          selectedBrands.some(brand => \n            product.title.toLowerCase().includes(brand.toLowerCase()) ||\n            product.source.toLowerCase().includes(brand.toLowerCase())\n          )\n        );\n        if (brandFilteredMock.length > 0) {\n          fallbackProducts = brandFilteredMock;\n        }\n      }\n      \n      return fallbackProducts.slice(0, 3).map(product => ({\n        title: product.title,\n        brand: extractBrandFromProduct(product),\n        whyBuyThis: product.whyBuy || generateWhyBuy(product, selectedBrands),\n        category: product.category || 'general',\n        price: product.price,\n        image: product.image || getDefaultImage(product.title),\n        affiliateUrl: product.link || 'https://example.com/product'\n      }));\n    }\n\n    // Helper functions (moved outside try-catch)\n    function extractBrandFromProduct(product) {\n      if (product.source && product.source !== 'Mock Data') {\n        return product.source.replace(' Official', '').replace(' Store', '');\n      }\n      \n      // Try to extract from title\n      const knownBrands = ['Apple', 'Nike', 'Sony', 'Samsung', 'Dyson', 'Bose', 'Microsoft', 'Google'];\n      for (const brand of knownBrands) {\n        if (product.title.toLowerCase().includes(brand.toLowerCase())) {\n          return brand;\n        }\n      }\n      \n      return 'Premium Brand';\n    }\n    \n    function generateWhyBuy(product, selectedBrands) {\n      const brandEmojis = {\n        'Apple': '🍎',\n        'Nike': '🏃‍♂️', \n        'Sony': '🎵',\n        'Samsung': '📱',\n        'Dyson': '🌪️',\n        'Bose': '🎧'\n      };\n      \n      const brand = extractBrandFromProduct(product);\n      const emoji = brandEmojis[brand] || '✨';\n      \n      return `${emoji} ${product.description?.split('.')[0] || 'Premium quality with authentic warranty'}`;\n    }\n    \n    function getDefaultImage(title) {\n      const imageMap = {\n        'iphone': 'https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=600&h=600&fit=crop',\n        'headphone': 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=600&h=600&fit=crop',\n        'laptop': 'https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=600&h=600&fit=crop',\n        'shoe': 'https://images.unsplash.com/photo-1549298916-b41d501d3772?w=600&h=600&fit=crop',\n        'vacuum': 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600&h=600&fit=crop'\n      };\n      \n      const titleLower = title.toLowerCase();\n      for (const [keyword, image] of Object.entries(imageMap)) {\n        if (titleLower.includes(keyword)) return image;\n      }\n      \n      return 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=600&h=600&fit=crop';\n    }\n\n  }\n\n  return (\n    <View style={styles.container}>\n\n      {/* Content */}\n      <ScrollView \n        style={styles.content}\n        onScroll={Animated.event(\n          [{ nativeEvent: { contentOffset: { y: scrollY } } }],\n          { useNativeDriver: true }\n        )}\n        scrollEventThrottle={16}\n      >\n        {isLoadingAnimation ? (\n          <View style={styles.loadingContainer}>\n            <Animated.View \n              style={styles.loadingPulse}\n            />\n            <Text style={styles.loadingText}>\n              Personalizing for you...\n            </Text>\n          </View>\n        ) : errorMessage ? (\n          <View style={styles.errorContainer}>\n            <Text style={styles.errorText}>{errorMessage}</Text>\n          </View>\n        ) : showTrendingSocial ? (\n          // Trending Social Page - Refactored to match product/persona page layout\n          <View style={styles.modernProductGrid}> {/* Use modernProductGrid for consistent padding and background */}\n            {/* Re-using the ultraModernMainHeader structure */}\n            <View style={styles.ultraModernMainHeader}>\n              <View style={styles.mainHeaderContent}>\n                <View style={styles.brandSection}>\n                  <Text style={styles.ultraModernBrandLabel}>CURATED FOR YOU</Text>\n                  <Text style={styles.ultraModernBrandTitle}>Trending on Social</Text>\n                  <Text style={styles.ultraModernBrandTagline}>\n                    {trendRadarData.length} products • what's capturing attention right now\n                  </Text>\n                </View>\n                \n                <View style={styles.ultraModernProductHeaderControls}>\n                  <TouchableOpacity \n                    style={styles.ultraModernBackButton}\n                    onPress={() => {\n                      setShowTrendingSocial(false);\n                      setIsDiscoveryMode(true);\n                    }}\n                  >\n                    <Text style={styles.ultraModernBackButtonText}>← Discover</Text>\n                  </TouchableOpacity>\n                </View>\n              </View>\n            </View>\n\n            {/* Trending Products Grid - now using productGrid for two-column layout */}\n            <View style={styles.productGrid}>\n              {trendRadarData.map((trendItem) => {\n                // Find the corresponding product in mockProducts\n                const product = mockProducts.find(p => \n                  p.title.toLowerCase().includes(trendItem.title.toLowerCase()) ||\n                  p.category.toLowerCase() === trendItem.category.toLowerCase()\n                ) || {\n                  // Fallback product data based on trend item\n                  id: `trend-${trendItem.id}`,\n                  title: trendItem.title,\n                  price: trendItem.category === 'ELECTRONICS' ? '$399.99' : \n                         trendItem.category === 'HOME' ? '$749.99' :\n                         trendItem.category === 'TRAVEL' ? '$275.00' : '$99.99',\n                  rating: '4.6',\n                  description: `Trending ${trendItem.category.toLowerCase()} product`,\n                  category: trendItem.category.toLowerCase(),\n                  image: trendItem.image,\n                  brand: trendItem.title.split(' ')[0],\n                  affiliateUrl: trendItem.brandUrl || '#',\n                  trendingStats: `${trendItem.trendChange} increase in social mentions • ${trendItem.isViral ? 'Going viral' : 'Steady growth'} • Featured across platforms`,\n                  hotTake: `This ${trendItem.category.toLowerCase()} product is trending because it perfectly captures what people are looking for right now. The surge in social media mentions and reviews shows real consumer excitement.`,\n                  whyBuyThis: `🔥 TRENDING PICK → ${trendItem.trendChange} surge in popularity • Social media approved • Join the conversation • Don't miss out on what everyone's talking about`\n                };\n\n                return (\n                  // Use modernProductCard for individual card styling\n                  <View key={`trending-${trendItem.id}`} style={styles.modernProductCard}>\n                    <View style={styles.productImageContainer}>\n                      <Image\n                        source={{ uri: product.image }}\n                        style={styles.productImage}\n                        resizeMode=\"cover\"\n                      />\n                      <TouchableOpacity style={styles.favoriteButton}>\n                        <Text style={styles.favoriteIcon}>♡</Text>\n                      </TouchableOpacity>\n                      {trendItem.isViral && (\n                        <View style={styles.viralBadge}>\n                          <Text style={styles.viralBadgeText}>VIRAL</Text>\n                        </View>\n                      )}\n                    </View>\n\n                    <View style={styles.productInfo}>\n                      <Text style={styles.brandName}>{product.brand}</Text>\n                      <Text style={styles.productName} numberOfLines={2}>\n                        {product.title}\n                      </Text>\n\n                      <View style={styles.priceRow}>\n                        <Text style={styles.currentPrice}>{product.price}</Text>\n                        <Text style={styles.rating}>★ {product.rating}</Text>\n                      </View>\n\n                      {/* Trending Stats Section */}\n                      {product.trendingStats && (\n                        <View style={styles.trendingStatsContainer}>\n                          <Text style={styles.trendingStatsLabel}>🔥 TRENDING NOW</Text>\n                          <Text style={styles.trendingStatsText}>{product.trendingStats}</Text>\n                        </View>\n                      )}\n\n                      {/* Hot Take Section */}\n                      {product.hotTake && (\n                        <View style={styles.hotTakeContainer}>\n                          <Text style={styles.hotTakeLabel}>💭 CURATOR'S HOT TAKE</Text>\n                          <Text style={styles.hotTakeText}>{product.hotTake}</Text>\n                        </View>\n                      )}\n\n                      {/* Why Buy This Section */}\n                      {product.whyBuyThis && (\n                        <View style={styles.whyBuyThisContainer}>\n                          <Text style={styles.whyBuyThisText}>{product.whyBuyThis}</Text>\n                        </View>\n                      )}\n\n                      {/* Action Buttons */}\n                      <View style={styles.productCardButtonContainer}>\n                        <TouchableOpacity\n                          style={[styles.minimalistButtonShared, styles.minimalistButtonPrimary]}\n                          onPress={() => {\n                            if (trendItem.brandUrl) {\n                              openExternalLink(trendItem.brandUrl);\n                            } else if (product.affiliateUrl && product.affiliateUrl !== '#') {\n                              openExternalLink(product.affiliateUrl);\n                            } else {\n                              alert('Product link coming soon!');\n                            }\n                          }}\n                        >\n                          <Text style={[styles.buttonTextShared, styles.buttonTextPrimary]}>Shop on Brand Website</Text>\n                        </TouchableOpacity>\n                        <TouchableOpacity\n                          style={[styles.minimalistButtonShared, styles.minimalistButtonSecondary]}\n                          onPress={() => alert('The Curator Agent will assist you with this purchase soon!')}\n                        >\n                          <Text style={[styles.buttonTextShared, styles.buttonTextSecondary]}>Shop with Curator Agent</Text>\n                        </TouchableOpacity>\n                      </View>\n                    </View>\n                  </View>\n                );\n              })}\n            </View>\n          </View>\n        ) : isDiscoveryMode ? (\n          <View style={[styles.discoveryContainer, isSmallScreen && styles.ultraModernDiscoveryContainerPaddingSmallScreen]}>\n            {/* Ultra-Modern Main Header */}\n            <View style={[styles.ultraModernMainHeader, isSmallScreen && styles.ultraModernMainHeaderSmallScreen]}>\n              <View style={styles.mainHeaderContent}>\n                <View style={styles.brandSection}>\n                  <Text style={styles.ultraModernBrandLabel}>DISCOVERY</Text>\n                  <Text style={[styles.ultraModernBrandTitle, isSmallScreen && styles.ultraModernBrandTitleSmallScreen]}>curator</Text>\n                  <Text style={[styles.ultraModernBrandTagline, isSmallScreen && styles.ultraModernBrandTaglineSmallScreen]}>\n                    where artificial intelligence meets intentional living\n                  </Text>\n                </View>\n                \n                <View style={[styles.ultraModernHeaderControls, isSmallScreen && styles.ultraModernHeaderControlsSmallScreen]}>\n                  <View style={[styles.ultraModernSearchContainer, isSmallScreen && styles.ultraModernSearchContainerSmallScreen]}>\n                    <View style={[styles.searchInputWrapper, isSmallScreen && styles.searchInputWrapperSmallScreen]}>\n                      <TextInput\n                        style={[styles.ultraModernSearchInput, isSmallScreen && styles.ultraModernSearchInputSmallScreen]}\n                        placeholder=\"discover your perfect aesthetic...\"\n                        placeholderTextColor=\"#A0A0A0\"\n                        value={searchQuery}\n                        onChangeText={setSearchQuery}\n                        onSubmitEditing={() => handleSearch(searchQuery)}\n                      />\n                      <TouchableOpacity \n                        style={styles.ultraModernSearchButton}\n                        onPress={() => handleSearch(searchQuery)}\n                      >\n                        <Text style={styles.searchIcon}>⌕</Text>\n                      </TouchableOpacity>\n                    </View>\n                  </View>\n                  \n                  <View style={[styles.ultraModernSelectorRow, isSmallScreen && styles.ultraModernSelectorRowSmallScreen]}>\n                    <TouchableOpacity \n                      style={[styles.ultraModernSelector, selectedPersona && styles.ultraModernSelectorActive, isSmallScreen && styles.ultraModernSelectorSmallScreen]}\n                      onPress={() => setShowPersonaPanel(true)}\n                    >\n                      <View style={styles.selectorContent}>\n                        {selectedPersona ? (\n                          <Image \n                            source={{ uri: selectedPersona.icon }}\n                            style={styles.ultraModernSelectorIcon}\n                          />\n                        ) : (\n                          <View style={styles.ultraModernDefaultIcon}>\n                            <Text style={styles.defaultIconText}>S</Text>\n                          </View>\n                        )}\n                        <View style={styles.selectorTextContainer}>\n                          <Text style={styles.ultraModernSelectorLabel}>STYLE</Text>\n                          <Text style={[styles.ultraModernSelectorValue, isSmallScreen && styles.ultraModernSelectorValueSmallScreen]}>\n                            {selectedPersona ? selectedPersona.name : 'Choose Your Aesthetic'}\n                          </Text>\n                        </View>\n                      </View>\n                    </TouchableOpacity>\n                    \n                    <TouchableOpacity \n                      style={[styles.ultraModernSelector, selectedLifeMoment && styles.ultraModernSelectorActive, isSmallScreen && styles.ultraModernSelectorSmallScreen]}\n                      onPress={() => setShowLifeMomentPanel(true)}\n                    >\n                      <View style={styles.selectorContent}>\n                        {selectedLifeMoment ? (\n                          <Image \n                            source={{ uri: selectedLifeMoment.icon }}\n                            style={styles.ultraModernSelectorIcon}\n                          />\n                        ) : (\n                          <View style={styles.ultraModernDefaultIcon}>\n                            <Text style={styles.defaultIconText}>M</Text>\n                          </View>\n                        )}\n                        <View style={styles.selectorTextContainer}>\n                          <Text style={styles.ultraModernSelectorLabel}>MOMENT</Text>\n                          <Text style={[styles.ultraModernSelectorValue, isSmallScreen && styles.ultraModernSelectorValueSmallScreen]}>\n                            {selectedLifeMoment ? selectedLifeMoment.name : 'Current Chapter'}\n                          </Text>\n                        </View>\n                      </View>\n                    </TouchableOpacity>\n                    \n                    <TouchableOpacity \n                      style={[styles.ultraModernSelector, isSmallScreen && styles.ultraModernSelectorSmallScreen]}\n                      onPress={() => setShowVisualSearch(true)}\n                    >\n                      <View style={styles.selectorContent}>\n                        <View style={styles.ultraModernDefaultIcon}>\n                          <Text style={styles.defaultIconText}>📷</Text>\n                        </View>\n                        <View style={styles.selectorTextContainer}>\n                          <Text style={styles.ultraModernSelectorLabel}>VISUAL</Text>\n                          <Text style={[styles.ultraModernSelectorValue, isSmallScreen && styles.ultraModernSelectorValueSmallScreen]}>Search by Image</Text>\n                        </View>\n                      </View>\n                    </TouchableOpacity>\n                  </View>\n                </View>\n              </View>\n            </View>\n            \n            <TrendRadar \n              items={trendRadarData}\n              onItemPress={(item) => {\n                setShowTrendingSocial(true);\n                setIsDiscoveryMode(false);\n                setShowAiCurateView(null); // Reset AI view\n                if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n                  window.history.pushState({ page: 'trending' }, '', '?view=trending');\n                }\n              }}\n              onSeeAll={() => {\n                setShowTrendingSocial(true);\n                setIsDiscoveryMode(false);\n                setShowAiCurateView(null); // Reset AI view\n                if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n                  window.history.pushState({ page: 'trending' }, '', '?view=trending');\n                }\n              }}\n            />\n            \n            <View style={[styles.ultraModernSocialBundlesContainer, isSmallScreen && styles.ultraModernSectionContainerMarginSmallScreen]}>\n              <View style={styles.ultraModernSectionHeader}>\n                <View style={styles.sectionHeaderLeft}>\n                  <Text style={styles.ultraModernSectionLabel}>REAL PEOPLE</Text>\n                  <Text style={styles.ultraModernSectionTitle}>Social Bundles</Text>\n                  <Text style={styles.ultraModernSectionSubtitle}>\n                    It's about you and me, not just influencers. We handpick real shoppers and interview them to match our persona ethics.\n                  </Text>\n                  <Text style={styles.socialBundlesManifesto}>\n                    Every bundle tells a story. Every curator is vetted. Every recommendation is earned through real experience.\n                  </Text>\n                </View>\n                <TouchableOpacity style={styles.modernSeeAllButton}>\n                  <Text style={styles.modernSeeAllText}>Meet Our Curators</Text>\n                  <Text style={styles.modernSeeAllArrow}>→</Text>\n                </TouchableOpacity>\n              </View>\n              \n              <ScrollView \n                horizontal\n                showsHorizontalScrollIndicator={false}\n                style={styles.ultraModernBundlesScroll}\n              >\n                {socialBundles.map((bundle) => {\n                  // TODO: Refactor these inline small-screen styles into StyleSheet\n                  const bundleNameSmallScreenStyle = isSmallScreen ? { fontSize: 22 } : {};\n                  const bundleCuratorAvatarSmallScreenStyle = isSmallScreen ? { width: 30, height: 30, borderRadius: 15 } : {};\n                  const bundleCuratorNameSmallScreenStyle = isSmallScreen ? { fontSize: 15 } : {};\n\n                  return (\n                    <TouchableOpacity \n                      key={bundle.id} \n                      style={[\n                        styles.ultraModernBundleCard, \n                        isSmallScreen && styles.ultraModernBundleCardSmallScreen,\n                        isSmallScreen && { width: screenWidth * 0.75 } // Apply dynamic width here\n                      ]}\n                      onPress={() => {\n                        // When a bundle is clicked, show its products\n                        setIsLoadingAnimation(true);\n                        setIsDiscoveryMode(false);\n                        setShowTrendingSocial(false);\n                        setShowAiCurateView(null); // Reset AI view\n                        \n                        if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n                          window.history.pushState({ page: 'products', socialBundle: bundle.id }, '', `?bundle=${bundle.id}`);\n                        }\n                        \n                        setTimeout(() => {\n                          setProducts(sortProducts(bundle.products));\n                          setIsLoadingAnimation(false);\n                        }, 800);\n                      }}\n                    >\n                      <View style={styles.ultraModernBundleImageContainer}>\n                        <Image \n                          source={{ uri: bundle.coverImage }}\n                          style={styles.ultraModernBundleCover}\n                          resizeMode=\"cover\"\n                        />\n                        <View style={styles.ultraModernBundleOverlay} />\n                      </View>\n                      <View style={styles.ultraModernBundleContent}>\n                        <Text style={[styles.ultraModernBundleName, bundleNameSmallScreenStyle]}>{bundle.title}</Text>\n                        \n                        <View style={styles.ultraModernBundleCreatorRow}>\n                          <Image \n                            source={{ uri: bundle.creator.avatar }}\n                            style={styles.ultraModernCreatorAvatar}\n                          />\n                          <View style={styles.creatorInfo}>\n                            <View style={styles.creatorNameRow}>\n                              <Text style={styles.ultraModernCreatorName}>{bundle.creator.name}</Text>\n                              {bundle.creator.verified && (\n                                <Text style={styles.ultraModernVerifiedBadge}>✓</Text>\n                              )}\n                            </View>\n                            <Text style={styles.creatorLocation}>{bundle.creator.location}</Text>\n                            <Text style={styles.creatorStory}>{bundle.creator.story}</Text>\n                          </View>\n                        </View>\n                        \n                        <Text style={styles.bundlePersonalNote}>\n                          \"{bundle.creator.personalNote}\"\n                        </Text>\n                        \n                        <View style={styles.bundleEngagement}>\n                          <View style={styles.engagementStats}>\n                            <Text style={styles.engagementText}>❤️ {bundle.likes.toLocaleString()}</Text>\n                            <Text style={styles.engagementText}>🔖 {bundle.saves.toLocaleString()}</Text>\n                            <Text style={styles.engagementText}>📱 {bundle.creator.instagramHandle}</Text>\n                          </View>\n                          <Text style={styles.ultraModernBundleProductCount}>\n                            {bundle.products.length} tested items\n                          </Text>\n                        </View>\n                        \n                        {bundle.creator.videoTestimonial && (\n                          <View style={styles.videoTestimonialBadge}>\n                            <Text style={styles.videoTestimonialText}>📹 Watch Story</Text>\n                          </View>\n                        )}\n                      </View>\n                    </TouchableOpacity>\n                  );\n                })}\n              </ScrollView>\n            </View>\n            \n            <View style={[styles.shopByVibeContainer, isSmallScreen && styles.ultraModernSectionContainerMarginSmallScreen]}>\n              <View style={styles.ultraModernSectionHeader}>\n                <View style={styles.sectionHeaderLeft}>\n                  <Text style={styles.ultraModernSectionLabel}>AESTHETIC</Text>\n                  <Text style={styles.ultraModernSectionTitle}>Shop by Vibe</Text>\n                  <Text style={styles.ultraModernSectionSubtitle}>\n                    Discover your aesthetic language through curated collections\n                  </Text>\n                </View>\n                <TouchableOpacity style={styles.modernSeeAllButton}>\n                  <Text style={styles.modernSeeAllText}>Explore All</Text>\n                  <Text style={styles.modernSeeAllArrow}>→</Text>\n                </TouchableOpacity>\n              </View>\n              \n              {(() => {\n                const moodCardWidthSmallScreen = isSmallScreen ? screenWidth * 0.65 : undefined;\n                const moodCardMarginRightSmallScreen = isSmallScreen ? 12 : 0;\n\n                const moodItemsContent = moodBoards.map((mood) => (\n                  <TouchableOpacity \n                    key={mood.id} \n                    style={[\n                      styles.ultraModernMoodCard, \n                      isSmallScreen && styles.ultraModernMoodCardSmallScreen, // Will apply base small screen card style (e.g. aspectRatio)\n                      isSmallScreen && { width: moodCardWidthSmallScreen, marginRight: moodCardMarginRightSmallScreen }\n                    ]}\n                    onPress={() => {\n                      // When a mood is clicked, filter products by aesthetic\n                      setIsLoadingAnimation(true);\n                      setIsDiscoveryMode(false);\n                      setShowTrendingSocial(false);\n                      setShowAiCurateView(null); // Reset AI view\n\n                      if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n                        window.history.pushState({ page: 'products', mood: mood.id }, '', `?mood=${mood.id}`);\n                      }\n                      \n                      setTimeout(() => {\n                        // Enhanced mood-based filtering logic\n                        const moodProducts = mockProducts.filter(product => {\n                          if (mood.id === 'minimalist') {\n                            return product.tags.includes('premium') || product.tags.includes('pro') || product.category === 'laptop';\n                          } else if (mood.id === 'cyberpunk') {\n                            return product.category === 'laptop' || product.category === 'wearables' || product.tags.includes('tech');\n                          } else if (mood.id === 'nostalgic') {\n                            return product.category === 'gaming' || product.tags.includes('retro') || product.tags.includes('classic');\n                          } else if (mood.id === 'romantic') {\n                            return product.category === 'jewelry' || product.tags.includes('luxury') || product.category === 'beauty';\n                          } else if (mood.id === 'streetwear') {\n                            return product.category === 'fashion' || product.category === 'shoes' || product.tags.includes('urban');\n                          } else if (mood.id === 'academia') {\n                            return product.category === 'books' || product.category === 'stationery' || product.tags.includes('study');\n                          }\n                          return false;\n                        });\n                        setProducts(sortProducts(moodProducts));\n                        setIsLoadingAnimation(false);\n                      }, 800);\n                    }}\n                  >\n                    <View style={styles.ultraModernMoodImageContainer}>\n                      <Image \n                        source={{ uri: mood.coverImage }} \n                        style={styles.ultraModernMoodCover} \n                        resizeMode=\"cover\"\n                      />\n                      <View style={[styles.ultraModernMoodOverlay, {backgroundColor: mood.overlayColor}]} />\n                    </View>\n                    <View style={[styles.ultraModernMoodContent, isSmallScreen && styles.ultraModernMoodContentSmallScreen]}>\n                      <View>\n                        <View style={styles.moodNameRow}>\n                          <Text style={[styles.moodEmoji, isSmallScreen && styles.moodEmojiSmallScreen]}>{mood.emoji}</Text>\n                          <Text style={[styles.ultraModernMoodName, isSmallScreen && styles.ultraModernMoodNameSmallScreen]} numberOfLines={1} ellipsizeMode=\"tail\">{mood.name}</Text>\n                        </View>\n                        <Text style={[styles.cursiveDescription, isSmallScreen && styles.cursiveDescriptionSmallScreen]} numberOfLines={isSmallScreen ? 2 : 3} ellipsizeMode=\"tail\">{mood.description}</Text>\n                      </View>\n                      <Text style={[styles.philosophyText, isSmallScreen && styles.philosophyTextSmallScreen]} numberOfLines={isSmallScreen ? 1 : 2} ellipsizeMode=\"tail\">{mood.philosophy}</Text>\n                    </View>\n                  </TouchableOpacity>\n                ));\n\n                if (isSmallScreen) {\n                  return (\n                    <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={styles.ultraModernMoodsGridSmallScreenScrollViewContent}>\n                      {moodItemsContent}\n                    </ScrollView>\n                  );\n                }\n                return (\n                  <View style={[styles.ultraModernMoodsGrid, isSmallScreen && styles.ultraModernMoodsGridSmallScreen]}>\n                    {moodItemsContent}\n                  </View>\n                );\n              })()}\n            </View>\n            \n            {/* Ultra-Modern Categories */}\n            <View style={[styles.ultraModernCategoryContainer, isSmallScreen && styles.ultraModernSectionContainerMarginSmallScreen]}>\n              <View style={styles.ultraModernSectionHeader}>\n                <View style={styles.sectionHeaderLeft}>\n                  <Text style={styles.ultraModernSectionLabel}>BROWSE</Text>\n                  <Text style={styles.ultraModernSectionTitle}>Shop by Category</Text>\n                  <Text style={styles.ultraModernSectionSubtitle}>\n                    explore our curated world of intentional products\n                  </Text>\n                </View>\n              </View>\n              \n              <View style={[styles.ultraModernCategoryGrid, isSmallScreen && styles.ultraModernCategoryGridSmallScreen]}>\n                {productCategories.map((category) => (\n                  <TouchableOpacity\n                    key={category.id}\n                    style={[styles.ultraModernCategoryItem, isSmallScreen && styles.ultraModernCategoryItemSmallScreen]}\n                    onPress={() => {\n                      // When a category is clicked, filter products by category name\n                      setIsLoadingAnimation(true);\n                      setIsDiscoveryMode(false);\n                      setShowTrendingSocial(false);\n                      setShowAiCurateView(null); // Reset AI view\n\n                      if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n                        window.history.pushState({ page: 'products', category: category.name }, '', `?category=${encodeURIComponent(category.name)}`);\n                      }\n\n                      setTimeout(() => {\n                        const categoryProducts = mockProducts.filter(product => \n                          product.category.toLowerCase().includes(category.id.toLowerCase()) ||\n                          product.tags.some(tag => tag.toLowerCase().includes(category.id.toLowerCase()))\n                        );\n                        setProducts(sortProducts(categoryProducts.length > 0 ? categoryProducts : mockProducts));\n                        setIsLoadingAnimation(false);\n                      }, 800);\n                    }}\n                  >\n                    <View style={styles.ultraModernCategoryIcon}>\n                      <Image \n                        source={{ uri: category.image }}\n                        style={styles.ultraModernCategoryImage}\n                        resizeMode=\"cover\"\n                      />\n                    </View>\n                    <Text style={[styles.ultraModernCategoryName, isSmallScreen && styles.ultraModernCategoryNameSmallScreen]}>{category.name}</Text>\n                    <Text style={[styles.ultraModernCategoryDescription, isSmallScreen && styles.ultraModernCategoryDescriptionSmallScreen]}>\n                      {category.description}\n                    </Text>\n                  </TouchableOpacity>\n                ))}\n              </View>\n            </View>\n          </View>\n        ) : products.length === 0 ? (\n          <View style={styles.emptyContainer}>\n            <Text style={styles.emptyPrimary}>\n              No products found\n            </Text>\n            <Text style={styles.emptySecondary}>\n              Try adjusting your filters or search query\n            </Text>\n            <TouchableOpacity \n              style={styles.emptyStateNeonBackButton} // Use new style\n              onPress={() => {\n                setIsDiscoveryMode(true);\n                setSearchQuery('');\n                setSelectedPersona(null);\n                setSelectedLifeMoment(null);\n                setProducts(sortProducts([...mockProducts]));\n                setErrorMessage(null);\n              }}\n            >\n              <Text style={styles.neonBackButtonText}>← Back to Discovery</Text>\n            </TouchableOpacity>\n          </View>\n        ) : (\n          <View style={[styles.modernProductGrid, isSmallScreen && styles.modernProductGridSmallScreen]}>\n            {/* Ultra-Modern Product Header - Consistent with Homepage */}\n            <View style={styles.ultraModernMainHeader}>\n              <View style={styles.mainHeaderContent}>\n                <View style={styles.brandSection}>\n                  <Text style={styles.ultraModernBrandLabel}>\n                    {selectedPersona ? 'CURATED FOR' : selectedLifeMoment ? 'CURATED FOR' : 'DISCOVERY'}\n                  </Text>\n                  <Text style={styles.ultraModernBrandTitle}>\n                    {selectedPersona ? selectedPersona.name : selectedLifeMoment ? selectedLifeMoment.name : 'curator'}\n                  </Text>\n                  <Text style={styles.ultraModernBrandTagline}>\n                    {selectedPersona?.id === 'student'\n                      ? `${products.length} budget essentials • carefully selected for your lifestyle`\n                      : selectedLifeMoment\n                        ? `${products.length} products • perfectly aligned with this chapter`\n                        : selectedPersona\n                          ? `${products.length} products • intentionally curated for your aesthetic`\n                          : `${products.length} products • where artificial intelligence meets intentional living`\n                    }\n                  </Text>\n                </View>\n                \n                <View style={styles.ultraModernProductHeaderControls}>\n                  <TouchableOpacity \n                    style={styles.ultraModernBackButton}\n                    onPress={() => {\n                      setIsDiscoveryMode(true);\n                      setSearchQuery('');\n                      setSelectedPersona(null);\n                      setSelectedLifeMoment(null);\n                      setProducts(sortProducts([...mockProducts])); // Reset to all products, sorted\n                      setErrorMessage(null);\n                      // Add browser history management\n                      if (window.history && window.history.pushState) {\n                        window.history.pushState(null, null, window.location.pathname);\n                      }\n                    }}\n                  >\n                    <Text style={styles.ultraModernBackButtonText}>← Discover</Text>\n                  </TouchableOpacity>\n                </View>\n              </View>\n            </View>\n            \n            {/* Premium Product Grid */}\n            <View style={styles.productGrid}>\n              {products.length === 0 ? (\n                <View style={styles.noProductsMessage}>\n                  <Text style={styles.noProductsText}>\n                    No products found for this selection. \n                  </Text>\n                  <Text style={styles.noProductsSubtext}>\n                    Try selecting a different persona or go back to discovery.\n                  </Text>\n                </View>\n              ) : (\n                products.map((product) => (\n                  <View \n                    key={product.id} \n                    style={[\n                      selectedPersona?.id === 'student' ? styles.studentProductCard : styles.modernProductCard,\n                      isSmallScreen && (selectedPersona?.id === 'student' ? styles.studentProductCardSmallScreen : styles.modernProductCardSmallScreen)\n                    ]}\n                  >\n                    {selectedPersona?.id === 'student' ? (\n                      // REFINED Student Persona Card Layout\n                      <>\n                        <View style={styles.studentImageContainer}> {/* Using studentImageContainer which mirrors productImageContainer */}\n                          <Image\n                            source={{ uri: product.image }}\n                            style={styles.productImage} // Reusing common productImage style\n                            resizeMode=\"cover\"\n                          />\n                          {/* studentCardBadge removed */}\n                           <TouchableOpacity style={styles.favoriteButton}>\n                            <Text style={styles.favoriteIcon}>♡</Text>{/* Standardized Icon */}\n                          </TouchableOpacity>\n                        </View>\n                        <View style={styles.studentInfo}>\n                          <Text style={styles.studentBrandName}>{product.brand}</Text>\n                          <Text style={styles.studentProductName} numberOfLines={2}>\n                            {product.title}\n                          </Text>\n                          <View style={styles.studentPriceRow}>\n                            <Text style={styles.studentCurrentPrice}>{product.price}</Text>\n                            <Text style={styles.studentRating}>★ {product.rating}</Text> {/* Using ★ for rating value as it's common */}\n                          </View>\n\n                          {(product.studentReview || product.whyStudentsLove) && (\n                            <View style={styles.studentExclusiveContent}>\n                              {product.studentReview && (\n                                <>\n                                  <Text style={styles.studentReviewLabel}>Student Review:</Text>\n                                  <Text style={styles.studentReviewText}>\"{product.studentReview}\"</Text>\n                                </>\n                              )}\n                              {product.whyStudentsLove && (\n                                <>\n                                  <Text style={styles.studentWhyLoveLabel}>Why Students Love It:</Text>\n                                  <Text style={styles.studentWhyLoveText}>{product.whyStudentsLove}</Text>\n                                </>\n                              )}\n                            </View>\n                          )}\n\n                          {/* Ultra-Modern Why Buy This Section */}\n                          {product.whyBuyThis && (\n                            <View style={styles.whyBuyThisContainer}>\n                              <Text style={styles.whyBuyThisText}>{product.whyBuyThis}</Text>\n                            </View>\n                          )}\n\n                          {/* Trending Stats Section */}\n                          {product.trendingStats && (\n                            <View style={styles.trendingStatsContainer}>\n                              <Text style={styles.trendingStatsLabel}>🔥 TRENDING NOW</Text>\n                              <Text style={styles.trendingStatsText}>{product.trendingStats}</Text>\n                            </View>\n                          )}\n\n                          {/* Hot Take Section */}\n                          {product.hotTake && (\n                            <View style={styles.hotTakeContainer}>\n                              <Text style={styles.hotTakeLabel}>💭 CURATOR'S HOT TAKE</Text>\n                              <Text style={styles.hotTakeText}>{product.hotTake}</Text>\n                            </View>\n                          )}\n\n                          {/* Updated Student Button Layout with two minimalist buttons */}\n                          <View style={styles.productCardButtonContainer}>\n                            <TouchableOpacity\n                              style={[styles.minimalistButtonShared, styles.minimalistButtonPrimary]}\n                              onPress={() => openExternalLink(product.affiliateUrl)}\n                            >\n                              <Text style={[styles.buttonTextShared, styles.buttonTextPrimary]}>Shop on Brand Website</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                              style={[styles.minimalistButtonShared, styles.minimalistButtonSecondary]}\n                              onPress={() => alert('The Curator Agent will assist you with this purchase soon!')}\n                            >\n                              <Text style={[styles.buttonTextShared, styles.buttonTextSecondary]}>Shop with Curator Agent</Text>\n                            </TouchableOpacity>\n                          </View>\n                        </View>\n                      </>\n                    ) : (\n                      // Default/Modern Product Card Layout (existing)\n                      <>\n                        <View style={styles.productImageContainer}>\n                          <Image\n                            source={{ uri: product.image }}\n                            style={styles.productImage}\n                            resizeMode=\"cover\"\n                          />\n                          {/* NEW Badge */}\n                          <View style={styles.newBadge}>\n                            <Text style={styles.newBadgeText}>NEW</Text>\n                          </View>\n                          <TouchableOpacity style={styles.favoriteButton}>\n                            <Text style={styles.favoriteIcon}>♡</Text>\n                          </TouchableOpacity>\n                        </View>\n\n                        <View style={styles.productInfo}>\n                          <Text style={styles.brandName}>{product.brand}</Text>\n                          <Text style={styles.productName} numberOfLines={2}>\n                            {product.title}\n                          </Text>\n\n                          <View style={styles.priceRow}>\n                            <Text style={styles.currentPrice}>{product.price}</Text>\n                            <Text style={styles.rating}>★ {product.rating}</Text>\n                          </View>\n\n                          {/* Persona Exclusive Content for modernProductCard */}\n                          {(product.optimizerInsight || product.trendsetterTip || product.consciousChoiceDetail) && selectedPersona && selectedPersona.id !== 'student' && (\n                            <View style={styles.personaExclusiveContentContainer}>\n                              {selectedPersona.id === 'optimizer' && product.optimizerInsight && (\n                                <>\n                                  <Text style={styles.personaInsightLabel}>Pro Tip:</Text>\n                                  <Text style={styles.personaInsightText}>{product.optimizerInsight}</Text>\n                                </> \n                              )}\n                              {selectedPersona.id === 'trendsetter' && product.trendsetterTip && (\n                                <>\n                                  <Text style={styles.personaInsightLabel}>Style Note:</Text>\n                                  <Text style={styles.personaInsightText}>{product.trendsetterTip}</Text>\n                                </> \n                              )}\n                              {selectedPersona.id === 'conscious' && product.consciousChoiceDetail && (\n                                <>\n                                  <Text style={styles.personaInsightLabel}>Conscious Detail:</Text>\n                                  <Text style={styles.personaInsightText}>{product.consciousChoiceDetail}</Text>\n                                </> \n                              )}\n                            </View>\n                          )}\n\n                          {/* Ultra-Modern Why Buy This Section for Non-Students */}\n                          {product.whyBuyThis && (\n                            <View style={styles.whyBuyThisContainer}>\n                              <Text style={styles.whyBuyThisText}>{product.whyBuyThis}</Text>\n                            </View>\n                          )}\n\n                          {/* Trending Stats Section */}\n                          {product.trendingStats && (\n                            <View style={styles.trendingStatsContainer}>\n                              <Text style={styles.trendingStatsLabel}>🔥 TRENDING NOW</Text>\n                              <Text style={styles.trendingStatsText}>{product.trendingStats}</Text>\n                            </View>\n                          )}\n\n                          {/* Hot Take Section */}\n                          {product.hotTake && (\n                            <View style={styles.hotTakeContainer}>\n                              <Text style={styles.hotTakeLabel}>💭 CURATOR'S HOT TAKE</Text>\n                              <Text style={styles.hotTakeText}>{product.hotTake}</Text>\n                            </View>\n                          )}\n\n                          {/* Updated Non-Student Button Layout with two minimalist buttons */}\n                          <View style={styles.productCardButtonContainer}>\n                            <TouchableOpacity\n                              style={[styles.minimalistButtonShared, styles.minimalistButtonPrimary]}\n                              onPress={() => openExternalLink(product.affiliateUrl)}\n                            >\n                              <Text style={[styles.buttonTextShared, styles.buttonTextPrimary]}>Shop on Brand Website</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                              style={[styles.minimalistButtonShared, styles.minimalistButtonSecondary]}\n                              onPress={() => alert('The Curator Agent will assist you with this purchase soon!')}\n                            >\n                              <Text style={[styles.buttonTextShared, styles.buttonTextSecondary]}>Shop with Curator Agent</Text>\n                            </TouchableOpacity>\n                          </View>\n                        </View>\n                      </>\n                    )}\n                  </View>\n                ))\n              )}\n            </View>\n          </View>\n        )}\n      </ScrollView>\n      \n      {/* Visual Search Panel */}\n      <VisualSearchPanel \n        visible={showVisualSearch}\n        onClose={() => setShowVisualSearch(false)}\n        onSearch={(searchTerms) => {\n          // Use regular search instead of complex visual search for clicked results\n          if (Array.isArray(searchTerms) && searchTerms.length === 1) {\n            // This is a clicked result - use regular search\n            handleSearch(searchTerms[0], true);\n          } else {\n            // This is the complex visual search results display\n            handleVisualSearch(searchTerms, 'visual-search');\n          }\n        }}\n      />\n      \n      {/* Persona Selection Panel */}\n      <PersonaSelectionPanel\n        visible={showPersonaPanel}\n        onClose={() => setShowPersonaPanel(false)}\n        personas={personas}\n        selectedPersona={selectedPersona}\n        onSelectPersona={handlePersonaSelect}\n      />\n      \n      {/* Life Moment Selection Panel */}\n      <LifeMomentSelectionPanel\n        visible={showLifeMomentPanel}\n        onClose={() => setShowLifeMomentPanel(false)}\n        lifeMoments={lifeMoments}\n        selectedLifeMoment={selectedLifeMoment}\n        onSelectLifeMoment={handleLifeMomentSelect}\n      />\n\n      {/* New AI Curation Section */}\n      <View style={styles.ultraModernAiCurationContainer}> {/* New container style needed */}\n        <View style={styles.ultraModernSectionHeader}>\n          <View style={styles.sectionHeaderLeft}>\n            <Text style={styles.ultraModernSectionLabel}>PERSONALIZE</Text>\n            <Text style={styles.ultraModernSectionTitle}>Curate with AI</Text>\n            <Text style={styles.ultraModernSectionSubtitle}>\n              Describe your style, select favorite brands, and let our AI build a unique collection just for you.\n            </Text>\n          </View>\n        </View>\n        <TouchableOpacity \n          style={styles.ultraModernPrimaryButton} // Re-use or create a new primary button style\n          onPress={() => {\n            setShowAiCurateView('form');\n            setIsDiscoveryMode(false); // Hide discovery content\n            setShowTrendingSocial(false); // Ensure other views are hidden\n            // Push history state for AI Curation form\n            if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n              window.history.pushState({ page: 'aiCurateForm' }, '', '?view=ai-curate');\n            }\n          }}\n        >\n          <Text style={styles.ultraModernPrimaryButtonText}>Start AI Curation</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* AI Curation Form View (To be built next) */}\n      {showAiCurateView === 'form' ? (\n        <View style={styles.aiCurateFormContainer}>\n          {/* Header for AI Curation Form */}\n          <View style={styles.ultraModernMainHeader}>\n            <View style={styles.mainHeaderContent}>\n              <View style={styles.brandSection}>\n                <Text style={styles.ultraModernBrandLabel}>AI CURATION</Text>\n                <Text style={styles.ultraModernBrandTitle}>Tell Us About You</Text>\n                <Text style={styles.ultraModernBrandTagline}>\n                  Help our AI understand your preferences to create the perfect bundle.\n                </Text>\n              </View>\n              <View style={styles.ultraModernProductHeaderControls}>\n                <TouchableOpacity \n                  style={styles.ultraModernBackButton}\n                  onPress={() => {\n                    setShowAiCurateView(null);\n                    setIsDiscoveryMode(true); // Go back to discovery\n                    if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n                      window.history.pushState({ page: 'discovery' }, '', window.location.pathname.split('?')[0]);\n                    }\n                  }}\n                >\n                  <Text style={styles.ultraModernBackButtonText}>← Discover</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </View>\n          {/* Form elements will go here */}\n          <ScrollView style={styles.aiFormScrollView}>\n            <Text style={styles.aiFormSectionTitle}>Your Favorite Brands (select up to 5)</Text>\n            <Text style={styles.aiFormSectionSubtitle}>\n              Choose brands that align with your values and style. Each brand has a unique personality that influences your curated selection.\n            </Text>\n            <View style={styles.aiBrandSelectionContainer}>\n              {availableBrands.map(brand => {\n                const brandPersona = activeBrandPersonas[brand];\n                const isSelected = aiSelectedBrands.includes(brand);\n                \n                return (\n                  <TouchableOpacity\n                    key={brand}\n                    style={[\n                      styles.aiBrandChip,\n                      brandPersona && styles.aiBrandChipWithPersona,\n                      isSelected && styles.aiBrandChipSelected\n                    ]}\n                    onPress={() => {\n                      if (isSelected) {\n                        setAiSelectedBrands(aiSelectedBrands.filter(b => b !== brand));\n                      } else {\n                        if (aiSelectedBrands.length < 5) {\n                          setAiSelectedBrands([...aiSelectedBrands, brand]);\n                        }\n                      }\n                    }}\n                  >\n                    <Text style={[\n                      styles.aiBrandChipText,\n                      isSelected && styles.aiBrandChipTextSelected\n                    ]}>\n                      {brand}\n                    </Text>\n                    {brandPersona && (\n                      <Text style={[\n                        styles.aiBrandPersonaText,\n                        isSelected && styles.aiBrandPersonaTextSelected\n                      ]}>\n                        {brandPersona.persona}\n                      </Text>\n                    )}\n                  </TouchableOpacity>\n                );\n              })}\n            </View>\n\n            <Text style={styles.aiFormSectionTitle}>Your Personal Style</Text>\n            <View style={styles.aiPersonaStyleContainer}>\n              {personas.map((persona) => (\n                <TouchableOpacity\n                  key={persona.id}\n                  style={[\n                    styles.aiPersonaStyleOption,\n                    aiPersonaStyle === persona.id && styles.aiPersonaStyleOptionSelected\n                  ]}\n                  onPress={() => setAiPersonaStyle(persona.id)}\n                >\n                  <Text \n                    style={[\n                      styles.aiPersonaStyleText,\n                      aiPersonaStyle === persona.id && styles.aiPersonaStyleTextSelected\n                    ]}\n                  >\n                    {persona.name}\n                  </Text>\n                  <Text \n                    style={[\n                      styles.aiPersonaStyleDescription,\n                      aiPersonaStyle === persona.id && styles.aiPersonaStyleDescriptionSelected\n                    ]}\n                  >\n                    {persona.description}\n                  </Text>\n                </TouchableOpacity>\n              ))}\n            </View>\n\n            <Text style={styles.aiFormSectionTitle}>Your Budget Preference</Text>\n            <View style={styles.aiBudgetContainer}>\n              {[\n                { id: 'low', label: 'Budget', range: 'Under $300', symbol: '$' },\n                { id: 'medium', label: 'Moderate', range: '$300 - $1000', symbol: '$$' },\n                { id: 'high', label: 'Premium', range: '$1000+', symbol: '$$$' }\n              ].map(budget => (\n                <TouchableOpacity\n                  key={budget.id}\n                  style={[\n                    styles.aiBudgetOption,\n                    aiPersonaBudget === budget.id && styles.aiBudgetOptionSelected\n                  ]}\n                  onPress={() => setAiPersonaBudget(budget.id)}\n                >\n                  <Text \n                    style={[\n                      styles.aiBudgetText,\n                      aiPersonaBudget === budget.id && styles.aiBudgetTextSelected\n                    ]}\n                  >\n                    {budget.symbol} {budget.label}\n                  </Text>\n                  <Text \n                    style={[\n                      styles.aiBudgetRange,\n                      aiPersonaBudget === budget.id && styles.aiBudgetRangeSelected\n                    ]}\n                  >\n                    {budget.range}\n                  </Text>\n                </TouchableOpacity>\n              ))}\n            </View>\n\n            <Text style={styles.aiFormSectionTitle}>What are you looking for specifically?</Text>\n            <TextInput\n              style={styles.aiLookingForInput}\n              placeholder=\"e.g., a new laptop for college, a gift for a friend, summer travel essentials...\"\n              value={aiLookingFor}\n              onChangeText={setAiLookingFor}\n              placeholderTextColor=\"rgba(45, 45, 45, 0.5)\"\n              multiline\n              numberOfLines={4}\n            />\n\n            <TouchableOpacity \n              style={[\n                styles.aiGenerateButton,\n                isAiLoading && styles.aiGenerateButtonLoading\n              ]} \n              onPress={async () => { // Make onPress async\n                setIsAiLoading(true);\n                setAiErrorMessage(null); // Clear previous errors\n                setAiGeneratedProducts([]); // Clear previous results\n\n                try {\n                  const generated = await fetchAiCuratedProducts(\n                    aiSelectedBrands,\n                    aiPersonaStyle,\n                    aiPersonaBudget,\n                    aiLookingFor\n                  );\n                  setAiGeneratedProducts(generated);\n                  setShowAiCurateView('results');\n                  // Push history state for AI Curation results\n                  if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n                    window.history.pushState({ page: 'aiCurateResults' }, '', '?view=ai-results');\n                  }\n                } catch (error) {\n                  console.error(\"Error during AI Curation:\", error);\n                  setAiErrorMessage(error.message || \"An unexpected error occurred while curating products.\");\n                  setShowAiCurateView('results'); // Still go to results view to show the error\n                   if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n                    window.history.pushState({ page: 'aiCurateResults', error: true }, '', '?view=ai-results&error=true');\n                  }\n                } finally {\n                  setIsAiLoading(false);\n                }\n              }}\n            >\n              {isAiLoading ? (\n                <Text style={styles.aiGenerateButtonText}>Curating...</Text>\n              ) : (\n                <Text style={styles.aiGenerateButtonText}>Generate My Collection</Text>\n              )}\n            </TouchableOpacity>\n          </ScrollView>\n        </View>\n      ) : showAiCurateView === 'results' ? (\n        // AI Curation Results View (To be built next)\n        <View style={[styles.modernProductGrid, isSmallScreen && styles.modernProductGridSmallScreen]}> \n          <View style={[styles.ultraModernMainHeader, isSmallScreen && styles.ultraModernMainHeaderSmallScreen]}>\n            <View style={styles.mainHeaderContent}>\n              <View style={styles.brandSection}>\n                <Text style={styles.ultraModernBrandLabel}>AI CURATED FOR YOU</Text>\n                <Text style={[styles.ultraModernBrandTitle, isSmallScreen && styles.ultraModernBrandTitleSmallScreen]}>Your Personal Collection</Text>\n                <Text style={[styles.ultraModernBrandTagline, isSmallScreen && styles.ultraModernBrandTaglineSmallScreen]}>\n                  {aiGeneratedProducts.length > 0 ? `${aiGeneratedProducts.length} products` : aiErrorMessage ? 'Error' : 'No products'} • Based on your preferences: {aiSelectedBrands.join(', ')}, {aiPersonaStyle}, {aiPersonaBudget}\n                </Text>\n              </View>\n              <View style={styles.ultraModernProductHeaderControls}>\n                <TouchableOpacity \n                  style={[styles.ultraModernBackButton, isSmallScreen && styles.ultraModernBackButtonSmallScreen]}\n                  onPress={() => {\n                    setShowAiCurateView('form'); // Go back to the form\n                     if (typeof window !== 'undefined' && window.history && window.history.pushState) {\n                      window.history.pushState({ page: 'aiCurateForm' }, '', '?view=ai-curate');\n                    }\n                  }}\n                >\n                  <Text style={styles.ultraModernBackButtonText}>← Edit Preferences</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </View>\n          {isAiLoading ? (\n            <View style={styles.loadingContainer}>\n              <Animated.View style={styles.loadingPulse} />\n              <Text style={styles.loadingText}>Generating your curated collection...</Text>\n            </View>\n          ) : aiGeneratedProducts.length === 0 ? (\n            <View style={styles.emptyContainer}>\n              <Text style={styles.emptyPrimary}>AI Couldn't Find Matches</Text>\n              <Text style={styles.emptySecondary}>Please try adjusting your preferences.</Text>\n            </View>\n          ) : (\n            <View style={styles.productGrid}>\n              {aiGeneratedProducts.map((product) => (\n                <View \n                  key={product.id} \n                  style={[\n                    styles.modernProductCard, \n                    isSmallScreen && styles.modernProductCardSmallScreen // <<< Apply conditional style here\n                  ]}\n                >\n                  {/* Using existing product card structure */}\n                  <View style={styles.productImageContainer}>\n                    <Image\n                      source={{ uri: product.image }}\n                      style={styles.productImage}\n                      resizeMode=\"cover\"\n                    />\n                    <TouchableOpacity style={styles.favoriteButton}>\n                      <Text style={styles.favoriteIcon}>♡</Text>\n                    </TouchableOpacity>\n                  </View>\n                  <View style={styles.productInfo}>\n                    <Text style={styles.brandName}>{product.brand}</Text>\n                    <Text style={styles.productName} numberOfLines={2}>{product.title}</Text>\n                    <View style={styles.priceRow}>\n                      <Text style={styles.currentPrice}>{product.price}</Text>\n                      <Text style={styles.rating}>★ {product.rating}</Text>\n                    </View>\n                    {product.whyBuyThis && (\n                      <View style={styles.whyBuyThisContainer}>\n                        <Text style={styles.whyBuyThisText}>{product.whyBuyThis}</Text>\n                      </View>\n                    )}\n                    <View style={styles.productCardButtonContainer}>\n                      <TouchableOpacity\n                        style={[styles.minimalistButtonShared, styles.minimalistButtonPrimary]}\n                        onPress={() => openExternalLink(product.affiliateUrl)}\n                      >\n                        <Text style={[styles.buttonTextShared, styles.buttonTextPrimary]}>Shop on Brand Website</Text>\n                      </TouchableOpacity>\n                      <TouchableOpacity\n                        style={[styles.minimalistButtonShared, styles.minimalistButtonSecondary]}\n                        onPress={() => alert('The Curator Agent will assist you with this purchase soon!')}\n                      >\n                        <Text style={[styles.buttonTextShared, styles.buttonTextSecondary]}>Shop with Curator Agent</Text>\n                      </TouchableOpacity>\n                    </View>\n                  </View>\n                </View>\n              ))}\n            </View>\n          )}\n        </View>\n      ) : null}\n\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FFFFFF',\n  },\n  content: {\n    flex: 1,\n    paddingHorizontal: 0,\n  },\n  discoveryContainer: {\n    paddingHorizontal: 40,\n    paddingVertical: 0,\n    backgroundColor: '#FFFFFF',\n  },\n  // TrendRadar styles\n  trendRadarContainer: {\n    marginBottom: 80,\n    backgroundColor: '#FFFFFF',\n    borderRadius: 0,\n    padding: 0,\n    shadowColor: 'transparent',\n  },\n  trendRadarGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 24,\n  },\n  trendRadarCard: {\n    width: '48%',\n    backgroundColor: '#FFFFFF',\n    borderRadius: 12,\n    marginBottom: 24,\n    overflow: 'hidden',\n    borderWidth: 1,\n    borderColor: '#E8E8E8',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.06,\n    shadowRadius: 12,\n    elevation: 4,\n  },\n  trendRadarImageContainer: {\n    height: 240,\n    position: 'relative',\n    backgroundColor: '#F8F8F8',\n  },\n  trendRadarImage: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n  },\n  viralBadge: {\n    position: 'absolute',\n    top: 16,\n    left: 16,\n    backgroundColor: '#EF4444',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 6,\n    shadowColor: '#EF4444',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.3,\n    shadowRadius: 4,\n  },\n  viralBadgeText: {\n    color: '#FFFFFF',\n    fontSize: 11,\n    fontWeight: '600',\n    letterSpacing: 0.8,\n    textTransform: 'uppercase',\n  },\n  trendOverlay: {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n    backgroundColor: 'rgba(0,0,0,0.85)',\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    borderTopLeftRadius: 12,\n  },\n  trendChangeText: {\n    color: '#FFFFFF',\n    fontSize: 13,\n    fontWeight: '600',\n  },\n  trendRadarContent: {\n    padding: 20,\n  },\n  trendRadarCategory: {\n    fontSize: 11,\n    color: '#8B5CF6',\n    fontWeight: '500',\n    textTransform: 'uppercase',\n    letterSpacing: 1,\n    marginBottom: 6,\n  },\n  trendRadarTitle: {\n    fontSize: 16,\n    fontWeight: '400',\n    color: '#1A1A1A',\n    lineHeight: 22,\n    letterSpacing: -0.1,\n  },\n  // Social bundles styles\n  ultraModernSocialBundlesContainer: {\n    marginBottom: 80,\n    backgroundColor: '#FFFFFF',\n    borderRadius: 0,\n    padding: 0,\n    shadowColor: 'transparent',\n  },\n  ultraModernBundlesScroll: {\n    paddingVertical: 10,\n    marginTop: 20,\n  },\n  ultraModernBundleCard: {\n    width: Platform.OS === 'web' ? 'auto' : '31%', // Responsive width\n    aspectRatio: '4/5', // Elegant proportions\n    backgroundColor: '#FFFFFF',\n    borderRadius: 20, // More sophisticated rounded corners\n    overflow: 'hidden',\n    borderWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 8 },\n    shadowOpacity: 0.12,\n    shadowRadius: 24,\n    elevation: 8,\n    position: 'relative',\n    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)', // Smooth hover effect\n    cursor: 'pointer',\n    marginRight: Platform.OS === 'web' ? 0 : 20, // Add margin for RN horizontal scroll, not for web grid\n  },\n  ultraModernBundleImageContainer: {\n    height: '60%', // Image takes up 60% of card\n    position: 'relative',\n    backgroundColor: '#F8F8F8',\n  },\n  ultraModernBundleCover: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n    filter: 'contrast(1.1) saturate(1.2)', // Enhanced image quality\n  },\n  ultraModernBundleOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    opacity: 0.3, // Subtle overlay\n  },\n  ultraModernBundleContent: {\n    height: '50%', // Increased height for more content\n    padding: 20,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    backgroundColor: '#FFFFFF',\n  },\n  socialBundlesManifesto: {\n    fontSize: 14,\n    fontStyle: 'italic',\n    color: '#666666',\n    lineHeight: 20,\n    marginTop: 8,\n    letterSpacing: -0.1,\n  },\n  ultraModernBundleTitle: {\n    fontSize: 20,\n    fontWeight: '400',\n    color: '#1A1A1A',\n    marginBottom: 12,\n    lineHeight: 26,\n    letterSpacing: -0.2,\n  },\n  ultraModernBundleCreatorRow: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    marginBottom: 12,\n  },\n  ultraModernCreatorAvatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n    backgroundColor: '#F0F0F0',\n  },\n  creatorInfo: {\n    flex: 1,\n  },\n  creatorNameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 2,\n  },\n  ultraModernCreatorName: {\n    fontSize: 15,\n    fontWeight: '600',\n    color: '#1A1A1A',\n    marginRight: 6,\n  },\n  creatorLocation: {\n    fontSize: 12,\n    color: '#888888',\n    marginBottom: 4,\n  },\n  creatorStory: {\n    fontSize: 12,\n    color: '#666666',\n    fontStyle: 'italic',\n    lineHeight: 16,\n  },\n  ultraModernVerifiedBadge: {\n    fontSize: 10,\n    color: '#6366F1',\n    backgroundColor: '#6366F115',\n    width: 16,\n    height: 16,\n    borderRadius: 8,\n    textAlign: 'center',\n    lineHeight: 16,\n  },\n  bundlePersonalNote: {\n    fontSize: 13,\n    color: '#444444',\n    fontStyle: 'italic',\n    lineHeight: 18,\n    marginBottom: 10,\n    paddingLeft: 8,\n    borderLeftWidth: 2,\n    borderLeftColor: '#E5E7EB',\n  },\n  bundleEngagement: {\n    marginBottom: 8,\n  },\n  engagementStats: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  engagementText: {\n    fontSize: 11,\n    color: '#888888',\n    fontWeight: '500',\n  },\n  videoTestimonialBadge: {\n    backgroundColor: '#FF6B6B15',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n    alignSelf: 'flex-start',\n  },\n  videoTestimonialText: {\n    fontSize: 11,\n    color: '#FF6B6B',\n    fontWeight: '600',\n  },\n  ultraModernBundleProductCount: {\n    fontSize: 12,\n    color: '#999999',\n    fontWeight: '400',\n  },\n  shopByVibeContainer: {\n    marginBottom: 80,\n    backgroundColor: '#FFFFFF',\n    borderRadius: 0,\n    padding: 0,\n    shadowColor: 'transparent',\n  },\n  sectionSubtitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: COLORS.darkGray,\n    marginBottom: 10,\n  },\n  moodsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 24,\n  },\n  moodCard: {\n    width: '48%',\n    height: 200, // Increased height for better proportions\n    backgroundColor: '#FFFFFF',\n    borderRadius: 12, // More modern rounded corners\n    marginBottom: 0,\n    overflow: 'hidden',\n    borderWidth: 0, // Remove border for cleaner look\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.08, // Stronger shadow for better depth\n    shadowRadius: 12,\n    elevation: 4,\n    position: 'relative',\n  },\n  moodCover: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: '#F8F8F8',\n    objectFit: 'cover', // For web - ensures proper aspect ratio\n  },\n  moodOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n    background: 'linear-gradient(135deg, rgba(99,102,241,0.8), rgba(139,92,246,0.8))',\n    backgroundColor: 'rgba(99,102,241,0.8)', // fallback\n  },\n  moodName: {\n    fontSize: 18,\n    fontWeight: '400',\n    color: '#FFFFFF',\n    textAlign: 'center',\n    marginBottom: 4,\n    letterSpacing: -0.2,\n  },\n  moodDescription: {\n    fontSize: 12,\n    color: 'rgba(255,255,255,0.9)',\n    textAlign: 'center',\n    fontWeight: '300',\n    lineHeight: 16,\n  },\n  categoryEntryContainer: {\n    marginBottom: 20,\n  },\n  categoryScroll: {\n    paddingVertical: 10,\n    marginTop: 10,\n  },\n  categoryItem: {\n    width: 120, // Fixed width instead of percentage for consistency\n    alignItems: 'center',\n    marginRight: 16,\n    marginBottom: 10,\n  },\n  categoryIcon: {\n    width: 80, // Increased size for better visibility\n    height: 80,\n    borderRadius: 16, // More modern rounded corners\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 12,\n    overflow: 'hidden', // Ensure images stay within bounds\n    backgroundColor: '#F8F8F8', // Fallback background\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 2,\n  },\n  categoryEmoji: {\n    fontSize: 36,\n  },\n  categoryName: {\n    fontSize: 13,\n    fontWeight: '500', // Lighter weight\n    color: COLORS.darkGray,\n    textAlign: 'center',\n    lineHeight: 18,\n  },\n  heroSection: {\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    backgroundColor: '#667eea', // fallback\n    padding: 60,\n    borderRadius: 0,\n    marginBottom: 60,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  heroContent: {\n    alignItems: 'center',\n    textAlign: 'center',\n  },\n  heroTitle: {\n    fontSize: 48,\n    fontWeight: '300',\n    color: '#FFFFFF',\n    marginBottom: 20,\n    letterSpacing: -1,\n    lineHeight: 56,\n    textAlign: 'center',\n  },\n  heroSubtitle: {\n    fontSize: 20,\n    fontWeight: '400',\n    color: 'rgba(255,255,255,0.9)',\n    marginBottom: 50,\n    lineHeight: 30,\n    textAlign: 'center',\n    maxWidth: 600,\n  },\n  heroStats: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    gap: 60,\n  },\n  heroStat: {\n    alignItems: 'center',\n  },\n  heroStatNumber: {\n    fontSize: 32,\n    fontWeight: '300',\n    color: '#FFFFFF',\n    marginBottom: 8,\n    letterSpacing: -0.5,\n  },\n  heroStatLabel: {\n    fontSize: 14,\n    fontWeight: '400',\n    color: 'rgba(255,255,255,0.8)',\n    textTransform: 'uppercase',\n    letterSpacing: 1,\n  },\n  backToDiscoveryButton: {\n    backgroundColor: COLORS.accent2,\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 6,\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  backToDiscoveryText: {\n    color: COLORS.light,\n    fontWeight: '600',\n    fontSize: 16,\n  },\n  // Right Side Panel Styles (Lyst-inspired)\n  rightSidePanel: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1000,\n  },\n  rightPanelContent: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: 400,\n    backgroundColor: '#FAFAFA',\n    borderLeftWidth: 1,\n    borderLeftColor: '#E8E8E8',\n    paddingHorizontal: 30,\n    paddingVertical: 40,\n    shadowColor: '#000',\n    shadowOffset: { width: -2, height: 0 },\n    shadowOpacity: 0.1,\n    shadowRadius: 20,\n  },\n  rightPanelHeader: {\n    marginBottom: 30,\n  },\n  rightPanelTitle: {\n    fontSize: 28,\n    fontWeight: '300',\n    color: '#1A1A1A',\n    letterSpacing: -0.5,\n    marginBottom: 8,\n  },\n  rightPanelSubtitle: {\n    fontSize: 16,\n    color: '#666666',\n    fontWeight: '400',\n    marginBottom: 40,\n    lineHeight: 24,\n  },\n  closeRightPanel: {\n    position: 'absolute',\n    top: -10,\n    right: -10,\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: '#FFFFFF',\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 8,\n  },\n  closeRightPanelText: {\n    fontSize: 20,\n    color: '#999999',\n    fontWeight: '300',\n  },\n  rightPersonaList: {\n    gap: 20,\n  },\n  rightPersonaItem: {\n    backgroundColor: '#FFFFFF',\n    borderRadius: 12,\n    padding: 20,\n    borderWidth: 1,\n    borderColor: '#F0F0F0',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.05,\n    shadowRadius: 8,\n  },\n  rightPersonaContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  rightEmojiCircle: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  rightItemEmoji: {\n    fontSize: 24,\n  },\n  rightPersonaImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n  },\n  rightPersonaText: {\n    flex: 1,\n  },\n  rightItemName: {\n    fontSize: 18,\n    fontWeight: '500',\n    color: '#1A1A1A',\n    marginBottom: 4,\n    letterSpacing: -0.2,\n  },\n  rightItemDescription: {\n    fontSize: 14,\n    color: '#666666',\n    lineHeight: 20,\n    fontWeight: '400',\n  },\n  rightSelectedBadge: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  rightSelectedBadgeText: {\n    color: '#FFFFFF',\n    fontSize: 12,\n    fontWeight: '600',\n  },\n  // Section Header Styles (Lyst-inspired)\n  sectionHeaderRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-end',\n    marginBottom: 30,\n    paddingBottom: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#F0F0F0',\n  },\n  sectionTitleContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  sectionIcon: {\n    fontSize: 24,\n    marginRight: 12,\n  },\n  sectionTitle: {\n    fontSize: 32,\n    fontWeight: '300',\n    color: '#1A1A1A',\n    letterSpacing: -0.5,\n  },\n  sectionAction: {\n    fontSize: 14,\n    color: '#666666',\n    fontWeight: '400',\n    textTransform: 'uppercase',\n    letterSpacing: 1,\n    textDecorationLine: 'underline',\n  },\n  sectionSubtitle: {\n    fontSize: 18,\n    color: '#666666',\n    fontWeight: '400',\n    marginBottom: 40,\n    lineHeight: 26,\n  },\n  refinedHeader: {\n    backgroundColor: '#FFFFFF',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#E8E8E8',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.03,\n    shadowRadius: 5,\n    zIndex: 10,\n  },\n  brandSection: {\n    marginBottom: 20,\n  },\n  brandTitle: {\n    fontSize: 28,\n    fontWeight: '300',\n    color: '#1A1A1A',\n    letterSpacing: -0.5,\n    marginBottom: 8,\n  },\n  brandTagline: {\n    fontSize: 16,\n    color: '#666666',\n    fontWeight: '400',\n    marginBottom: 40,\n    lineHeight: 24,\n  },\n  headerControls: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  refinedSearchInput: {\n    flex: 1,\n    height: 48,\n    backgroundColor: '#F5F5F5',\n    borderRadius: 4,\n    paddingHorizontal: 16,\n    fontSize: 16,\n    color: '#333333',\n    borderWidth: 1,\n    borderColor: '#E8E8E8',\n    fontWeight: '300',\n  },\n  searchIconButton: {\n    marginLeft: 10,\n    backgroundColor: '#6366F1',\n    paddingHorizontal: 20,\n    height: 48,\n    borderRadius: 4,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  searchIcon: {\n    fontSize: 18,\n    color: '#FFFFFF',\n  },\n  selectorRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  subtleSelector: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#FFFFFF',\n    paddingHorizontal: 18,\n    paddingVertical: 12,\n    borderRadius: 4,\n    borderWidth: 2,\n    borderColor: '#E8E8E8',\n    flex: 1,\n    marginRight: 10,\n  },\n  selectorEmoji: {\n    fontSize: 16,\n    marginRight: 5,\n  },\n  selectorText: {\n    fontSize: 14,\n    fontWeight: '400',\n    color: '#333333',\n  },\n  selectorIcon: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    marginRight: 10,\n  },\n  defaultSelectorIcon: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    marginRight: 10,\n    backgroundColor: '#F0F0F0',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  defaultIconText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#666666',\n  },\n  sectionLabel: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: '#999999',\n    textTransform: 'uppercase',\n    letterSpacing: 2,\n    marginBottom: 8,\n  },\n  categoryImage: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 8,\n  },\n  premiumSearchContainer: {\n    flex: 1,\n    marginRight: 20,\n    marginBottom: 20,\n  },\n  searchGlow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#FFFFFF',\n    borderRadius: 16,\n    padding: 6,\n    shadowColor: '#6366F1',\n    shadowOffset: { width: 0, height: 8 },\n    shadowOpacity: 0.25,\n    shadowRadius: 25,\n    elevation: 12,\n    borderWidth: 2,\n    borderColor: '#6366F1',\n    position: 'relative',\n    overflow: 'hidden',\n    // Web-specific neon glow effects\n    ...(Platform.OS === 'web' && {\n      boxShadow: `\n        0 0 20px rgba(99, 102, 241, 0.3),\n        0 0 40px rgba(99, 102, 241, 0.2),\n        0 0 60px rgba(99, 102, 241, 0.1),\n        inset 0 0 20px rgba(99, 102, 241, 0.05)\n      `,\n      background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\n      transition: 'all 0.3s ease',\n    }),\n  },\n  premiumSearchInput: {\n    flex: 1,\n    height: 56,\n    backgroundColor: 'transparent',\n    borderRadius: 12,\n    paddingHorizontal: 20,\n    fontSize: 18,\n    color: '#1A1A1A',\n    fontWeight: '400',\n    letterSpacing: -0.2,\n    outline: 'none',\n    ...(Platform.OS === 'web' && {\n      '&:focus': {\n        outline: 'none',\n      },\n    }),\n  },\n  premiumSearchButton: {\n    backgroundColor: '#6366F1',\n    paddingHorizontal: 24,\n    height: 48,\n    borderRadius: 12,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#6366F1',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.4,\n    shadowRadius: 12,\n    ...(Platform.OS === 'web' && {\n      boxShadow: `\n        0 0 15px rgba(99, 102, 241, 0.4),\n        0 0 30px rgba(99, 102, 241, 0.2)\n      `,\n      background: 'linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%)',\n      transition: 'all 0.2s ease',\n      cursor: 'pointer',\n      '&:hover': {\n        transform: 'translateY(-1px)',\n        boxShadow: `\n          0 0 20px rgba(99, 102, 241, 0.5),\n          0 0 40px rgba(99, 102, 241, 0.3)\n        `,\n      },\n    }),\n  },\n  premiumSearchIcon: {\n    fontSize: 20,\n    color: '#FFFFFF',\n    fontWeight: '600',\n  },\n  productImage: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 12,\n    resizeMode: 'contain',\n  },\n  productTitle: {\n    fontSize: 28,\n    fontWeight: '700',\n    color: COLORS.text,\n    marginBottom: 8,\n    lineHeight: 34,\n    textAlign: 'left',\n  },\n  productDescription: {\n    fontSize: 16,\n    color: COLORS.textSecondary,\n    marginBottom: 16,\n    lineHeight: 22,\n  },\n  price: {\n    fontSize: 20,\n    fontWeight: '600',\n    color: COLORS.text,\n    marginBottom: 20,\n  },\n  brandText: {\n    fontSize: 14,\n    color: COLORS.textSecondary,\n    marginBottom: 10,\n    textTransform: 'uppercase',\n    letterSpacing: 1,\n    fontWeight: '500',\n  },\n  modernProductGrid: {\n    paddingHorizontal: 40,\n    paddingVertical: 20,\n    backgroundColor: '#FFFFFF',\n  },\n  gridHeader: {\n    marginBottom: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#E8E8E8',\n    paddingBottom: 10,\n  },\n  gridHeaderContent: {\n    flexDirection: 'row', // Keep as row for overall layout\n    justifyContent: 'space-between', // To push button to the right\n    alignItems: 'flex-start', // Align items to the top for the new stacked title\n    paddingBottom: 10, // Keep some padding below the entire header block\n  },\n  personaGridHeaderContainer: {\n    // This container will now hold the label, title, and subtitle\n    marginBottom: 0, // Remove bottom margin as it's handled by gridHeaderContent padding\n  },\n  personaGridHeaderLabel: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: '#999999', // Matches \"TRENDING\" label\n    textTransform: 'uppercase',\n    letterSpacing: 2,\n    marginBottom: 4, // Space between label and main title\n  },\n  personaGridHeaderTitle: { // For the main persona name, styled like \"What's Hot Now\"\n    fontSize: 32,\n    fontWeight: '300',\n    color: '#1A1A1A',\n    letterSpacing: -0.5,\n    marginBottom: 4, // Add space between title and subtitle\n  },\n  gridTitle: { // Will be repurposed for the main title part or removed if not needed\n    fontSize: 24, // Keep as a fallback or for non-persona views\n    fontWeight: 'bold',\n    color: '#1A1A1A',\n  },\n  gridSubtitle: { // This will be used for the product count under the main title\n    fontSize: 14,\n    color: '#666666',\n    fontWeight: '400',\n    // marginBottom: 5, // Removed, spacing handled by container/title\n  },\n  elegantBackButton: {\n    backgroundColor: '#6366F1',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 4,\n    alignItems: 'center',\n  },\n  elegantBackText: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  productGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n  },\n  modernProductCard: {\n    width: '48%',\n    backgroundColor: '#FFFFFF',\n    borderRadius: 20,\n    marginBottom: 30,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.08,\n    shadowRadius: 20,\n    elevation: 6,\n    overflow: 'hidden',\n    borderWidth: 1,\n    borderColor: '#F0F0F0',\n    padding: 24,\n    minHeight: 520,\n  },\n  modernProductCardSmallScreen: { // New style for small screens\n    width: '98%', \n  },\n  studentProductCard: {\n    width: '48%',\n    backgroundColor: '#FFFFFF',\n    borderRadius: 8, // Consistent with modernProductCard\n    marginBottom: 24,\n    shadowColor: '#000000',\n    shadowOffset: { width: 0, height: 3 },\n    shadowOpacity: 0.07, // Softer shadow\n    shadowRadius: 10,\n    elevation: 4,\n    borderWidth: 1,\n    borderColor: '#EAEAEA', // Light, subtle border\n    overflow: 'hidden',\n  },\n  studentProductCardSmallScreen: { // New style for student cards on small screens\n    width: '98%',\n  },\n  productImageContainer: {\n    height: 280,\n    position: 'relative',\n    backgroundColor: '#FAFAFA',\n    borderRadius: 16,\n    marginBottom: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow: 'hidden',\n  },\n  favoriteButton: {\n    position: 'absolute',\n    top: 10,\n    right: 10,\n    backgroundColor: 'rgba(255,255,255,0.8)',\n    padding: 5,\n    borderRadius: 15,\n  },\n  favoriteIcon: {\n    fontSize: 20,\n    color: '#FF9500',\n  },\n  viralBadge: {\n    position: 'absolute',\n    top: 10,\n    left: 10,\n    backgroundColor: '#FF3B30',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n  },\n  viralBadgeText: {\n    fontSize: 10,\n    fontWeight: '700',\n    color: '#FFFFFF',\n    textTransform: 'uppercase',\n    letterSpacing: 0.5,\n  },\n  productInfo: {\n    padding: 15,\n  },\n  brandName: {\n    fontSize: 12,\n    color: COLORS.primaryPeachy,\n    marginBottom: 8,\n    fontWeight: '700',\n    letterSpacing: 1,\n    textTransform: 'uppercase',\n  },\n  trendingStatsText: {\n    fontSize: 12,\n    color: COLORS.midGray,\n    lineHeight: 16,\n  },\n  hotTakeContainer: {\n    marginBottom: 10,\n    backgroundColor: COLORS.lightGray,\n    padding: 10,\n    borderRadius: 6,\n  },\n  hotTakeLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: COLORS.darkGray,\n    marginBottom: 5,\n  },\n  hotTakeText: {\n    fontSize: 12,\n    color: COLORS.midGray,\n    lineHeight: 16,\n  },\n  productName: {\n    fontSize: 28,\n    fontWeight: '700',\n    color: COLORS.text,\n    marginBottom: 16,\n    lineHeight: 34,\n  },\n  priceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  currentPrice: {\n    fontSize: 20,\n    fontWeight: '600',\n    color: COLORS.text,\n  },\n  rating: {\n    fontSize: 12,\n    color: '#FF9500',\n  },\n  shopButton: {\n    backgroundColor: '#6366F1',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 4,\n    alignItems: 'center',\n  },\n  shopButtonText: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  studentContent: {\n    marginBottom: 10,\n  },\n  studentReviewLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: '#333333',\n    marginBottom: 5,\n  },\n  studentReview: {\n    fontSize: 12,\n    color: '#666666',\n    lineHeight: 18,\n  },\n  whyStudentsLoveLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: '#333333',\n    marginBottom: 5,\n  },\n  whyStudentsLove: {\n    fontSize: 12,\n    color: '#666666',\n    lineHeight: 18,\n  },\n  studentShopButton: {\n    backgroundColor: '#FF9500',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 4,\n    alignItems: 'center',\n  },\n  studentShopButtonText: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  noProductsMessage: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  noProductsText: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: COLORS.accent1,\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  noProductsSubtext: {\n    fontSize: 16,\n    color: COLORS.accent2,\n    textAlign: 'center',\n    lineHeight: 22,\n  },\n\n  // REFINED Student Persona Specific Product Card Styles (Ultra Luxury / Minimalist)\n  studentProductCard: {\n    width: '48%',\n    backgroundColor: '#FFFFFF',\n    borderRadius: 8, // Consistent with modernProductCard\n    marginBottom: 24,\n    shadowColor: '#000000',\n    shadowOffset: { width: 0, height: 3 },\n    shadowOpacity: 0.07, // Softer shadow\n    shadowRadius: 10,\n    elevation: 4,\n    borderWidth: 1,\n    borderColor: '#EAEAEA', // Light, subtle border\n    overflow: 'hidden',\n  },\n  studentImageContainer: { // Same as productImageContainer for consistency\n    height: 200,\n    position: 'relative',\n    backgroundColor: '#F8F8F8', // Consistent placeholder color\n  },\n  studentInfo: {\n    padding: 20, // More padding for a spacious feel\n  },\n  studentBrandName: {\n    fontSize: 13,\n    fontWeight: '400',\n    color: '#555555', // Medium grey\n    marginBottom: 6,\n    textTransform: 'uppercase',\n    letterSpacing: 0.5,\n  },\n  studentProductName: {\n    fontSize: 18, // Slightly larger for better readability\n    fontWeight: '500', // Refined weight\n    color: '#2C3E50', // Dark, sophisticated grey/blue\n    marginBottom: 10,\n    lineHeight: 24,\n  },\n  studentPriceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  studentCurrentPrice: {\n    fontSize: 17,\n    fontWeight: '600',\n    color: '#00796B', // Deep teal/green for value, but sophisticated\n  },\n  studentRating: {\n    fontSize: 13,\n    fontWeight: '500',\n    color: '#FFA000', // Muted gold/amber for rating star\n  },\n  studentExclusiveContent: {\n    marginTop: 10, // Add some space before this section\n    marginBottom: 16,\n    paddingTop: 10,\n    borderTopWidth: 1,\n    borderTopColor: '#EEEEEE', // Very subtle separator\n  },\n  studentReviewText: {\n    fontSize: 14,\n    color: '#555555',\n    fontStyle: 'italic',\n    lineHeight: 20,\n    marginBottom: 10,\n  },\n  studentWhyLoveText: {\n    fontSize: 14,\n    color: '#555555',\n    lineHeight: 20,\n  },\n  studentDealButton: {\n    backgroundColor: '#2C3E50', // Dark sophisticated grey/blue\n    paddingVertical: 12,\n    paddingHorizontal: 15, \n    borderRadius: 6, // Slightly more refined radius\n    alignItems: 'center',\n    marginTop: 10, // Space before button\n  },\n  studentDealButtonText: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    fontWeight: '500',\n    textTransform: 'uppercase',\n    letterSpacing: 1,\n  },\n\n  studentGridTitle: { // Refined student grid title\n    fontSize: 26, // Slightly reduced for elegance\n    fontWeight: '300', // Lighter font weight for luxury feel\n    color: '#2C3E50',\n    fontFamily: Platform.OS === 'ios' ? 'AvenirNext-Regular' : 'sans-serif-light',\n    letterSpacing: 0.5,\n  },\n  studentGridSubtitle: { // Refined student grid subtitle\n    fontSize: 14,\n    color: '#555555',\n    fontWeight: '400',\n  },\n  // NEON Back Button Styles (Inspired by Search Bar)\n  neonBackButton: {\n    paddingHorizontal: 18,\n    paddingVertical: 10,\n    borderRadius: 12, // Match search button\n    backgroundColor: '#FFFFFF', // Light base\n    borderWidth: 1, // Subtle border\n    borderColor: '#6366F180', // Neon color with some transparency\n    shadowColor: '#6366F1', // This shadow will apply on native\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2, \n    shadowRadius: 8,\n    elevation: 4,\n    alignSelf: 'flex-start',\n    ...(Platform.OS === 'web' ? { // Web-specific base styles\n      cursor: 'pointer',\n      transition: 'all 0.2s ease', // Basic transition for web\n    } : {}),\n  },\n  neonBackButtonText: {\n    color: '#6366F1', // Neon color for text\n    fontSize: 14,\n    fontWeight: '500', // Refined weight\n    letterSpacing: 0.5,\n  },\n  // Specific style for the empty state back button to allow centering if needed\n  emptyStateNeonBackButton: { \n    paddingHorizontal: 20, \n    paddingVertical: 12,\n    borderRadius: 12, \n    backgroundColor: '#FFFFFF', \n    borderWidth: 1, \n    borderColor: '#6366F180', \n    shadowColor: '#6366F1', // This shadow will apply on native\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2, \n    shadowRadius: 8,\n    elevation: 4,\n    marginTop: 20,\n    ...(Platform.OS === 'web' ? { // Web-specific base styles\n      cursor: 'pointer',\n      transition: 'all 0.2s ease', // Basic transition for web\n    } : {}),\n  },\n  // Styles for Persona Exclusive Content in modernProductCard\n  personaExclusiveContentContainer: {\n    marginTop: 10,\n    marginBottom: 12,\n    paddingTop: 10,\n    borderTopWidth: 1,\n    borderTopColor: '#EEEEEE', // Subtle separator\n  },\n  personaInsightLabel: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: '#333333',\n    marginBottom: 4,\n    textTransform: 'uppercase',\n    letterSpacing: 0.7,\n  },\n  personaInsightText: {\n    fontSize: 14,\n    color: '#555555',\n    lineHeight: 20,\n  },\n  // Styles for New Minimalist Buttons\n  productCardButtonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 24,\n    gap: 12,\n  },\n  newBadge: {\n    position: 'absolute',\n    top: 16,\n    left: 16,\n    backgroundColor: COLORS.primaryPeachy,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 6,\n    zIndex: 10,\n  },\n  newBadgeText: {\n    fontSize: 12,\n    fontWeight: '700',\n    color: COLORS.white,\n    letterSpacing: 0.5,\n  },\n  minimalistButtonShared: {\n    flex: 1,\n    paddingVertical: 14,\n    paddingHorizontal: 16,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    minHeight: 48,\n  },\n  minimalistButtonPrimary: {\n    backgroundColor: '#007AFF',\n    borderWidth: 0,\n  },\n  minimalistButtonSecondary: {\n    backgroundColor: 'transparent',\n    borderWidth: 1,\n    borderColor: '#D1D1D6',\n  },\n  buttonTextShared: {\n    fontSize: 16,\n    fontWeight: '600',\n    textAlign: 'center',\n  },\n  buttonTextPrimary: {\n    color: '#FFFFFF',\n  },\n  buttonTextSecondary: {\n    color: '#007AFF',\n  },\n  cardActions: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 12,\n    paddingTop: 12,\n    borderTopWidth: 1,\n    borderTopColor: '#f0f0f0', // Lighter separator\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  actionButton: {\n    padding: 8,\n    marginRight: 8,\n    backgroundColor: '#f0f0f0',\n    borderRadius: 20,\n  },\n  actionButtonText: {\n    fontSize: 16,\n  },\n  buyNowButton: { // This style might be repurposed or removed if the new buttons fully replace it\n    backgroundColor: COLORS.accent1, // Or primary neon color\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 8,\n    flexGrow: 1, // Allow it to take available space if other items are fixed\n    marginLeft: 10, // if actionButtons are present\n    alignItems: 'center',\n  },\n  buyNowButtonText: {\n    color: COLORS.light,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n\n  // Back of the card styles\n  cardContentBack: {\n    padding: 20,\n    minHeight: 380,\n  },\n  backButton: {\n    padding: 15,\n    borderRadius: 8,\n    backgroundColor: '#FFFFFF',\n    alignItems: 'center',\n  },\n  backButtonText: {\n    fontSize: 24,\n    color: COLORS.darkGray,\n  },\n  backProductTitle: {\n    fontSize: 24,\n    fontWeight: '600',\n    color: COLORS.darkGray,\n    marginBottom: 10,\n  },\n  backProductPrice: {\n    fontSize: 20,\n    fontWeight: '600',\n    marginBottom: 20,\n  },\n  highlightsContainer: {\n    marginBottom: 20,\n    backgroundColor: COLORS.lightGray,\n    padding: 15,\n    borderRadius: 8,\n  },\n  highlightsTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: COLORS.darkGray,\n    marginBottom: 8,\n  },\n  highlightsText: {\n    fontSize: 14,\n    color: COLORS.midGray,\n    lineHeight: 20,\n    fontStyle: 'italic',\n  },\n  insightsContainer: {\n    marginBottom: 20,\n  },\n  insightsTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: COLORS.darkGray,\n    marginBottom: 15,\n  },\n  insightBar: {\n    marginBottom: 15,\n  },\n  insightBarHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 5,\n  },\n  insightBarLabel: {\n    fontSize: 14,\n    color: COLORS.darkGray,\n    fontWeight: '500',\n  },\n  insightBarValue: {\n    fontSize: 14,\n    color: COLORS.midGray,\n    fontWeight: '600',\n  },\n  insightBarTrack: {\n    height: 6,\n    backgroundColor: COLORS.lightGray,\n    borderRadius: 3,\n    overflow: 'hidden',\n  },\n  insightBarFill: {\n    height: '100%',\n    borderRadius: 3,\n  },\n  backFooter: {\n    borderTopWidth: 1,\n    paddingTop: 20,\n  },\n  whyBuyThisContainer: {\n    marginBottom: 10,\n  },\n  whyBuyThisText: {\n    fontSize: 13,\n    lineHeight: 18,\n    color: '#1A1A1A',\n    fontWeight: '500',\n    textAlign: 'left',\n    padding: 12,\n    backgroundColor: 'linear-gradient(135deg, #F8F9FF 0%, #E8EFFF 100%)', // Light gradient background\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: '#E1E8F4',\n    letterSpacing: 0.3,\n    // For web, add these properties\n    ...(Platform.OS === 'web' ? {\n      backgroundImage: 'linear-gradient(135deg, #F8F9FF 0%, #E8EFFF 100%)',\n      backgroundColor: '#F8F9FF', // Fallback\n    } : {\n      backgroundColor: '#F8F9FF', // Solid color for mobile\n    }),\n  },\n  categoryImage: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 8,\n    objectFit: 'cover', // For web - prevents image stretching\n    backgroundColor: '#F8F8F8', // Fallback background\n  },\n  ultraModernSectionHeader: {\n    backgroundColor: 'transparent',\n    padding: 0,\n    borderBottomWidth: 0,\n    shadowColor: 'transparent',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-end',\n    marginBottom: 48,\n    paddingBottom: 0,\n  },\n  sectionHeaderLeft: {\n    flex: 1,\n  },\n  ultraModernSectionLabel: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: '#999999',\n    letterSpacing: 2,\n    textTransform: 'uppercase',\n    marginBottom: 8,\n  },\n  ultraModernSectionTitle: {\n    fontSize: 42,\n    fontWeight: '200',\n    color: '#1A1A1A',\n    letterSpacing: -1.2,\n    lineHeight: 48,\n    marginBottom: 16,\n    fontFamily: Platform.OS === 'web' ? '\"Inter\", -apple-system, BlinkMacSystemFont, sans-serif' : 'System',\n  },\n  ultraModernSectionSubtitle: {\n    fontSize: 16,\n    color: '#666666',\n    fontWeight: '400',\n    lineHeight: 24,\n    maxWidth: 480,\n    fontStyle: 'italic',\n  },\n  modernSeeAllButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 0,\n    backgroundColor: 'transparent',\n  },\n  modernSeeAllText: {\n    fontSize: 14,\n    color: '#1A1A1A',\n    fontWeight: '500',\n    letterSpacing: 0.5,\n    marginRight: 8,\n  },\n  modernSeeAllArrow: {\n    fontSize: 16,\n    color: '#1A1A1A',\n    transform: [{ translateX: 0 }],\n    transition: 'transform 0.2s ease',\n  },\n  ultraModernMoodsGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(3, 1fr)', // 3 columns for better spacing\n    gap: '32px',\n    marginTop: 0,\n    ...(Platform.OS !== 'web' ? {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'space-between',\n      // No gap property for React Native, margin on items will handle it\n    } : {}),\n  },\n  ultraModernMoodCard: {\n    width: Platform.OS === 'web' ? 'auto' : '31%', // Responsive width\n    aspectRatio: '4/5', // Elegant proportions\n    backgroundColor: '#FFFFFF',\n    borderRadius: 20, // More sophisticated rounded corners\n    overflow: 'hidden',\n    borderWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 8 },\n    shadowOpacity: 0.12,\n    shadowRadius: 24,\n    elevation: 8,\n    position: 'relative',\n    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)', // Smooth hover effect\n    cursor: 'pointer',\n    marginBottom: Platform.OS === 'web' ? 0 : 20, // Add margin for RN flexbox grid\n  },\n  ultraModernMoodImageContainer: {\n    height: '60%', // Image takes up 60% of card\n    position: 'relative',\n    backgroundColor: '#F8F8F8',\n  },\n  ultraModernMoodCover: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n    filter: 'contrast(1.1) saturate(1.2)', // Enhanced image quality\n  },\n  ultraModernMoodOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    opacity: 0.3, // Subtle overlay\n  },\n  ultraModernMoodContent: {\n    height: '40%', // Content takes up 40% of card\n    padding: 24,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    backgroundColor: '#FFFFFF',\n  },\n  moodNameRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  moodEmoji: {\n    fontSize: 20,\n    marginRight: 8,\n  },\n  ultraModernMoodName: {\n    fontSize: 18,\n    fontWeight: '500',\n    color: '#1A1A1A',\n    letterSpacing: -0.3,\n    flex: 1,\n  },\n  cursiveDescription: {\n    fontSize: 14,\n    color: '#666666',\n    fontStyle: 'italic',\n    lineHeight: 20,\n    marginBottom: 8,\n    fontFamily: Platform.OS === 'web' ? '\"Playfair Display\", Georgia, serif' : 'System',\n  },\n  philosophyText: {\n    fontSize: 11,\n    color: '#999999',\n    fontWeight: '400',\n    lineHeight: 16,\n    textTransform: 'uppercase',\n    letterSpacing: 0.5,\n  },\n  ultraModernMainHeader: {\n    backgroundColor: 'transparent',\n    padding: 0,\n    borderBottomWidth: 0,\n    shadowColor: 'transparent',\n    marginBottom: 48,\n    paddingBottom: 0,\n  },\n  mainHeaderContent: {\n    flexDirection: 'column',\n    gap: 40,\n  },\n  brandSection: {\n    marginBottom: 0,\n  },\n  ultraModernHeaderControls: {\n    flexDirection: 'column',\n    gap: 24,\n  },\n  ultraModernProductHeaderControls: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    marginTop: 24,\n  },\n  ultraModernSearchContainer: {\n    width: '100%',\n  },\n  searchInputWrapper: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#F8F8F8',\n    borderRadius: 16,\n    paddingHorizontal: 20,\n    paddingVertical: 4,\n    borderWidth: 1,\n    borderColor: '#E8E8E8',\n  },\n  ultraModernSearchInput: {\n    flex: 1,\n    height: 56,\n    backgroundColor: 'transparent',\n    fontSize: 18,\n    color: '#1A1A1A',\n    fontWeight: '400',\n    letterSpacing: -0.2,\n    outline: 'none',\n    ...(Platform.OS === 'web' && {\n      outline: 'none',\n    }),\n  },\n  ultraModernSearchButton: {\n    padding: 8,\n    backgroundColor: 'transparent',\n  },\n  searchIcon: {\n    fontSize: 20,\n    color: '#666666',\n  },\n  ultraModernSelectorRow: {\n    flexDirection: 'row',\n    gap: 16,\n    flexWrap: 'wrap',\n  },\n  ultraModernSelector: {\n    flex: 1,\n    minWidth: 200,\n    backgroundColor: '#FFFFFF',\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: '#E8E8E8',\n    padding: 16,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.04,\n    shadowRadius: 8,\n    elevation: 2,\n  },\n  ultraModernSelectorActive: {\n    borderColor: '#6366F1',\n    backgroundColor: '#F8F9FF',\n  },\n  selectorContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  ultraModernSelectorIcon: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n  },\n  ultraModernDefaultIcon: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    backgroundColor: '#F0F0F0',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  defaultIconText: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: '#666666',\n  },\n  selectorTextContainer: {\n    flex: 1,\n  },\n  ultraModernSelectorLabel: {\n    fontSize: 10,\n    fontWeight: '600',\n    color: '#999999',\n    textTransform: 'uppercase',\n    letterSpacing: 1,\n    marginBottom: 4,\n  },\n  ultraModernSelectorValue: {\n    fontSize: 14,\n    color: '#1A1A1A',\n    fontWeight: '500',\n    lineHeight: 18,\n  },\n  ultraModernBrandLabel: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: '#999999',\n    letterSpacing: 2,\n    textTransform: 'uppercase',\n    marginBottom: 8,\n  },\n  ultraModernBrandTitle: {\n    fontSize: 42,\n    fontWeight: '200',\n    color: '#1A1A1A',\n    letterSpacing: -1.2,\n    lineHeight: 48,\n    marginBottom: 16,\n    fontFamily: Platform.OS === 'web' ? '\"Inter\", -apple-system, BlinkMacSystemFont, sans-serif' : 'System',\n  },\n  ultraModernBrandTagline: {\n    fontSize: 16,\n    color: '#666666',\n    fontWeight: '400',\n    lineHeight: 24,\n    maxWidth: 480,\n    fontStyle: 'italic',\n  },\n  ultraModernCategoryContainer: {\n    marginBottom: 120,\n    backgroundColor: 'transparent',\n    borderRadius: 0,\n    padding: 40,\n    paddingTop: 60,\n    shadowColor: 'transparent',\n  },\n  ultraModernCategoryGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(3, 1fr)', // 3 columns for better spacing\n    gap: '32px',\n    marginTop: 0,\n    ...(Platform.OS !== 'web' ? {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'space-between',\n      // No gap property for React Native, margin on items will handle it\n    } : {}),\n  },\n  ultraModernCategoryItem: {\n    width: Platform.OS === 'web' ? 'auto' : '31%', // Responsive width\n    aspectRatio: '4/5', // Elegant proportions\n    backgroundColor: '#FFFFFF',\n    borderRadius: 20, // More sophisticated rounded corners\n    overflow: 'hidden',\n    borderWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 8 },\n    shadowOpacity: 0.12,\n    shadowRadius: 24,\n    elevation: 8,\n    position: 'relative',\n    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)', // Smooth hover effect\n    cursor: 'pointer',\n    marginBottom: Platform.OS === 'web' ? 0 : 20, // Add margin for RN flexbox grid\n  },\n  ultraModernCategoryIcon: {\n    height: '60%', // Image takes up 60% of card\n    position: 'relative',\n    backgroundColor: '#F8F8F8',\n  },\n  ultraModernCategoryImage: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n    filter: 'contrast(1.1) saturate(1.2)', // Enhanced image quality\n  },\n  ultraModernCategoryName: {\n    fontSize: 18,\n    fontWeight: '500',\n    color: '#1A1A1A',\n    letterSpacing: -0.3,\n    padding: 24,\n    paddingBottom: 8,\n  },\n  ultraModernCategoryDescription: {\n    fontSize: 14,\n    color: '#666666',\n    fontStyle: 'italic',\n    lineHeight: 20,\n    paddingLeft: 24,\n    paddingRight: 24,\n    paddingBottom: 24,\n    fontFamily: Platform.OS === 'web' ? '\"Playfair Display\", Georgia, serif' : 'System',\n  },\n  ultraModernTrendRadarContainer: {\n    marginBottom: 120,\n    backgroundColor: 'transparent',\n    borderRadius: 0,\n    padding: 40,\n    paddingTop: 60,\n    shadowColor: 'transparent',\n  },\n  ultraModernTrendRadarGrid: {\n    // marginTop: 20, // Using ScrollView's own spacing if needed\n    // gap: 24, // Using marginRight on cards for horizontal scroll\n    // For React Native, horizontal scroll setup\n    ...(Platform.OS !== 'web' && {\n      // Default to vertical grid on RN unless overridden by small screen ScrollView\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'space-between',\n    }),\n    // For Web, keep it as a grid or flex container that wraps\n    ...(Platform.OS === 'web' && {\n      display: 'flex',\n      flexDirection: 'row', \n      flexWrap: 'wrap', // Default to wrap for larger screens\n      justifyContent: 'space-between',\n      gap: 24, \n    }),\n  },\n  ultraModernTrendRadarGridSmallScreen: { // This style applies to the View when isSmallScreen is true BUT NOT using ScrollView\n    // If we ever have a non-ScrollView small screen version, this would apply.\n    // For now, it's not directly used by the ScrollView setup.\n    // We might use it for the ScrollView's contentContainerStyle if padding is needed.\n    flexDirection: 'row', // Ensures items are in a row for ScrollView logic to work if this style is repurposed\n    // No flexWrap: 'nowrap' here, ScrollView handles that\n    // justifyContent: 'flex-start', // ScrollView handles this\n  },\n  ultraModernTrendRadarGridSmallScreenScrollViewContent: { // Style for ScrollView contentContainerStyle\n    paddingHorizontal: 20, // Example: Add some padding to the start/end of the scrollable content\n    paddingVertical: 10,   // Example: Vertical padding if needed\n  },\n  ultraModernTrendRadarCard: {\n    width: Platform.OS === 'web' ? 'auto' : '48%', // Responsive width\n    aspectRatio: '3/2', // Wider aspect ratio for trending items\n    backgroundColor: '#FFFFFF',\n    borderRadius: 20, // More sophisticated rounded corners\n    overflow: 'hidden',\n    borderWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 8 },\n    shadowOpacity: 0.12,\n    shadowRadius: 24,\n    elevation: 8,\n    position: 'relative',\n    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)', // Smooth hover effect\n    cursor: 'pointer',\n    marginRight: Platform.OS === 'web' ? 0 : 20, // Add margin for RN horizontal scroll, not for web grid\n  },\n  ultraModernTrendRadarImageContainer: {\n    height: '70%', // Image takes up 70% of card\n    position: 'relative',\n    backgroundColor: '#F8F8F8',\n  },\n  ultraModernTrendRadarImage: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n    filter: 'contrast(1.1) saturate(1.2)', // Enhanced image quality\n  },\n  ultraModernViralBadge: {\n    position: 'absolute',\n    top: 16,\n    left: 16,\n    backgroundColor: '#FF4757',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 12,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 4,\n  },\n  ultraModernViralBadgeText: {\n    fontSize: 10,\n    fontWeight: '700',\n    color: '#FFFFFF',\n    letterSpacing: 1,\n    textTransform: 'uppercase',\n  },\n  ultraModernTrendOverlay: {\n    position: 'absolute',\n    bottom: 16,\n    right: 16,\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 12,\n  },\n  ultraModernTrendChangeText: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: '#FFFFFF',\n    letterSpacing: 0.5,\n  },\n  ultraModernTrendRadarContent: {\n    height: '30%', // Content takes up 30% of card\n    padding: 20,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    backgroundColor: '#FFFFFF',\n  },\n  ultraModernTrendRadarCategory: {\n    fontSize: 10,\n    fontWeight: '600',\n    color: '#999999',\n    textTransform: 'uppercase',\n    letterSpacing: 1,\n    marginBottom: 6,\n  },\n  ultraModernTrendRadarTitle: {\n    fontSize: 18, // Default size\n    fontWeight: '600',\n    color: '#FFFFFF',\n    marginTop: 8,\n    textAlign: 'center',\n  },\n  ultraModernTrendRadarSubtitle: {\n    fontSize: 13,\n    color: 'rgba(255,255,255,0.8)',\n    textAlign: 'center',\n    marginTop: 4,\n  },\n  ultraModernTrendPercentageContainer: {\n    position: 'absolute',\n    top: 12,\n    right: 12,\n    backgroundColor: 'rgba(0,0,0,0.7)',\n    paddingVertical: 5,\n    paddingHorizontal: 10,\n    borderRadius: 12,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  ultraModernTrendPercentage: {\n    color: '#FFFFFF',\n    fontSize: 13, // Default size\n    fontWeight: 'bold',\n    marginRight: 4,\n  },\n  ultraModernTrendLabel: {\n    color: 'rgba(255,255,255,0.9)',\n    fontSize: 12, // Default size\n    fontWeight: '500',\n  },\n  ultraModernBundleName: {\n    fontSize: 20, // Default size\n    fontWeight: '600',\n    color: COLORS.text,\n    marginBottom: 6,\n  },\n  ultraModernBundleCuratorContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 'auto', // Push to bottom\n    paddingTop: 8,\n  },\n  ultraModernBundleCuratorAvatar: {\n    width: 24, // Default size\n    height: 24, // Default size\n    borderRadius: 12,\n    marginRight: 8,\n    backgroundColor: COLORS.lightGray, // Placeholder\n  },\n  ultraModernBundleCuratorName: {\n    fontSize: 13, // Default size\n    color: COLORS.midGray,\n    fontWeight: '500',\n  },\n  ultraModernTrendRadarCardSmallScreen: {\n    // width is handled dynamically inline for horizontal scroll, so remove fixed width here.\n    aspectRatio: '1.1', // Adjusted for horizontal scroll, makes it slightly wider than tall (was 16/9)\n    marginBottom: 0, // No bottom margin for horizontal scroll items (was 20)\n    // marginRight is handled dynamically inline for horizontal scroll items\n  },\n  // New Small Screen Styles for Trend Radar Content\n  ultraModernTrendRadarTitleSmallScreen: {\n    fontSize: 22, // Increased size\n  },\n  ultraModernTrendPercentageSmallScreen: {\n    fontSize: 15, // Increased size\n  },\n  ultraModernTrendLabelSmallScreen: {\n    fontSize: 14, // Increased size\n  },\n  // New Small Screen Styles for Social Bundle Content\n  ultraModernBundleNameSmallScreen: {\n    fontSize: 22, // Increased size\n  },\n  ultraModernBundleCuratorAvatarSmallScreen: {\n    width: 30, // Increased size\n    height: 30, // Increased size\n    borderRadius: 15,\n  },\n  ultraModernBundleCuratorNameSmallScreen: {\n    fontSize: 15, // Increased size\n  },\n  // Responsive margins for main section containers\n  ultraModernSectionContainerMarginSmallScreen: {\n    marginBottom: 60, // Reduced margin for small screens\n  },\n  ultraModernDiscoveryContainerPaddingSmallScreen: { // For the main discovery container itself\n    paddingHorizontal: 20, // Reduced horizontal padding for the whole discovery page on small screens\n  },\n  ultraModernMoodNameSmallScreen: {\n    fontSize: 20, // Increased from 16px\n    paddingBottom: 4,\n  },\n  cursiveDescriptionSmallScreen: {\n    fontSize: 15, // Increased from 13px\n    lineHeight: 20, // Adjusted line height\n  },\n  philosophyTextSmallScreen: {\n    fontSize: 12, // Increased from 10px\n    lineHeight: 16, // Adjusted line height\n  },\n  moodEmojiSmallScreen: { // New style for emoji on small screens\n    fontSize: 24, // Increased size\n  },\n  ultraModernMoodContentSmallScreen: { // New style for mood content area on small screens\n    padding: 16, // Reduced padding from 24px\n    height: 'auto', // More flexible height\n  },\n  ultraModernCategoryGridSmallScreen: {\n    gridTemplateColumns: 'repeat(2, 1fr)', // 2 columns for small screens\n    gap: '20px', // Slightly smaller gap for smaller screens\n    ...(Platform.OS !== 'web' && {\n      // On React Native, if using flexbox for this grid on small screens:\n      // No specific changes needed if the base ultraModernCategoryGrid already handles RN row wrapping well.\n      // If category cards have fixed widths, might adjust justifyContent or rely on margins.\n    }),\n  },\n  ultraModernCategoryNameSmallScreen: {\n    fontSize: 18, // Increased from 16px\n    paddingBottom: 2, // Reduced padding\n    paddingHorizontal: 8, // Added horizontal padding adjustment\n  },\n  ultraModernCategoryDescriptionSmallScreen: {\n    fontSize: 15, // Increased from 13px\n    lineHeight: 20, // Adjusted line height\n    paddingHorizontal: 8, // Added horizontal padding adjustment\n    paddingBottom: 12, // Reduced bottom padding\n  },\n  ultraModernBundleCardSmallScreen: { // Around line 5626\n    // width is handled dynamically inline (screenWidth * 0.75)\n    aspectRatio: '4/5', // Good proportion for image + text content\n    marginBottom: 0,    // No bottom margin for items in a horizontal scroll\n    // marginRight is likely handled by the ScrollView's children or could be added dynamically if needed\n  },\n  ultraModernMoodsGridSmallScreen: { // This was recently added correctly\n    flexDirection: 'row', // Ensures items are in a row\n    // For a wrapped row on small screens (if not using ScrollView)\n    // flexWrap: 'wrap', \n    // justifyContent: 'space-around',\n    // Remove grid properties for small screen if relying on flex for ScrollView or wrapped row\n    // gridTemplateColumns: undefined, \n    // gap: 16, \n  },\n  ultraModernMoodsGridSmallScreenScrollViewContent: { // Style for ScrollView contentContainerStyle\n    paddingHorizontal: 20, // Add some padding to the start/end of the scrollable content\n    paddingVertical: 10,   // Vertical padding if needed\n  },\n  ultraModernMoodCardSmallScreen: { // Specific style for mood cards on small screens (when in horizontal scroll)\n      // width is handled dynamically inline\n      aspectRatio: '4/5', // Keeping the original elegant proportion, adjust if text overflows\n      marginBottom: 0, // No bottom margin for horizontal scroll items\n      // marginRight is handled dynamically inline\n  },\n\n  // AI Curation Styles - White with Electric Neon Glow\n  ultraModernAiCurationContainer: {\n    backgroundColor: '#FFFFFF', // Pure white background\n    paddingVertical: 80,\n    paddingHorizontal: 40,\n    borderRadius: 24,\n    marginVertical: 40,\n    marginHorizontal: 20,\n    position: 'relative',\n    overflow: 'hidden',\n    borderWidth: 2,\n    borderColor: 'rgba(0, 255, 255, 0.3)', // Electric cyan border\n    shadowColor: '#00FFFF',\n    shadowOffset: { width: 0, height: 0 },\n    shadowOpacity: 0.2,\n    shadowRadius: 30,\n    // Add electric buzzing neon glow effect\n    boxShadow: '0 0 50px rgba(0, 255, 255, 0.3), inset 0 0 50px rgba(0, 255, 255, 0.05)',\n    animation: 'electricBuzz 2s ease-in-out infinite alternate, neonPulse 3s ease-in-out infinite',\n  },\n\n  // AI Curation form container\n  aiCurateFormContainer: {\n    backgroundColor: '#FFFFFF', // Pure white background\n    minHeight: '100vh',\n    paddingTop: 0,\n    position: 'relative',\n    overflow: 'hidden',\n    borderWidth: 2,\n    borderColor: 'rgba(0, 255, 255, 0.2)',\n    boxShadow: '0 0 30px rgba(0, 255, 255, 0.2)',\n  },\n\n  // AI Curation form elements\n  aiFormScrollView: {\n    flex: 1,\n    backgroundColor: '#FFFFFF',\n    paddingHorizontal: 40,\n    paddingVertical: 40,\n  },\n\n  aiFormSectionTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#1A1A1A', // Dark text for white background\n    marginBottom: 20,\n    marginTop: 30,\n    letterSpacing: -0.3,\n    textShadow: '0 0 10px rgba(0, 255, 255, 0.3)',\n  },\n\n  aiBrandSelectionContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 12,\n    marginBottom: 30,\n  },\n\n  aiBrandChip: {\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 25,\n    backgroundColor: 'rgba(248, 250, 252, 0.8)',\n    borderWidth: 1,\n    borderColor: 'rgba(0, 255, 255, 0.2)',\n    marginRight: 8,\n    marginBottom: 8,\n    transition: 'all 0.3s ease',\n  },\n\n  aiBrandChipSelected: {\n    backgroundColor: 'rgba(0, 255, 255, 0.1)',\n    borderColor: '#00FFFF',\n    boxShadow: '0 0 20px rgba(0, 255, 255, 0.4)',\n    transform: 'scale(1.05)',\n    animation: 'electricFlicker 1.5s ease-in-out infinite',\n  },\n\n  aiBrandChipText: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: '#1A1A1A',\n    letterSpacing: 0.3,\n  },\n\n  aiBrandChipTextSelected: {\n    color: '#00DDDD',\n    fontWeight: '600',\n    textShadow: '0 0 8px rgba(0, 255, 255, 0.6)',\n  },\n\n  aiBrandChipWithPersona: {\n    paddingVertical: 16,\n    minHeight: 80,\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n  },\n\n  aiBrandPersonaText: {\n    fontSize: 12,\n    fontWeight: '400',\n    color: COLORS.textSecondary,\n    marginTop: 4,\n    fontStyle: 'italic',\n    lineHeight: 16,\n  },\n\n  aiBrandPersonaTextSelected: {\n    color: 'rgba(0, 221, 221, 0.8)',\n    fontWeight: '500',\n  },\n\n  aiFormSectionSubtitle: {\n    fontSize: 14,\n    color: COLORS.textSecondary,\n    marginBottom: 20,\n    lineHeight: 20,\n    fontStyle: 'italic',\n  },\n\n  aiPersonaStyleContainer: {\n    marginBottom: 30,\n  },\n\n  aiPersonaStyleOption: {\n    paddingVertical: 16,\n    paddingHorizontal: 24,\n    borderRadius: 16,\n    backgroundColor: 'rgba(248, 250, 252, 0.6)',\n    borderWidth: 1,\n    borderColor: 'rgba(0, 255, 255, 0.2)',\n    marginBottom: 12,\n    transition: 'all 0.3s ease',\n  },\n\n  aiPersonaStyleOptionSelected: {\n    backgroundColor: 'rgba(0, 255, 255, 0.08)',\n    borderColor: '#00FFFF',\n    boxShadow: '0 0 20px rgba(0, 255, 255, 0.3)',\n    animation: 'electricFlicker 1.8s ease-in-out infinite',\n  },\n\n  aiPersonaStyleText: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: '#1A1A1A',\n    marginBottom: 4,\n  },\n\n  aiPersonaStyleTextSelected: {\n    color: '#00DDDD',\n    fontWeight: '600',\n    textShadow: '0 0 8px rgba(0, 255, 255, 0.6)',\n  },\n\n  aiPersonaStyleDescription: {\n    fontSize: 13,\n    color: 'rgba(26, 26, 26, 0.7)',\n    lineHeight: 18,\n  },\n\n  aiPersonaStyleDescriptionSelected: {\n    color: 'rgba(0, 221, 221, 0.9)',\n  },\n\n  aiBudgetContainer: {\n    flexDirection: 'row',\n    gap: 12,\n    marginBottom: 30,\n  },\n\n  aiBudgetOption: {\n    flex: 1,\n    paddingVertical: 16,\n    paddingHorizontal: 20,\n    borderRadius: 16,\n    backgroundColor: 'rgba(248, 250, 252, 0.6)',\n    borderWidth: 1,\n    borderColor: 'rgba(0, 255, 255, 0.2)',\n    alignItems: 'center',\n    transition: 'all 0.3s ease',\n  },\n\n  aiBudgetOptionSelected: {\n    backgroundColor: 'rgba(0, 255, 255, 0.08)',\n    borderColor: '#00FFFF',\n    boxShadow: '0 0 20px rgba(0, 255, 255, 0.3)',\n    animation: 'electricFlicker 2s ease-in-out infinite',\n  },\n\n  aiBudgetText: {\n    fontSize: 15,\n    fontWeight: '600',\n    color: '#1A1A1A',\n    marginBottom: 4,\n  },\n\n  aiBudgetTextSelected: {\n    color: '#00DDDD',\n    textShadow: '0 0 8px rgba(0, 255, 255, 0.6)',\n  },\n\n  aiBudgetRange: {\n    fontSize: 12,\n    color: 'rgba(26, 26, 26, 0.6)',\n  },\n\n  aiBudgetRangeSelected: {\n    color: 'rgba(0, 221, 221, 0.8)',\n  },\n\n  aiLookingForInput: {\n    backgroundColor: 'rgba(248, 250, 252, 0.8)',\n    borderWidth: 1,\n    borderColor: 'rgba(0, 255, 255, 0.2)',\n    borderRadius: 16,\n    paddingVertical: 16,\n    paddingHorizontal: 20,\n    fontSize: 16,\n    color: '#1A1A1A',\n    minHeight: 120,\n    textAlignVertical: 'top',\n    fontFamily: 'System',\n    marginBottom: 40,\n  },\n\n  aiLookingForInputFocused: {\n    borderColor: '#00FFFF',\n    boxShadow: '0 0 20px rgba(0, 255, 255, 0.3)',\n  },\n\n  aiGenerateButton: {\n    backgroundColor: '#00FFFF', // Electric cyan color\n    paddingVertical: 18,\n    paddingHorizontal: 40,\n    borderRadius: 16,\n    alignItems: 'center',\n    marginBottom: 30,\n    shadowColor: '#00FFFF',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.4,\n    shadowRadius: 20,\n    // Electric neon glow effect with buzzing\n    boxShadow: '0 0 30px rgba(0, 255, 255, 0.5), 0 4px 20px rgba(0, 221, 221, 0.4)',\n    borderWidth: 1,\n    borderColor: 'rgba(0, 255, 255, 0.5)',\n    transition: 'all 0.3s ease',\n    animation: 'electricBuzz 1.5s ease-in-out infinite alternate, neonPulse 2.5s ease-in-out infinite',\n  },\n\n  aiGenerateButtonText: {\n    fontSize: 18,\n    fontWeight: '700',\n    color: '#1A1A1A',\n    letterSpacing: 0.5,\n    textTransform: 'uppercase',\n    textShadow: '0 0 10px rgba(255, 255, 255, 0.8)',\n  },\n\n  aiGenerateButtonLoading: {\n    opacity: 0.7,\n  },\n\n  aiResultsContainer: {\n    backgroundColor: '#0A0A0A',\n    paddingHorizontal: 40,\n    paddingVertical: 40,\n  },\n\n  aiResultsHeader: {\n    marginBottom: 30,\n    textAlign: 'center',\n  },\n\n  aiResultsTitle: {\n    fontSize: 28,\n    fontWeight: '700',\n    color: '#FFFFFF',\n    marginBottom: 8,\n    letterSpacing: -0.5,\n    textShadow: '0 0 15px rgba(0, 255, 215, 0.3)',\n  },\n\n  aiResultsSubtitle: {\n    fontSize: 16,\n    color: 'rgba(255, 255, 255, 0.7)',\n    lineHeight: 24,\n  },\n\n  aiProductGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 20,\n    justifyContent: 'space-between',\n  },\n\n  aiProductCard: {\n    width: 'calc(33.333% - 14px)',\n    backgroundColor: 'rgba(255, 255, 255, 0.05)',\n    borderRadius: 20,\n    padding: 20,\n    borderWidth: 1,\n    borderColor: 'rgba(255, 255, 255, 0.1)',\n    transition: 'all 0.3s ease',\n  },\n\n  aiProductCardHover: {\n    borderColor: '#00FFD7',\n    boxShadow: '0 0 20px rgba(0, 255, 215, 0.2)',\n    transform: 'translateY(-5px)',\n  },\n\n  aiProductImage: {\n    width: '100%',\n    height: 200,\n    borderRadius: 12,\n    marginBottom: 16,\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n  },\n\n  aiProductTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#FFFFFF',\n    marginBottom: 8,\n    lineHeight: 24,\n  },\n\n  aiProductBrand: {\n    fontSize: 14,\n    color: '#00FFD7',\n    fontWeight: '500',\n    marginBottom: 12,\n    textTransform: 'uppercase',\n    letterSpacing: 0.5,\n  },\n\n  aiProductWhy: {\n    fontSize: 14,\n    color: 'rgba(255, 255, 255, 0.8)',\n    lineHeight: 20,\n    marginBottom: 16,\n  },\n\n  aiProductPrice: {\n    fontSize: 20,\n    fontWeight: '700',\n    color: '#00FFD7',\n    marginBottom: 16,\n    textShadow: '0 0 5px rgba(0, 255, 215, 0.3)',\n  },\n\n  aiProductButton: {\n    backgroundColor: 'rgba(0, 255, 215, 0.1)',\n    borderWidth: 1,\n    borderColor: '#00FFD7',\n    paddingVertical: 12,\n    paddingHorizontal: 20,\n    borderRadius: 12,\n    alignItems: 'center',\n    transition: 'all 0.3s ease',\n  },\n\n  aiProductButtonText: {\n    color: '#00FFD7',\n    fontSize: 14,\n    fontWeight: '600',\n    letterSpacing: 0.3,\n  },\n  errorContainer: {\n    padding: 20,\n    margin: 20,\n    backgroundColor: '#FFF5F5',\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: '#FED7D7',\n  },\n  errorText: {\n    color: '#E53E3E',\n    fontSize: 16,\n    textAlign: 'center',\n    fontWeight: '500',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 40,\n  },\n  loadingPulse: {\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    backgroundColor: '#0095F6',\n    marginBottom: 20,\n    opacity: 0.8,\n  },\n  loadingText: {\n    fontSize: 18,\n    color: '#666666',\n    textAlign: 'center',\n    fontWeight: '500',\n  },\n\n  // Visual Search Modal Styles - Refined Minimalist Theme\n  visualSearchOverlay: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: hexToRgba(COLORS.darkGray, 0.6),\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 1000,\n    // backdropFilter: 'blur(2px)', // Subtle blur\n  },\n  visualSearchContent: {\n    backgroundColor: COLORS.white,\n    borderRadius: 20,\n    padding: 32,\n    margin: 20,\n    maxWidth: 550,\n    width: '90%',\n    maxHeight: '90%',\n    shadowColor: hexToRgba(COLORS.darkGray, 0.08),\n    shadowOffset: { width: 0, height: 10 },\n    shadowRadius: 30,\n    shadowOpacity: 1,\n    elevation: 10,\n    overflow: 'hidden',\n  },\n  visualSearchTitle: {\n    fontSize: 22,\n    fontWeight: '600',\n    color: COLORS.text,\n    textAlign: 'center',\n    marginBottom: 24,\n    letterSpacing: 0,\n    textTransform: 'none',\n  },\n  visualSearchWorkspace: {\n    minHeight: 400,\n  },\n  visualSearchUploadArea: {\n    borderRadius: 12,\n    padding: 32,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: hexToRgba(COLORS.primaryPeachy, 0.1),\n    borderWidth: 2,\n    borderStyle: 'dashed',\n    borderColor: COLORS.borderLight,\n    minHeight: 300,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  visualSearchInstructions: {\n    fontSize: 16,\n    color: COLORS.text,\n    textAlign: 'center',\n    marginBottom: 20,\n    fontWeight: '500',\n    letterSpacing: 0,\n  },\n  visualSearchButtonsColumn: {\n    flexDirection: 'column',\n    marginBottom: 16,\n    alignItems: 'stretch',\n  },\n  visualSearchButton: {\n    borderRadius: 8,\n    paddingHorizontal: 20,\n    paddingVertical: 14,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 12,\n    minHeight: 48,\n  },\n  visualSearchButtonText: {\n    fontSize: 15,\n    fontWeight: '600',\n    letterSpacing: 0,\n  },\n  visualSearchError: {\n    fontSize: 14,\n    textAlign: 'center',\n    marginTop: 10,\n  },\n  visualSearchAnalyzing: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    minHeight: 300,\n  },\n  visualSearchImage: {\n    width: 200,\n    height: 200,\n    borderRadius: 8,\n  },\n  visualSearchAnalyzingOverlay: {\n    position: 'absolute',\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    borderRadius: 8,\n    padding: 20,\n    alignItems: 'center',\n  },\n  visualSearchAnalyzingText: {\n    fontSize: 16,\n    color: '#2c3e50',\n    marginBottom: 10,\n  },\n  visualSearchLoader: {\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    backgroundColor: '#3498db',\n  },\n  visualSearchDetected: {\n    alignItems: 'center',\n  },\n  visualSearchImageContainer: {\n    position: 'relative',\n    marginBottom: 20,\n  },\n  visualSearchBoundingBox: {\n    position: 'absolute',\n    borderWidth: 2,\n    borderRadius: 4,\n    padding: 5,\n  },\n  visualSearchObjectLabel: {\n    fontSize: 12,\n    fontWeight: 'bold',\n    color: 'white',\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    paddingHorizontal: 5,\n    paddingVertical: 2,\n    borderRadius: 3,\n  },\n  visualSearchSelectionInstructions: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  visualSearchSelectionText: {\n    fontSize: 16,\n    color: '#2c3e50',\n    marginBottom: 5,\n  },\n  visualSearchSelectedCount: {\n    fontSize: 14,\n    color: '#7f8c8d',\n  },\n  visualSearchActionButton: {\n    backgroundColor: '#27ae60',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderRadius: 6,\n  },\n  visualSearchActionButtonDisabled: {\n    backgroundColor: '#bdc3c7',\n  },\n  visualSearchActionButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  visualSearchSearching: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    minHeight: 200,\n  },\n  visualSearchSearchingText: {\n    fontSize: 18,\n    color: '#2c3e50',\n    marginBottom: 20,\n  },\n  visualSearchFooter: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 20,\n    paddingTop: 15,\n    borderTopWidth: 1,\n    borderTopColor: '#ecf0f1',\n  },\n  visualSearchCloseButton: {\n    backgroundColor: '#e74c3c',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 6,\n  },\n  visualSearchCloseButtonText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  visualSearchResetButton: {\n    backgroundColor: '#3498db',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 6,\n  },\n  visualSearchResetButtonText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n\n  // Modern Visual Search Styles - Elegant & Minimalist\n  modernVisualSearchOverlay: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: hexToRgba(COLORS.black, 0.4),\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 1000,\n    backdropFilter: 'blur(8px)',\n  },\n  modernVisualSearchContent: {\n    backgroundColor: COLORS.white,\n    borderRadius: 24,\n    padding: 28,\n    margin: 20,\n    maxWidth: 520,\n    width: '92%',\n    maxHeight: '88%',\n    shadowColor: hexToRgba(COLORS.black, 0.15),\n    shadowOffset: { width: 0, height: 8 },\n    shadowRadius: 32,\n    shadowOpacity: 1,\n    elevation: 16,\n    overflow: 'hidden',\n  },\n  modernVisualSearchHeader: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    justifyContent: 'space-between',\n    marginBottom: 24,\n  },\n  modernVisualSearchTitleArea: {\n    flex: 1,\n  },\n  modernVisualSearchTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    color: COLORS.text,\n    marginBottom: 4,\n    letterSpacing: -0.2,\n  },\n  modernVisualSearchSubtitle: {\n    fontSize: 14,\n    color: COLORS.textSecondary,\n    fontWeight: '400',\n    lineHeight: 20,\n  },\n  modernVisualSearchCloseButton: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    backgroundColor: hexToRgba(COLORS.darkGray, 0.06),\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginLeft: 16,\n  },\n  modernVisualSearchCloseText: {\n    fontSize: 20,\n    color: COLORS.textSecondary,\n    fontWeight: '300',\n    lineHeight: 20,\n  },\n  modernVisualSearchWorkspace: {\n    minHeight: 360,\n  },\n  modernVisualSearchUploadArea: {\n    borderRadius: 16,\n    padding: 40,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: hexToRgba(COLORS.darkGray, 0.02),\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: hexToRgba(COLORS.darkGray, 0.08),\n    minHeight: 320,\n    transition: 'all 0.2s ease',\n  },\n  modernVisualSearchUploadAreaActive: {\n    borderColor: hexToRgba(COLORS.primary, 0.3),\n    backgroundColor: hexToRgba(COLORS.primary, 0.03),\n  },\n  modernVisualSearchUploadIcon: {\n    fontSize: 32,\n    marginBottom: 16,\n  },\n  modernVisualSearchUploadTitle: {\n    fontSize: 18,\n    fontWeight: '500',\n    color: COLORS.text,\n    textAlign: 'center',\n    marginBottom: 8,\n    letterSpacing: -0.2,\n  },\n  modernVisualSearchUploadSubtitle: {\n    fontSize: 14,\n    color: COLORS.textSecondary,\n    textAlign: 'center',\n    marginBottom: 28,\n    fontWeight: '400',\n  },\n  modernVisualSearchButtonGroup: {\n    flexDirection: 'column',\n    width: '100%',\n    maxWidth: 280,\n    marginBottom: 20,\n  },\n  modernVisualSearchPrimaryButton: {\n    backgroundColor: COLORS.primary,\n    borderRadius: 12,\n    paddingVertical: 14,\n    paddingHorizontal: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 12,\n    shadowColor: hexToRgba(COLORS.primary, 0.25),\n    shadowOffset: { width: 0, height: 4 },\n    shadowRadius: 12,\n    shadowOpacity: 1,\n  },\n  modernVisualSearchPrimaryButtonText: {\n    fontSize: 15,\n    fontWeight: '600',\n    color: COLORS.white,\n    letterSpacing: -0.1,\n  },\n  modernVisualSearchSecondaryButton: {\n    backgroundColor: 'transparent',\n    borderRadius: 12,\n    paddingVertical: 14,\n    paddingHorizontal: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: hexToRgba(COLORS.darkGray, 0.12),\n  },\n  modernVisualSearchSecondaryButtonText: {\n    fontSize: 15,\n    fontWeight: '500',\n    color: COLORS.text,\n    letterSpacing: -0.1,\n  },\n  modernVisualSearchHelpText: {\n    fontSize: 12,\n    color: COLORS.textSecondary,\n    textAlign: 'center',\n    fontWeight: '400',\n  },\n  modernVisualSearchError: {\n    fontSize: 13,\n    color: COLORS.error,\n    textAlign: 'center',\n    marginTop: 16,\n    fontWeight: '500',\n  },\n  modernVisualSearchAnalyzing: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    minHeight: 320,\n    paddingVertical: 40,\n  },\n  modernVisualSearchImagePreview: {\n    width: 120,\n    height: 120,\n    borderRadius: 16,\n    backgroundColor: hexToRgba(COLORS.darkGray, 0.04),\n    marginBottom: 32,\n    overflow: 'hidden',\n  },\n  modernVisualSearchPreviewImage: {\n    width: '100%',\n    height: '100%',\n  },\n  modernVisualSearchAnalyzingContent: {\n    alignItems: 'center',\n  },\n  modernVisualSearchLoader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 20,\n  },\n  modernVisualSearchLoaderDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: COLORS.primary,\n    marginHorizontal: 3,\n    // Animation would be handled by CSS\n  },\n  modernVisualSearchAnalyzingText: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: COLORS.text,\n    textAlign: 'center',\n    marginBottom: 8,\n    letterSpacing: -0.2,\n  },\n  modernVisualSearchAnalyzingSubtext: {\n    fontSize: 14,\n    color: COLORS.textSecondary,\n    textAlign: 'center',\n    fontWeight: '400',\n  },\n  modernVisualSearchResults: {\n    paddingTop: 8,\n  },\n  modernVisualSearchResultsHeader: {\n    marginBottom: 20,\n    alignItems: 'center',\n  },\n  modernVisualSearchResultsTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: COLORS.text,\n    textAlign: 'center',\n    marginBottom: 4,\n    letterSpacing: -0.2,\n  },\n  modernVisualSearchResultsSubtitle: {\n    fontSize: 14,\n    color: COLORS.textSecondary,\n    textAlign: 'center',\n    fontWeight: '400',\n  },\n  modernVisualSearchResultsList: {\n    maxHeight: 280,\n    marginBottom: 20,\n  },\n  modernVisualSearchResultItem: {\n    flexDirection: 'row',\n    padding: 16,\n    marginBottom: 12,\n    backgroundColor: COLORS.white,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: hexToRgba(COLORS.darkGray, 0.08),\n    shadowColor: hexToRgba(COLORS.darkGray, 0.04),\n    shadowOffset: { width: 0, height: 2 },\n    shadowRadius: 8,\n    shadowOpacity: 1,\n  },\n  modernVisualSearchResultImage: {\n    width: 56,\n    height: 56,\n    borderRadius: 8,\n    backgroundColor: hexToRgba(COLORS.darkGray, 0.04),\n    marginRight: 12,\n  },\n  modernVisualSearchResultInfo: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  modernVisualSearchResultTitle: {\n    fontSize: 15,\n    fontWeight: '500',\n    color: COLORS.text,\n    marginBottom: 2,\n    letterSpacing: -0.1,\n  },\n  modernVisualSearchResultBrand: {\n    fontSize: 13,\n    color: COLORS.textSecondary,\n    marginBottom: 4,\n    fontWeight: '400',\n  },\n  modernVisualSearchResultPrice: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: COLORS.primary,\n    marginBottom: 2,\n  },\n  modernVisualSearchResultMatch: {\n    fontSize: 12,\n    color: COLORS.textSecondary,\n    fontWeight: '500',\n  },\n  modernVisualSearchMoreResults: {\n    paddingVertical: 12,\n    alignItems: 'center',\n  },\n  modernVisualSearchMoreText: {\n    fontSize: 13,\n    color: COLORS.textSecondary,\n    fontWeight: '500',\n  },\n  modernVisualSearchViewAllButton: {\n    backgroundColor: COLORS.primary,\n    borderRadius: 12,\n    paddingVertical: 16,\n    paddingHorizontal: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: hexToRgba(COLORS.primary, 0.25),\n    shadowOffset: { width: 0, height: 4 },\n    shadowRadius: 12,\n    shadowOpacity: 1,\n  },\n  modernVisualSearchViewAllText: {\n    fontSize: 15,\n    fontWeight: '600',\n    color: COLORS.white,\n    letterSpacing: -0.1,\n  },\n  modernVisualSearchFooter: {\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: hexToRgba(COLORS.darkGray, 0.08),\n    alignItems: 'center',\n  },\n  modernVisualSearchResetButton: {\n    backgroundColor: 'transparent',\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 8,\n  },\n  modernVisualSearchResetText: {\n    fontSize: 14,\n    color: COLORS.textSecondary,\n    fontWeight: '500',\n  },\n  });\n\n// Add electric buzzing CSS animations\nif (typeof document !== 'undefined') {\n  const style = document.createElement('style');\n  style.textContent = `\n    @keyframes electricBuzz {\n      0% { \n        box-shadow: 0 0 50px rgba(0, 255, 255, 0.3), inset 0 0 50px rgba(0, 255, 255, 0.05);\n        border-color: rgba(0, 255, 255, 0.3);\n      }\n      25% { \n        box-shadow: 0 0 60px rgba(0, 255, 255, 0.5), inset 0 0 60px rgba(0, 255, 255, 0.1), 0 0 20px rgba(255, 255, 255, 0.2);\n        border-color: rgba(0, 255, 255, 0.6);\n      }\n      50% { \n        box-shadow: 0 0 40px rgba(0, 255, 255, 0.4), inset 0 0 40px rgba(0, 255, 255, 0.08);\n        border-color: rgba(0, 255, 255, 0.4);\n      }\n      75% { \n        box-shadow: 0 0 70px rgba(0, 255, 255, 0.6), inset 0 0 70px rgba(0, 255, 255, 0.12), 0 0 30px rgba(255, 255, 255, 0.3);\n        border-color: rgba(0, 255, 255, 0.7);\n      }\n      100% { \n        box-shadow: 0 0 55px rgba(0, 255, 255, 0.4), inset 0 0 55px rgba(0, 255, 255, 0.06);\n        border-color: rgba(0, 255, 255, 0.5);\n      }\n    }\n    \n    @keyframes neonPulse {\n      0%, 100% { \n        filter: brightness(1) contrast(1);\n      }\n      50% { \n        filter: brightness(1.1) contrast(1.2);\n      }\n    }\n    \n    @keyframes electricFlicker {\n      0%, 100% { opacity: 1; }\n      50% { opacity: 0.95; }\n      75% { opacity: 1.05; }\n    }\n  `;\n  document.head.appendChild(style);\n}\n\n// Placeholder components to fix missing component errors\nconst FloatingPersonaSelector = ({ personas, selectedPersona, onSelectPersona, visible }) => {\n  if (!visible) return null;\n  \n  return (\n    <View style={styles.floatingPersonaSelector}>\n      <ScrollView horizontal showsHorizontalScrollIndicator={false}>\n        {personas.map((persona) => (\n          <TouchableOpacity\n            key={persona.id}\n            style={[\n              styles.floatingPersonaItem,\n              selectedPersona?.id === persona.id && styles.floatingPersonaItemSelected\n            ]}\n            onPress={() => onSelectPersona(persona)}\n          >\n            <Text style={styles.floatingPersonaEmoji}>{persona.emoji}</Text>\n            <Text style={styles.floatingPersonaName}>{persona.name}</Text>\n          </TouchableOpacity>\n        ))}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst TrendRadar = ({ items, onItemPress, onSeeAll }) => {\n  const { width: screenWidth } = useWindowDimensions();\n  const isSmallScreen = screenWidth < 768;\n\n  // Inline styles for small screens - TODO: Refactor to StyleSheet\n  const cardWidthSmallScreen = isSmallScreen ? screenWidth * 0.75 : undefined;\n  const cardMarginRightSmallScreen = isSmallScreen ? 16 : 0;\n\n  // Adjusted font sizes for card content on small screens\n  const cardTitleSmallScreenStyle = isSmallScreen ? { fontSize: 16, lineHeight: 20 } : {};\n  const cardSubtitleSmallScreenStyle = isSmallScreen ? { fontSize: 12, lineHeight: 16 } : {};\n  const cardPercentageSmallScreenStyle = isSmallScreen ? { fontSize: 14 } : {};\n  const cardLabelSmallScreenStyle = isSmallScreen ? { fontSize: 11 } : {};\n  const cardContentAreaSmallScreenStyle = isSmallScreen ? { paddingTop: 10, paddingBottom: 10, paddingHorizontal: 10 } : {};\n\n  const radarItemsContent = items.map((item, index) => (\n    <TouchableOpacity \n      key={index} \n      style={[\n        styles.ultraModernTrendRadarCard,\n        isSmallScreen && styles.ultraModernTrendRadarCardSmallScreen, // Applies small screen specific base styles like aspectRatio\n        isSmallScreen && { width: cardWidthSmallScreen, marginRight: cardMarginRightSmallScreen } // Dynamic width and margin\n      ]}\n      onPress={() => onItemPress(item)}\n    >\n      <Image source={{ uri: item.image }} style={styles.ultraModernTrendRadarImage} resizeMode=\"cover\" />\n      <View style={styles.ultraModernTrendRadarOverlay} />\n      <View style={[styles.ultraModernTrendRadarContent, cardContentAreaSmallScreenStyle]}>\n        <Text style={[styles.ultraModernTrendRadarTitle, cardTitleSmallScreenStyle]} numberOfLines={2} ellipsizeMode=\"tail\">\n          {item.title}\n        </Text>\n        {item.subtitle && (\n          <Text style={[styles.ultraModernTrendRadarSubtitle, cardSubtitleSmallScreenStyle]} numberOfLines={1} ellipsizeMode=\"tail\">\n            {item.subtitle}\n          </Text>\n        )}\n      </View>\n      {item.trendingStats && (\n          <View style={styles.ultraModernTrendPercentageContainer}>\n            <Text style={[styles.ultraModernTrendPercentage, cardPercentageSmallScreenStyle]}>\n              {item.trendingStats.match(/↗\\s*(\\d+%)/)?.[1] || ''}\n            </Text>\n            <Text style={[styles.ultraModernTrendLabel, cardLabelSmallScreenStyle]}>\n              {item.hotTake ? 'DEEP DIVE' : (item.trendingStats.includes('searches') ? 'Surge' : 'Viral')}\n            </Text>\n          </View>\n      )}\n    </TouchableOpacity>\n  ));\n\n  return (\n    <View style={styles.ultraModernTrendRadarContainer}>\n      <View style={styles.ultraModernSectionHeader}>\n        <View style={styles.sectionHeaderLeft}>\n          <Text style={styles.ultraModernSectionLabel}>TRENDING</Text>\n          <Text style={styles.ultraModernSectionTitle}>What's Hot Now 🔥</Text>\n        </View>\n        {/* <TouchableOpacity onPress={onSeeAll} style={styles.seeAllButton}>\n          <Text style={styles.seeAllButtonText}>View All Trends</Text>\n        </TouchableOpacity> */}\n      </View>\n      {isSmallScreen ? (\n        <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={styles.ultraModernTrendRadarGridSmallScreenScrollViewContent}>\n          {radarItemsContent}\n        </ScrollView>\n      ) : (\n        <View style={styles.ultraModernTrendRadarGrid}>\n          {radarItemsContent}\n        </View>\n      )}\n    </View>\n  );\n};\n\n// Persona Selection Panel Component\nconst PersonaSelectionPanel = ({ visible, onClose, personas, selectedPersona, onSelectPersona }) => {\n  if (!visible) return null;\n  \n  return (\n    <View style={styles.rightSidePanel}>\n      <TouchableOpacity style={styles.panelBackdrop} onPress={onClose} />\n      <View style={styles.rightPanelContent}>\n        <View style={styles.rightPanelHeader}>\n          <Text style={styles.rightPanelTitle}>Choose Your Style</Text>\n          <TouchableOpacity style={styles.closeRightPanel} onPress={onClose}>\n            <Text style={styles.closeRightPanelText}>×</Text>\n          </TouchableOpacity>\n        </View>\n        \n        <Text style={styles.rightPanelSubtitle}>\n          Personalize your discovery experience\n        </Text>\n        \n        <View style={styles.rightPersonaList}>\n          {personas.map((persona) => (\n            <TouchableOpacity\n              key={persona.id}\n              style={[\n                styles.rightPersonaItem,\n                selectedPersona?.id === persona.id && { \n                  backgroundColor: `${persona.color}15`,\n                  borderColor: persona.color \n                }\n              ]}\n              onPress={() => {\n                onSelectPersona(persona);\n                onClose();\n              }}\n            >\n              <View style={styles.rightPersonaContent}>\n                <View style={[styles.rightEmojiCircle, { backgroundColor: `${persona.color}20` }]}>\n                  <Image \n                    source={{ uri: persona.icon }}\n                    style={styles.rightPersonaImage}\n                  />\n                </View>\n                <View style={styles.rightPersonaText}>\n                  <Text style={styles.rightItemName}>{persona.name}</Text>\n                  <Text style={styles.rightItemDescription}>{persona.description}</Text>\n                </View>\n                {selectedPersona?.id === persona.id && (\n                  <View style={[styles.rightSelectedBadge, { backgroundColor: persona.color }]}>\n                    <Text style={styles.rightSelectedBadgeText}>✓</Text>\n                  </View>\n                )}\n              </View>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </View>\n    </View>\n  );\n};\n\n// Life Moment Selection Panel Component\nconst LifeMomentSelectionPanel = ({ visible, onClose, lifeMoments, selectedLifeMoment, onSelectLifeMoment }) => {\n  if (!visible) return null;\n  \n  return (\n    <View style={styles.rightSidePanel}>\n      <TouchableOpacity style={styles.panelBackdrop} onPress={onClose} />\n      <View style={styles.rightPanelContent}>\n        <View style={styles.rightPanelHeader}>\n          <Text style={styles.rightPanelTitle}>Choose Your Moment</Text>\n          <TouchableOpacity style={styles.closeRightPanel} onPress={onClose}>\n            <Text style={styles.closeRightPanelText}>×</Text>\n          </TouchableOpacity>\n        </View>\n        \n        <Text style={styles.rightPanelSubtitle}>\n          Find products perfect for your life stage\n        </Text>\n        \n        <View style={styles.rightPersonaList}>\n          {lifeMoments.map((moment) => (\n            <TouchableOpacity\n              key={moment.id}\n              style={[\n                styles.rightPersonaItem,\n                selectedLifeMoment?.id === moment.id && { \n                  backgroundColor: `${moment.color}15`,\n                  borderColor: moment.color \n                }\n              ]}\n              onPress={() => {\n                onSelectLifeMoment(moment);\n                onClose();\n              }}\n            >\n              <View style={styles.rightPersonaContent}>\n                <View style={[styles.rightEmojiCircle, { backgroundColor: `${moment.color}20` }]}>\n                  <Image \n                    source={{ uri: moment.icon }}\n                    style={styles.rightPersonaImage}\n                  />\n                </View>\n                <View style={styles.rightPersonaText}>\n                  <Text style={styles.rightItemName}>{moment.name}</Text>\n                  <Text style={styles.rightItemDescription}>{moment.description}</Text>\n                </View>\n                {selectedLifeMoment?.id === moment.id && (\n                  <View style={[styles.rightSelectedBadge, { backgroundColor: moment.color }]}>\n                    <Text style={styles.rightSelectedBadgeText}>✓</Text>\n                  </View>\n                )}\n              </View>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </View>\n    </View>\n  );\n};\n\n// Placeholder function for fetching AI curated products\nasync function fetchAiCuratedProducts(selectedBrands, personaStyle, personaBudget, lookingFor) {\n  console.log(\"Fetching AI Curated Products with:\", {\n    selectedBrands,\n    personaStyle,\n    personaBudget,\n    lookingFor\n  });\n\n  let prompt = `You are \"Curator,\" an expert AI shopping assistant specializing in ultra-modern, minimalist, and high-quality tech, lifestyle, and design products. Your goal is to curate a personalized shopping bundle for a user.\n\nUser Preferences:\n- Liked Brands: ${selectedBrands.length > 0 ? selectedBrands.join(', ') : 'None specified'}\n- Desired Style: ${personaStyle || 'Not specified'}\n- Budget Indication: ${personaBudget || 'Not specified'}\n- Specifically LookingFor: ${lookingFor || 'A general collection based on style and brands'}\n\nBased on these preferences, please generate a list of 3-5 unique product recommendations. For each product, provide:\n1.  title: A concise and appealing product title (e.g., \"Minimalist Smart Desk Lamp\").\n2.  brand: The brand of the product (e.g., \"Luminoir\"). If it's a conceptual product, invent a plausible brand name.\n3.  whyBuyThis: A short, compelling sales pitch (1-2 sentences, max 150 characters) highlighting its key benefit or unique selling proposition, using modern language and potentially an emoji if appropriate (e.g., \"💡 Smart illumination meets sleek design. Control brightness and color temperature via app for the perfect ambiance.\").\n4.  category: A relevant category (e.g., 'home', 'tech', 'audio', 'accessories', 'lifestyle', 'design').\n5.  price: An estimated price as a string (e.g., \"$129.99\").\n6.  image: A URL to a high-quality, relevant placeholder image (600x600px). You can use Unsplash URLs like 'https://images.unsplash.com/photo-XXXXXXXXXXXXX?w=600&h=600&fit=crop&crop=center'. Try to pick images that match the product concept.\n7.  affiliateUrl: A placeholder URL like 'https://example.com/product-link'.\n\nReturn the response as a JSON array of objects. Example product object:\n{\n  \"title\": \"Aura Smart Diffuser\",\n  \"brand\": \"SereneScents\",\n  \"whyBuyThis\": \"✨ Create a calming oasis. Ultrasonic tech meets app-controlled aromatherapy for ultimate relaxation.\",\n  \"category\": \"home\",\n  \"price\": \"$89.00\",\n  \"image\": \"https://images.unsplash.com/photo-1604275980648-363d53333884?w=600&h=600&fit=crop&crop=center\",\n  \"affiliateUrl\": \"https://example.com/aura-diffuser\"\n}\n\nDo not include any introductory text or explanations outside of the JSON array itself. The output must be only the JSON array.\n`;\n\n  // Read API Key from environment variable\n  const CLAUDE_API_KEY = process.env.EXPO_PUBLIC_CLAUDE_API_KEY;\n  const API_URL = 'https://api.anthropic.com/v1/messages'; // Standard Claude Messages API endpoint\n\n  if (!CLAUDE_API_KEY) {\n    console.error(\"ERROR: EXPO_PUBLIC_CLAUDE_API_KEY is not set. Please ensure it is defined in your .env file for local development, or in Netlify environment variables for production.\");\n    console.error(\"To fix for local development: Create a .env file in your project root with EXPO_PUBLIC_CLAUDE_API_KEY=your_actual_key_here and restart your development server.\");\n    console.error(\"To fix for Netlify: Go to Site settings > Build & deploy > Environment, and add EXPO_PUBLIC_CLAUDE_API_KEY with your key, then redeploy.\");\n    throw new Error(\"AI API key is missing. Please see console for setup instructions.\");\n  }\n\n  console.log(\"---- ATTEMPTING ACTUAL LLM API CALL ----\");\n  console.log(\"Prompt being sent (first 500 chars):\", prompt.substring(0,500));\n\n  try {\n    const response = await fetch(API_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': CLAUDE_API_KEY,\n        'anthropic-version': '2023-06-01' \n      },\n      body: JSON.stringify({\n        model: \"claude-3-sonnet-20240229\", \n        max_tokens: 2048, \n        messages: [\n          { role: \"user\", content: prompt } \n        ],\n        temperature: 0.7,\n      }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('LLM API Error Response:', errorData);\n      let detailedErrorMessage = 'Failed to get a valid response from AI.';\n      if (errorData && errorData.error && errorData.error.message) {\n        detailedErrorMessage = `AI Error: ${errorData.error.message}`;\n      } else if (errorData && errorData.detail) {\n        detailedErrorMessage = `AI Error: ${errorData.detail}`;\n      }\n      throw new Error(detailedErrorMessage);\n    }\n\n    const data = await response.json();\n    console.log(\"LLM API Success. Full response data:\", data);\n    \n    if (data.content && data.content.length > 0 && data.content[0].text) {\n      const productJsonString = data.content[0].text;\n      console.log(\"LLM Response content (productJsonString):\", productJsonString);\n      try {\n        let cleanedJsonString = productJsonString.trim();\n        if (cleanedJsonString.startsWith('```json')) {\n          cleanedJsonString = cleanedJsonString.substring(7);\n          if (cleanedJsonString.endsWith('```')) {\n            cleanedJsonString = cleanedJsonString.substring(0, cleanedJsonString.length - 3);\n          }\n        } else if (cleanedJsonString.startsWith('```')) {\n            cleanedJsonString = cleanedJsonString.substring(3);\n            if (cleanedJsonString.endsWith('```')) {\n                cleanedJsonString = cleanedJsonString.substring(0, cleanedJsonString.length - 3);\n            }\n        }\n        \n        const generatedProducts = JSON.parse(cleanedJsonString.trim());\n        console.log(\"Parsed generated products:\", generatedProducts);\n        return generatedProducts;\n      } catch (parseError) {\n        console.error(\"Error parsing JSON response from LLM:\", parseError);\n        console.error(\"Raw LLM response string that failed to parse:\", productJsonString);\n        throw new Error(\"AI returned an invalid JSON format. Check the console for the raw response. You may need to adjust the prompt or the AI model settings to ensure it *only* returns a valid JSON array.\");\n      }\n    } else {\n      console.error(\"Unexpected response structure from LLM. 'data.content[0].text' is missing or invalid:\", data);\n      throw new Error(\"AI returned an unexpected response structure. Check console for details.\");\n    }\n\n  } catch (error) {\n    console.error('Error fetching AI curated products:', error);\n    if (error instanceof Error) {\n        throw error; \n    } else {\n        throw new Error('An unknown error occurred while communicating with the AI.');\n    }\n  }\n}\n\n// Initialize products on component mount\n// ... existing code ...","import { registerRootComponent } from 'expo';\nimport App from './App.web';\n \n// Register the web-specific app component\nregisterRootComponent(App); ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"257\":\"c70cbe29\",\"355\":\"46353e3d\",\"508\":\"f47c8ece\",\"732\":\"783bc47a\",\"799\":\"f56cf549\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [909], () => (__webpack_require__(2869)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["COLORS","hexToRgba","hex","alpha","console","warn","parseInt","slice","mockProducts","id","title","brand","priceRange","category","tags","images","rating","description","whyBuyThis","affiliateUrl","personas","name","icon","color","lifeMoments","trendingByLifeMoment","price","link","whyBuy","insights","label","value","moodBoards","emoji","cursiveDescription","philosophyText","coverImage","gradient","socialBundles","creator","avatar","verified","location","story","bio","instagramHandle","instagramUrl","curationProcess","personalNote","videoTestimonial","likes","saves","products","openExternalLink","url","window","open","trendRadarData","image","trendChange","isViral","brandUrl","productCategories","VisualSearchPanel","visible","onClose","onSearch","selectedImage","setSelectedImage","useState","visualSearchResults","setVisualSearchResults","analyzeStage","setAnalyzeStage","error","setError","isDragActive","setIsDragActive","fileInputRef","useRef","useEffect","resetState","handleFileSelect","event","file","target","files","type","startsWith","size","imageUrl","URL","createObjectURL","analyzeImage","async","log","AIProductService","aiService","initialize","imageAnalysis","enhancedImageAnalysis","searchResults","performEnhancedSearch","length","stack","message","analysisContext","toLowerCase","productPatterns","pattern","queries","confidence","bestMatch","highestConfidence","test","primaryQuery","secondaryQueries","allResults","primaryResults","searchProducts","secondaryQuery","uniqueResults","filter","r","find","existing","map","product","index","similarityScore","Math","min","max","Object","assign","similarity","matchReason","sort","a","b","_jsxs","View","style","styles","rightSidePanel","children","_jsx","TouchableOpacity","panelBackdrop","onPress","rightPanelContent","rightPanelHeader","Text","rightPanelTitle","closeRightPanel","closeRightPanelText","rightPanelSubtitle","marginTop","borderWidth","borderColor","borderStyle","borderRadius","padding","alignItems","backgroundColor","marginBottom","onDrop","e","preventDefault","dataTransfer","onDragOver","onDragLeave","fontSize","fontWeight","textAlign","width","paddingVertical","paddingHorizontal","selectImage","current","click","tryDemo","demoImage","accept","display","onChange","ref","Image","source","uri","height","resizeMode","ScrollView","maxHeight","showsVerticalScrollIndicator","flexDirection","searchTerms","split","join","handleResultClick","marginRight","flex","round","query","StyleSheet","create","container","content","discoveryContainer","trendRadarContainer","shadowColor","trendRadarGrid","flexWrap","justifyContent","gap","trendRadarCard","overflow","shadowOffset","shadowOpacity","shadowRadius","elevation","trendRadarImageContainer","position","trendRadarImage","objectFit","viralBadge","top","left","viralBadgeText","letterSpacing","textTransform","trendOverlay","bottom","right","borderTopLeftRadius","trendChangeText","trendRadarContent","trendRadarCategory","trendRadarTitle","lineHeight","ultraModernSocialBundlesContainer","ultraModernBundlesScroll","ultraModernBundleCard","aspectRatio","transition","cursor","ultraModernBundleImageContainer","ultraModernBundleCover","ultraModernBundleOverlay","opacity","ultraModernBundleContent","socialBundlesManifesto","fontStyle","ultraModernBundleTitle","ultraModernBundleCreatorRow","ultraModernCreatorAvatar","creatorInfo","creatorNameRow","ultraModernCreatorName","creatorLocation","creatorStory","ultraModernVerifiedBadge","bundlePersonalNote","paddingLeft","borderLeftWidth","borderLeftColor","bundleEngagement","engagementStats","engagementText","videoTestimonialBadge","alignSelf","videoTestimonialText","ultraModernBundleProductCount","shopByVibeContainer","sectionSubtitle","moodsGrid","moodCard","moodCover","moodOverlay","background","moodName","moodDescription","categoryEntryContainer","categoryScroll","categoryItem","categoryIcon","categoryEmoji","categoryName","heroSection","heroContent","heroTitle","heroSubtitle","maxWidth","heroStats","heroStat","heroStatNumber","heroStatLabel","backToDiscoveryButton","backToDiscoveryText","zIndex","rightPersonaList","rightPersonaItem","rightPersonaContent","rightEmojiCircle","rightItemEmoji","rightPersonaImage","rightPersonaText","rightItemName","rightItemDescription","rightSelectedBadge","rightSelectedBadgeText","sectionHeaderRow","paddingBottom","borderBottomWidth","borderBottomColor","sectionTitleContainer","sectionIcon","sectionTitle","sectionAction","textDecorationLine","refinedHeader","brandSection","brandTitle","brandTagline","headerControls","refinedSearchInput","searchIconButton","marginLeft","searchIcon","selectorRow","subtleSelector","selectorEmoji","selectorText","selectorIcon","defaultSelectorIcon","defaultIconText","sectionLabel","categoryImage","premiumSearchContainer","searchGlow","boxShadow","premiumSearchInput","outline","premiumSearchButton","transform","premiumSearchIcon","productImage","productTitle","productDescription","brandText","modernProductGrid","gridHeader","gridHeaderContent","personaGridHeaderContainer","personaGridHeaderLabel","personaGridHeaderTitle","gridTitle","gridSubtitle","elegantBackButton","elegantBackText","productGrid","modernProductCard","minHeight","modernProductCardSmallScreen","studentProductCard","studentProductCardSmallScreen","productImageContainer","favoriteButton","favoriteIcon","productInfo","brandName","trendingStatsText","hotTakeContainer","hotTakeLabel","hotTakeText","productName","priceRow","currentPrice","shopButton","shopButtonText","studentContent","studentReviewLabel","studentReview","whyStudentsLoveLabel","whyStudentsLove","studentShopButton","studentShopButtonText","noProductsMessage","noProductsText","noProductsSubtext","studentImageContainer","studentInfo","studentBrandName","studentProductName","studentPriceRow","studentCurrentPrice","studentRating","studentExclusiveContent","paddingTop","borderTopWidth","borderTopColor","studentReviewText","studentWhyLoveText","studentDealButton","studentDealButtonText","studentGridTitle","fontFamily","studentGridSubtitle","neonBackButton","neonBackButtonText","emptyStateNeonBackButton","personaExclusiveContentContainer","personaInsightLabel","personaInsightText","productCardButtonContainer","newBadge","newBadgeText","minimalistButtonShared","minimalistButtonPrimary","minimalistButtonSecondary","buttonTextShared","buttonTextPrimary","buttonTextSecondary","cardActions","actionButtons","actionButton","actionButtonText","buyNowButton","flexGrow","buyNowButtonText","cardContentBack","backButton","backButtonText","backProductTitle","backProductPrice","highlightsContainer","highlightsTitle","highlightsText","insightsContainer","insightsTitle","insightBar","insightBarHeader","insightBarLabel","insightBarValue","insightBarTrack","insightBarFill","backFooter","whyBuyThisContainer","whyBuyThisText","backgroundImage","ultraModernSectionHeader","sectionHeaderLeft","ultraModernSectionLabel","ultraModernSectionTitle","ultraModernSectionSubtitle","modernSeeAllButton","modernSeeAllText","modernSeeAllArrow","translateX","ultraModernMoodsGrid","gridTemplateColumns","ultraModernMoodCard","ultraModernMoodImageContainer","ultraModernMoodCover","ultraModernMoodOverlay","ultraModernMoodContent","moodNameRow","moodEmoji","ultraModernMoodName","ultraModernMainHeader","mainHeaderContent","ultraModernHeaderControls","ultraModernProductHeaderControls","ultraModernSearchContainer","searchInputWrapper","ultraModernSearchInput","ultraModernSearchButton","ultraModernSelectorRow","ultraModernSelector","minWidth","ultraModernSelectorActive","selectorContent","ultraModernSelectorIcon","ultraModernDefaultIcon","selectorTextContainer","ultraModernSelectorLabel","ultraModernSelectorValue","ultraModernBrandLabel","ultraModernBrandTitle","ultraModernBrandTagline","ultraModernCategoryContainer","ultraModernCategoryGrid","ultraModernCategoryItem","ultraModernCategoryIcon","ultraModernCategoryImage","ultraModernCategoryName","ultraModernCategoryDescription","paddingRight","ultraModernTrendRadarContainer","ultraModernTrendRadarGrid","ultraModernTrendRadarGridSmallScreen","ultraModernTrendRadarGridSmallScreenScrollViewContent","ultraModernTrendRadarCard","ultraModernTrendRadarImageContainer","ultraModernTrendRadarImage","ultraModernViralBadge","ultraModernViralBadgeText","ultraModernTrendOverlay","ultraModernTrendChangeText","ultraModernTrendRadarContent","ultraModernTrendRadarCategory","ultraModernTrendRadarTitle","ultraModernTrendRadarSubtitle","ultraModernTrendPercentageContainer","ultraModernTrendPercentage","ultraModernTrendLabel","ultraModernBundleName","ultraModernBundleCuratorContainer","ultraModernBundleCuratorAvatar","ultraModernBundleCuratorName","ultraModernTrendRadarCardSmallScreen","ultraModernTrendRadarTitleSmallScreen","ultraModernTrendPercentageSmallScreen","ultraModernTrendLabelSmallScreen","ultraModernBundleNameSmallScreen","ultraModernBundleCuratorAvatarSmallScreen","ultraModernBundleCuratorNameSmallScreen","ultraModernSectionContainerMarginSmallScreen","ultraModernDiscoveryContainerPaddingSmallScreen","ultraModernMoodNameSmallScreen","cursiveDescriptionSmallScreen","philosophyTextSmallScreen","moodEmojiSmallScreen","ultraModernMoodContentSmallScreen","ultraModernCategoryGridSmallScreen","ultraModernCategoryNameSmallScreen","ultraModernCategoryDescriptionSmallScreen","ultraModernBundleCardSmallScreen","ultraModernMoodsGridSmallScreen","ultraModernMoodsGridSmallScreenScrollViewContent","ultraModernMoodCardSmallScreen","ultraModernAiCurationContainer","marginVertical","marginHorizontal","animation","aiCurateFormContainer","aiFormScrollView","aiFormSectionTitle","textShadow","aiBrandSelectionContainer","aiBrandChip","aiBrandChipSelected","aiBrandChipText","aiBrandChipTextSelected","aiBrandChipWithPersona","aiBrandPersonaText","aiBrandPersonaTextSelected","aiFormSectionSubtitle","aiPersonaStyleContainer","aiPersonaStyleOption","aiPersonaStyleOptionSelected","aiPersonaStyleText","aiPersonaStyleTextSelected","aiPersonaStyleDescription","aiPersonaStyleDescriptionSelected","aiBudgetContainer","aiBudgetOption","aiBudgetOptionSelected","aiBudgetText","aiBudgetTextSelected","aiBudgetRange","aiBudgetRangeSelected","aiLookingForInput","textAlignVertical","aiLookingForInputFocused","aiGenerateButton","aiGenerateButtonText","aiGenerateButtonLoading","aiResultsContainer","aiResultsHeader","aiResultsTitle","aiResultsSubtitle","aiProductGrid","aiProductCard","aiProductCardHover","aiProductImage","aiProductTitle","aiProductBrand","aiProductWhy","aiProductPrice","aiProductButton","aiProductButtonText","errorContainer","margin","errorText","loadingContainer","loadingPulse","loadingText","visualSearchOverlay","visualSearchContent","visualSearchTitle","visualSearchWorkspace","visualSearchUploadArea","visualSearchInstructions","visualSearchButtonsColumn","visualSearchButton","visualSearchButtonText","visualSearchError","visualSearchAnalyzing","visualSearchImage","visualSearchAnalyzingOverlay","visualSearchAnalyzingText","visualSearchLoader","visualSearchDetected","visualSearchImageContainer","visualSearchBoundingBox","visualSearchObjectLabel","visualSearchSelectionInstructions","visualSearchSelectionText","visualSearchSelectedCount","visualSearchActionButton","visualSearchActionButtonDisabled","visualSearchActionButtonText","visualSearchSearching","visualSearchSearchingText","visualSearchFooter","visualSearchCloseButton","visualSearchCloseButtonText","visualSearchResetButton","visualSearchResetButtonText","modernVisualSearchOverlay","backdropFilter","modernVisualSearchContent","modernVisualSearchHeader","modernVisualSearchTitleArea","modernVisualSearchTitle","modernVisualSearchSubtitle","modernVisualSearchCloseButton","modernVisualSearchCloseText","modernVisualSearchWorkspace","modernVisualSearchUploadArea","modernVisualSearchUploadAreaActive","modernVisualSearchUploadIcon","modernVisualSearchUploadTitle","modernVisualSearchUploadSubtitle","modernVisualSearchButtonGroup","modernVisualSearchPrimaryButton","modernVisualSearchPrimaryButtonText","modernVisualSearchSecondaryButton","modernVisualSearchSecondaryButtonText","modernVisualSearchHelpText","modernVisualSearchError","modernVisualSearchAnalyzing","modernVisualSearchImagePreview","modernVisualSearchPreviewImage","modernVisualSearchAnalyzingContent","modernVisualSearchLoader","modernVisualSearchLoaderDot","modernVisualSearchAnalyzingText","modernVisualSearchAnalyzingSubtext","modernVisualSearchResults","modernVisualSearchResultsHeader","modernVisualSearchResultsTitle","modernVisualSearchResultsSubtitle","modernVisualSearchResultsList","modernVisualSearchResultItem","modernVisualSearchResultImage","modernVisualSearchResultInfo","modernVisualSearchResultTitle","modernVisualSearchResultBrand","modernVisualSearchResultPrice","modernVisualSearchResultMatch","modernVisualSearchMoreResults","modernVisualSearchMoreText","modernVisualSearchViewAllButton","modernVisualSearchViewAllText","modernVisualSearchFooter","modernVisualSearchResetButton","modernVisualSearchResetText","document","createElement","textContent","head","appendChild","TrendRadar","items","onItemPress","onSeeAll","screenWidth","useWindowDimensions","isSmallScreen","cardWidthSmallScreen","undefined","cardMarginRightSmallScreen","cardTitleSmallScreenStyle","cardSubtitleSmallScreenStyle","cardPercentageSmallScreenStyle","cardLabelSmallScreenStyle","cardContentAreaSmallScreenStyle","radarItemsContent","item","ultraModernTrendRadarOverlay","numberOfLines","ellipsizeMode","subtitle","trendingStats","match","hotTake","includes","horizontal","showsHorizontalScrollIndicator","contentContainerStyle","PersonaSelectionPanel","selectedPersona","onSelectPersona","persona","LifeMomentSelectionPanel","selectedLifeMoment","onSelectLifeMoment","moment","registerRootComponent","setSelectedPersona","setSelectedLifeMoment","searchQuery","setSearchQuery","setProducts","showPersonaPanel","setShowPersonaPanel","showLifeMomentPanel","setShowLifeMomentPanel","showVisualSearch","setShowVisualSearch","isLoadingAnimation","setIsLoadingAnimation","isDiscoveryMode","setIsDiscoveryMode","errorMessage","setErrorMessage","showTrendingSocial","setShowTrendingSocial","showAiCurateView","setShowAiCurateView","aiSelectedBrands","setAiSelectedBrands","aiPersonaStyle","setAiPersonaStyle","aiPersonaBudget","setAiPersonaBudget","aiLookingFor","setAiLookingFor","aiGeneratedProducts","setAiGeneratedProducts","isAiLoading","setIsAiLoading","aiErrorMessage","setAiErrorMessage","brandPersonas","setBrandPersonas","fallbackBrandPersonas","keywords","values","demographics","activeBrandPersonas","keys","availableBrands","scrollY","Animated","Value","interpolate","inputRange","outputRange","extrapolate","sortProducts","supabaseService","initialized","getBrandPersonas","loadBrandPersonas","handlePopState","state","page","foundPersona","p","handlePersonaSelect","lifeMoment","foundMoment","m","handleLifeMomentSelect","handleSearch","addEventListener","search","history","replaceState","pathname","removeEventListener","searchTerm","pushHistory","trim","pushState","encodeURIComponent","activeService","transformedResults","parseFloat","replace","cleanup","some","tag","finalProducts","getRelevanceScore","score","valueInsight","i","batteryInsight","performanceInsight","allRoundScore","insightCount","forEach","insight","primaryCategory","momentTagWeights","tagWeights","Array","isArray","scoreA","scoreB","setTimeout","filteredProducts","personaId","broaderFilter","originalPickCount","specificPicksHadItems","studentBroadTags","hasBroadTag","isRelevantCategory","personaTags","trendsetter","optimizer","conscious","momentId","onScroll","nativeEvent","contentOffset","y","useNativeDriver","scrollEventThrottle","ultraModernBackButton","ultraModernBackButtonText","trendItem","trendingStatsContainer","trendingStatsLabel","alert","ultraModernMainHeaderSmallScreen","ultraModernBrandTitleSmallScreen","ultraModernBrandTaglineSmallScreen","ultraModernHeaderControlsSmallScreen","ultraModernSearchContainerSmallScreen","searchInputWrapperSmallScreen","TextInput","ultraModernSearchInputSmallScreen","placeholder","placeholderTextColor","onChangeText","onSubmitEditing","ultraModernSelectorRowSmallScreen","ultraModernSelectorSmallScreen","ultraModernSelectorValueSmallScreen","bundle","bundleNameSmallScreenStyle","socialBundle","toLocaleString","moodCardWidthSmallScreen","moodCardMarginRightSmallScreen","moodItemsContent","mood","moodProducts","overlayColor","philosophy","ultraModernCategoryItemSmallScreen","categoryProducts","emptyContainer","emptyPrimary","emptySecondary","modernProductGridSmallScreen","_Fragment","studentWhyLoveLabel","optimizerInsight","trendsetterTip","consciousChoiceDetail","searchLabels","searchType","Error","errorMsg","handleVisualSearch","ultraModernPrimaryButton","ultraModernPrimaryButtonText","brandPersona","isSelected","range","symbol","budget","multiline","generated","selectedBrands","personaStyle","personaBudget","lookingFor","candidateProducts","brandFilteredProducts","extractBrandFromProduct","generateWhyBuy","getDefaultImage","features","reviews","prosAndCons","selectedBrandPersonas","brandPersonaContext","bp","prompt","API_URL","substring","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","data","MOCK_PRODUCTS","fallbackProducts","brandFilteredMock","knownBrands","imageMap","titleLower","keyword","entries","fetchAiCuratedProducts","ultraModernBackButtonSmallScreen","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","key","splice","n","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","then","ns","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","push","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","Symbol","toStringTag","installedChunks","installedChunkData","promise","resolve","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}