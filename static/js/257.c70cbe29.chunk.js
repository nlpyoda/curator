"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[257,799],{257:(e,a,t)=>{t.r(a),t.d(a,{AIProductService:()=>s});var i=t(3799);class s{constructor(){this.useMockData=!0,this.initialized=!1,this.MOCK_PRODUCTS=i.MOCK_PRODUCTS,this.databaseService=null,this.supabaseService=null,this.databaseAvailable=!1,this.supabaseAvailable=!1,this.activeService="mock"}async initialize(){try{console.log("Initializing AI Product Service...");try{const{SupabaseService:e}=await Promise.all([t.e(355),t.e(508)]).then(t.bind(t,6508));this.supabaseService=new e;if(await this.supabaseService.initialize()){const e=await this.supabaseService.getProductCount();if(e>0)return this.supabaseAvailable=!0,this.useMockData=!1,this.activeService="supabase",console.log(`\u2705 AI Product Service initialized with Supabase (${e} products)`),void(this.initialized=!0)}}catch(e){console.log("Supabase not available:",e.message)}console.log("\u23e9 Skipping Prisma database (using Supabase + Mock only)"),this.useMockData=!0,this.activeService="mock",console.log("\u2705 AI Product Service initialized with mock data"),this.initialized=!0}catch(a){console.error("Failed to initialize AI service:",a),this.useMockData=!0,this.activeService="mock",this.initialized=!0}}async searchProductsFromDatabase(e,a){try{const t=e.toLowerCase().trim(),i=await this.databaseService.prisma.product.findMany({where:{OR:[{title:{contains:t,mode:"insensitive"}},{description:{contains:t,mode:"insensitive"}},{features:{contains:t,mode:"insensitive"}},{tags:{hasSome:t.split(" ")}},{category:{contains:t,mode:"insensitive"}},{subCategory:{contains:t,mode:"insensitive"}}]},take:20}),s=i.map((e=>({id:e.id,title:e.title,price:e.price,link:e.link,description:e.description,features:e.features,whyBuy:e.whyBuy,reviews:{amazon:e.amazonReviewSummary||"",instagram:e.instagramReviewSummary||"",marketplace:e.fbMarketplaceSummary||""},prosAndCons:e.prosAndCons||{pros:[],cons:[]},lastUpdated:e.lastUpdated.toISOString().split("T")[0],source:e.source}))).map((e=>{const t=a.toLowerCase();let i=.5;return t.includes("tech")&&(e.title.toLowerCase().includes("macbook")||e.title.toLowerCase().includes("headphones")||e.title.toLowerCase().includes("smart"))&&(i+=.3),t.includes("professional")&&(e.description.toLowerCase().includes("professional")||e.description.toLowerCase().includes("work"))&&(i+=.2),t.includes("quality")&&e.prosAndCons.pros.some((e=>e.toLowerCase().includes("quality")))&&(i+=.2),Object.assign({},e,{similarity:Math.min(i,.97)})}));return s.sort(((e,a)=>a.similarity-e.similarity)),console.log(`Database search returned ${s.length} products`),s.slice(0,10)}catch(t){throw console.error("Database search error:",t),t}}async searchProducts(e,a){if(console.log(`Searching for: ${e} with persona: ${a} (using ${this.activeService})`),this.supabaseAvailable&&this.supabaseService)try{return await this.supabaseService.searchProducts(e,a)}catch(t){console.log("Supabase search failed, falling back:",t.message)}if(this.databaseAvailable&&this.databaseService)try{return await this.searchProductsFromDatabase(e,a)}catch(i){console.log("Prisma search failed, falling back to mock data:",i.message)}return new Promise((t=>{setTimeout((()=>{try{const i=e.toLowerCase().trim(),s=[...this.MOCK_PRODUCTS];(i.includes("laptop")||i.includes("computer")||i.includes("macbook"))&&s.push({id:"101",title:'MacBook Pro 14"',price:"$1,999.99",link:"https://example.com/macbook-pro",description:"Powerful laptop with M2 chip, perfect for professionals and creatives.",features:"- M2 Pro/Max chip\n- 14-inch Liquid Retina XDR display\n- Up to 32GB unified memory\n- Up to 18 hours of battery life",whyBuy:"Exceptional performance for creative professionals with industry-leading battery life.",reviews:{amazon:"Users love the performance and battery life. The display is consistently rated as best-in-class.",instagram:"Tech influencers praise the speed and efficiency for video editing workflows.",marketplace:"Highly rated for reliability and resale value."},prosAndCons:{pros:["Exceptional performance","Beautiful display","Great battery life"],cons:["Premium price","Limited port selection"]},lastUpdated:"2023-12-01",source:"Apple"},{id:"102",title:"MacBook Air M2",price:"$1,199.99",link:"https://example.com/macbook-air",description:"Ultra-thin laptop with great performance and all-day battery life.",features:"- M2 chip\n- 13.6-inch Liquid Retina display\n- Up to 24GB unified memory\n- Up to 18 hours of battery life",whyBuy:"Perfect balance of performance and portability with no fan noise.",reviews:{amazon:"Customers love the lightweight design and silent operation.",instagram:"Travel influencers praise its portability and battery life.",marketplace:"High ratings for everyday performance and build quality."},prosAndCons:{pros:["Silent operation","Lightweight design","All-day battery"],cons:["Only 2 Thunderbolt ports","Base model has slower SSD"]},lastUpdated:"2023-11-15",source:"Apple"},{id:"103",title:'MacBook Pro 16"',price:"$2,499.99",link:"https://example.com/macbook-pro-16",description:"Largest MacBook with desktop-class performance for serious professionals.",features:"- M2 Pro/Max chip\n- 16-inch Liquid Retina XDR display\n- Up to 96GB unified memory\n- Up to 22 hours of battery life",whyBuy:"Desktop-class performance in a portable package with the largest MacBook screen available.",reviews:{amazon:"Professional users rave about the performance for 3D rendering and complex tasks.",instagram:"Film editors call it the best portable workstation available.",marketplace:"Consistently rated 5 stars for professional applications."},prosAndCons:{pros:["Exceptional performance","Large beautiful display","Long battery life"],cons:["Expensive","Heavier than other MacBooks"]},lastUpdated:"2023-12-05",source:"Apple"}),(i.includes("chair")||i.includes("office"))&&s.push({id:"104",title:"Executive Mesh Office Chair",price:"$189.99",link:"https://example.com/executive-chair",description:"Premium office chair with adjustable features and breathable mesh.",features:"- High back design\n- Adjustable armrests\n- Lumbar support\n- 360\xb0 swivel",whyBuy:"Provides excellent support for long work days with breathable comfort.",reviews:{amazon:"Office workers report significant comfort improvement over standard chairs.",instagram:"Home office influencers recommend for all-day sitting.",marketplace:"Consistently rated 4.5+ stars for comfort and durability."},prosAndCons:{pros:["Very comfortable","Good lumbar support","Breathable material"],cons:["Assembly required","Armrests could be sturdier"]},lastUpdated:"2023-10-10",source:"Office Depot"},{id:"105",title:"Gaming Chair with Footrest",price:"$229.99",link:"https://example.com/gaming-chair",description:"Racing-style gaming chair with retractable footrest and adjustable features.",features:"- Adjustable recline up to 155\xb0\n- Retractable footrest\n- Neck and lumbar pillows\n- Premium PU leather",whyBuy:"Designed for gamers and professionals who want maximum comfort during long sessions.",reviews:{amazon:"Gamers love the comfort for marathon gaming sessions.",instagram:"Streamers praise the adjustable features and aesthetic look on camera.",marketplace:"High ratings for comfort and style."},prosAndCons:{pros:["Very comfortable","Fully adjustable","Includes footrest"],cons:["Bulky design","PU leather can get warm"]},lastUpdated:"2023-09-20",source:"Amazon"}),console.log(`Query: "${i}", matching against ${s.length} products`);let r=s.filter((e=>{const a=e.title.toLowerCase(),t=e.description.toLowerCase(),s=e.features.toLowerCase();return a.includes(i)||t.includes(i)||s.includes(i)||i.split(" ").some((e=>a.includes(e)||t.includes(e)||s.includes(e)))}));console.log(`First filter found ${r.length} products`),r.length<5&&(r=s.filter((e=>{const a=`${e.title} ${e.description} ${e.features}`.toLowerCase();return i.split(" ").some((e=>e.length>2&&a.includes(e)))})),console.log(`Relaxed filter found ${r.length} products`)),r.length<3&&(console.log("Not enough matches, showing all products"),r=s);const o=r.map((e=>{const t=a.toLowerCase();let i=.5;return t.includes("tech")&&(e.title.toLowerCase().includes("macbook")||e.title.toLowerCase().includes("headphones")||e.title.toLowerCase().includes("smart"))&&(i+=.3),t.includes("professional")&&(e.description.toLowerCase().includes("professional")||e.description.toLowerCase().includes("work"))&&(i+=.2),t.includes("quality")&&e.prosAndCons.pros.some((e=>e.toLowerCase().includes("quality")))&&(i+=.2),Object.assign({},e,{similarity:Math.min(i,.97)})}));o.sort(((e,a)=>a.similarity-e.similarity)),console.log(`Returning ${o.length} products`),t(o)}catch(i){console.error("Error searching products:",i),t([])}}),1e3)}))}async cleanup(){if(this.supabaseService)try{await this.supabaseService.cleanup()}catch(e){console.error("Error cleaning up Supabase service:",e)}if(this.databaseService)try{await this.databaseService.cleanup()}catch(e){console.error("Error cleaning up Prisma service:",e)}this.initialized=!1,this.supabaseAvailable=!1,this.databaseAvailable=!1,this.activeService="mock"}}},3799:(e,a,t)=>{t.r(a),t.d(a,{MOCK_PRODUCTS:()=>i});const i=[{id:"1",title:"Premium Wireless Headphones",price:"$299.99",link:"https://example.com/headphones",description:"High-quality wireless headphones with noise cancellation and premium sound quality.",features:"- Active noise cancellation\n- 30-hour battery life\n- Premium audio drivers\n- Comfortable over-ear design",whyBuy:"These headphones offer exceptional sound quality and comfort for long listening sessions.",reviews:{amazon:"Users love the sound quality and battery life. Some mention they are a bit heavy.",instagram:"Influencers praise the sleek design and noise cancellation features.",marketplace:"Highly rated for durability and customer service."},prosAndCons:{pros:["Excellent sound quality","Long battery life","Effective noise cancellation"],cons:["Premium price point","Slightly heavy for extended wear"]},lastUpdated:"2023-09-15",source:"Amazon"},{id:"2",title:"Smart Home Hub",price:"$129.99",link:"https://example.com/smarthub",description:"Central control for all your smart home devices with voice assistant integration.",features:"- Compatible with 100+ smart devices\n- Voice control\n- Scheduling and automation\n- Energy monitoring",whyBuy:"This hub simplifies managing all your smart home devices from one central interface.",reviews:{amazon:"Users appreciate the easy setup and wide compatibility.",instagram:"Tech reviewers highlight the intuitive app interface.",marketplace:"Buyers mention good value for the features offered."},prosAndCons:{pros:["Wide device compatibility","Easy setup","Reliable connection"],cons:["Limited advanced automation without subscription"]},lastUpdated:"2023-10-20",source:"Best Buy"},{id:"3",title:'Ultra HD Smart TV 55"',price:"$699.99",link:"https://example.com/tv",description:"Crystal clear 4K display with smart features and streaming apps built-in.",features:"- 4K Ultra HD resolution\n- HDR support\n- Built-in streaming apps\n- Voice remote",whyBuy:"This TV offers excellent picture quality and smart features at a competitive price point.",reviews:{amazon:"Customers love the picture quality and smart features.",instagram:"Tech influencers praise the value for money.",marketplace:"High ratings for picture quality and easy setup."},prosAndCons:{pros:["Excellent picture quality","User-friendly interface","Good value"],cons:["Sound could be better","Limited gaming features"]},lastUpdated:"2023-11-05",source:"Walmart"},{id:"4",title:"Professional Blender",price:"$199.99",link:"https://example.com/blender",description:"High-powered blender for smoothies, soups, and food processing.",features:"- 1500W motor\n- Variable speed control\n- Pulse function\n- Dishwasher-safe parts",whyBuy:"This blender can handle any blending task with ease and is built to last.",reviews:{amazon:"Customers praise its power and durability.",instagram:"Food bloggers love the versatility and consistent results.",marketplace:"High ratings for build quality and performance."},prosAndCons:{pros:["Powerful motor","Versatile functions","Easy to clean"],cons:["Loud operation","Takes up counter space"]},lastUpdated:"2023-08-12",source:"Target"},{id:"5",title:"Ergonomic Office Chair",price:"$249.99",link:"https://example.com/chair",description:"Adjustable office chair designed for comfort during long work sessions.",features:"- Adjustable lumbar support\n- Breathable mesh back\n- Adjustable armrests\n- 5-year warranty",whyBuy:"This chair provides excellent support for long work days and helps prevent back pain.",reviews:{amazon:"Users report reduced back pain and improved comfort.",instagram:"Work-from-home professionals recommend for all-day comfort.",marketplace:"Consistently rated highly for build quality and ergonomics."},prosAndCons:{pros:["Excellent lumbar support","Highly adjustable","Durable construction"],cons:["Assembly takes time","Premium price point"]},lastUpdated:"2023-07-30",source:"Office Depot"},{id:"6",title:"iPhone 15 Pro",price:"$999.00",link:"https://apple.com/iphone-15-pro",description:"Latest iPhone with titanium design, A17 Pro chip, and professional camera system.",features:"- A17 Pro chip\n- Titanium design\n- Pro camera system\n- USB-C connector\n- Action Button",whyBuy:"\ud83c\udf4e Latest iPhone with titanium design and pro features for creators and professionals.",reviews:{amazon:"Users love the titanium build and improved camera capabilities.",instagram:"Tech reviewers praise the natural titanium finish and USB-C upgrade.",marketplace:"High ratings for performance and camera quality."},prosAndCons:{pros:["Premium titanium design","Exceptional camera system","Professional features"],cons:["Premium pricing","No significant battery life improvement"]},lastUpdated:"2024-01-15",source:"Apple Store"},{id:"7",title:"Air Jordan 1 Retro High",price:"$170.00",link:"https://nike.com/jordan-1",description:"Iconic basketball sneaker with timeless design and premium leather construction.",features:"- Premium leather upper\n- Classic colorways\n- Air-Sole cushioning\n- Rubber outsole\n- Iconic silhouette",whyBuy:"\ud83c\udfc3\u200d\u2642\ufe0f Iconic basketball sneaker with timeless style that works with any outfit.",reviews:{amazon:"Customers love the classic style and quality leather construction.",instagram:"Sneaker enthusiasts consistently rank this as a must-have classic.",marketplace:"High ratings for style, comfort, and durability."},prosAndCons:{pros:["Timeless design","Premium materials","Versatile styling"],cons:["Can be stiff initially","Premium price point"]},lastUpdated:"2024-01-10",source:"Nike"},{id:"8",title:"Sony WH-1000XM5",price:"$399.00",link:"https://sony.com/headphones/wh-1000xm5",description:"Industry-leading noise canceling headphones with exceptional sound quality.",features:"- Industry-leading noise cancellation\n- 30-hour battery life\n- Multipoint connection\n- Speak-to-chat technology\n- Premium comfort",whyBuy:"\ud83c\udfb5 Industry-leading noise cancellation with premium sound quality for audiophiles.",reviews:{amazon:"Users consistently rate these as the best noise-canceling headphones available.",instagram:"Audio reviewers praise the natural sound signature and comfort.",marketplace:"Top ratings for noise cancellation and sound quality."},prosAndCons:{pros:["Best-in-class noise cancellation","Exceptional sound quality","All-day comfort"],cons:["Premium price","Touch controls can be sensitive"]},lastUpdated:"2024-01-05",source:"Sony"},{id:"9",title:"Dyson V15 Detect",price:"$749.00",link:"https://dyson.com/v15-detect",description:"Powerful cordless vacuum with laser dust detection and advanced filtration.",features:"- Laser dust detection\n- HEPA filtration\n- 60-minute runtime\n- LCD display\n- Multiple attachments",whyBuy:"\ud83c\udf2a\ufe0f Revolutionary laser technology reveals hidden dust for the most thorough clean.",reviews:{amazon:"Users are amazed by the laser feature showing dust they never knew existed.",instagram:"Home cleaning enthusiasts call it a game-changer for deep cleaning.",marketplace:"High ratings for suction power and innovative features."},prosAndCons:{pros:["Innovative laser detection","Powerful suction","Comprehensive filtration"],cons:["Premium price point","Heavy for extended use"]},lastUpdated:"2024-01-08",source:"Dyson"},{id:"10",title:"Samsung Galaxy S24 Ultra",price:"$1,199.00",link:"https://samsung.com/galaxy-s24-ultra",description:"Premium Android smartphone with S Pen, AI features, and professional cameras.",features:"- S Pen included\n- AI photo editing\n- 200MP main camera\n- 5000mAh battery\n- Titanium frame",whyBuy:"\ud83d\udcf1 Most advanced Android phone with S Pen and AI features for productivity.",reviews:{amazon:"Users love the S Pen functionality and camera versatility.",instagram:"Tech reviewers highlight the AI features and display quality.",marketplace:"High ratings for performance and camera capabilities."},prosAndCons:{pros:["S Pen functionality","Excellent cameras","Premium build quality"],cons:["Large size","Premium pricing"]},lastUpdated:"2024-01-12",source:"Samsung"}]}}]);
//# sourceMappingURL=257.c70cbe29.chunk.js.map